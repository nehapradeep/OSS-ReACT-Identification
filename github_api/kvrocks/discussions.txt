Discussions: [{'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': 'https://github.com/apache/kvrocks/discussions/319#discussioncomment-926025', 'answer_chosen_at': '2021-07-06T01:21:43.000Z', 'answer_chosen_by': {'login': 'ShooterIT', 'id': 18362176, 'node_id': 'MDQ6VXNlcjE4MzYyMTc2', 'avatar_url': 'https://avatars.githubusercontent.com/u/18362176?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/ShooterIT', 'html_url': 'https://github.com/ShooterIT', 'followers_url': 'https://api.github.com/users/ShooterIT/followers', 'following_url': 'https://api.github.com/users/ShooterIT/following{/other_user}', 'gists_url': 'https://api.github.com/users/ShooterIT/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/ShooterIT/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/ShooterIT/subscriptions', 'organizations_url': 'https://api.github.com/users/ShooterIT/orgs', 'repos_url': 'https://api.github.com/users/ShooterIT/repos', 'events_url': 'https://api.github.com/users/ShooterIT/events{/privacy}', 'received_events_url': 'https://api.github.com/users/ShooterIT/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'html_url': 'https://github.com/apache/kvrocks/discussions/319', 'id': 3432332, 'node_id': 'MDEwOkRpc2N1c3Npb24zNDMyMzMy', 'number': 319, 'title': 'Difference between kvrocks and pika', 'user': {'login': 'dongdongwcpp', 'id': 85050932, 'node_id': 'MDQ6VXNlcjg1MDUwOTMy', 'avatar_url': 'https://avatars.githubusercontent.com/u/85050932?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/dongdongwcpp', 'html_url': 'https://github.com/dongdongwcpp', 'followers_url': 'https://api.github.com/users/dongdongwcpp/followers', 'following_url': 'https://api.github.com/users/dongdongwcpp/following{/other_user}', 'gists_url': 'https://api.github.com/users/dongdongwcpp/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/dongdongwcpp/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/dongdongwcpp/subscriptions', 'organizations_url': 'https://api.github.com/users/dongdongwcpp/orgs', 'repos_url': 'https://api.github.com/users/dongdongwcpp/repos', 'events_url': 'https://api.github.com/users/dongdongwcpp/events{/privacy}', 'received_events_url': 'https://api.github.com/users/dongdongwcpp/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 3, 'created_at': '2021-06-17T02:04:17Z', 'updated_at': '2022-06-11T23:18:36Z', 'author_association': 'CONTRIBUTOR', 'active_lock_reason': None, 'body': 'What is the difference between pika and kvrocks? Does kvrocks provide better performance than pika?\r\nAny improvements on the blackwidow storage engine design？', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/319/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/319/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052985, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg1', 'repository_id': 202483348, 'emoji': ':mega:', 'name': 'Announcements', 'description': 'Updates from maintainers', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'announcements', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/318', 'id': 3427661, 'node_id': 'MDEwOkRpc2N1c3Npb24zNDI3NjYx', 'number': 318, 'title': 'Welcome to Kvrocks Discussions!', 'user': {'login': 'ShooterIT', 'id': 18362176, 'node_id': 'MDQ6VXNlcjE4MzYyMTc2', 'avatar_url': 'https://avatars.githubusercontent.com/u/18362176?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/ShooterIT', 'html_url': 'https://github.com/ShooterIT', 'followers_url': 'https://api.github.com/users/ShooterIT/followers', 'following_url': 'https://api.github.com/users/ShooterIT/following{/other_user}', 'gists_url': 'https://api.github.com/users/ShooterIT/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/ShooterIT/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/ShooterIT/subscriptions', 'organizations_url': 'https://api.github.com/users/ShooterIT/orgs', 'repos_url': 'https://api.github.com/users/ShooterIT/repos', 'events_url': 'https://api.github.com/users/ShooterIT/events{/privacy}', 'received_events_url': 'https://api.github.com/users/ShooterIT/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 0, 'created_at': '2021-06-24T03:29:13Z', 'updated_at': '2022-06-11T08:56:29Z', 'author_association': 'MEMBER', 'active_lock_reason': None, 'body': "<!--\r\n    ✏️ Optional: Customize the content below to let your community know what you intend to use Discussions for.\r\n-->\r\n## 👋 Welcome!\r\n  We’re using Discussions as a place to connect with other members of our community. We hope that you:\r\n  * Ask questions you’re wondering about.\r\n  * Share ideas.\r\n  * Engage with other community members.\r\n  * Welcome others and are open-minded. Remember that this is a community we\r\n  build together 💪.\r\n\r\n  To get started, comment below with an introduction of yourself and tell us about what you do with this community.\r\n\r\n<!--\r\n  For the maintainers, here are some tips 💡 for getting started with Discussions. We'll leave these in Markdown comments for now, but feel free to take out the comments for all maintainers to see.\r\n\r\n  📢 **Announce to your community** that Discussions is available! Go ahead and send that tweet, post, or link it from the website to drive traffic here.\r\n\r\n  🔗 If you use issue templates, **link any relevant issue templates** such as questions and community conversations to Discussions. Declutter your issues by driving community content to where they belong in Discussions. If you need help, here's a [link to the documentation](https://docs.github.com/en/github/building-a-strong-community/configuring-issue-templates-for-your-repository#configuring-the-template-chooser).\r\n\r\n  ➡️ You can **convert issues to discussions** either individually or bulk by labels. Looking at you, issues labeled “question” or “discussion”.\r\n-->\r\n", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/318/reactions', 'total_count': 1, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 1, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/318/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/389', 'id': 3671429, 'node_id': 'MDEwOkRpc2N1c3Npb24zNjcxNDI5', 'number': 389, 'title': 'any benchmark against redis?', 'user': {'login': 'hiqsociety', 'id': 51492452, 'node_id': 'MDQ6VXNlcjUxNDkyNDUy', 'avatar_url': 'https://avatars.githubusercontent.com/u/51492452?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/hiqsociety', 'html_url': 'https://github.com/hiqsociety', 'followers_url': 'https://api.github.com/users/hiqsociety/followers', 'following_url': 'https://api.github.com/users/hiqsociety/following{/other_user}', 'gists_url': 'https://api.github.com/users/hiqsociety/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/hiqsociety/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/hiqsociety/subscriptions', 'organizations_url': 'https://api.github.com/users/hiqsociety/orgs', 'repos_url': 'https://api.github.com/users/hiqsociety/repos', 'events_url': 'https://api.github.com/users/hiqsociety/events{/privacy}', 'received_events_url': 'https://api.github.com/users/hiqsociety/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 14, 'created_at': '2021-07-05T02:52:04Z', 'updated_at': '2023-09-07T10:01:36Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'any benchmark against redis?', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/389/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/389/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/350', 'id': 3491704, 'node_id': 'MDEwOkRpc2N1c3Npb24zNDkxNzA0', 'number': 350, 'title': 'what the name of the data folder, which is to be volumned in docker ?', 'user': {'login': 'corpusly', 'id': 87506440, 'node_id': 'MDQ6VXNlcjg3NTA2NDQw', 'avatar_url': 'https://avatars.githubusercontent.com/u/87506440?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/corpusly', 'html_url': 'https://github.com/corpusly', 'followers_url': 'https://api.github.com/users/corpusly/followers', 'following_url': 'https://api.github.com/users/corpusly/following{/other_user}', 'gists_url': 'https://api.github.com/users/corpusly/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/corpusly/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/corpusly/subscriptions', 'organizations_url': 'https://api.github.com/users/corpusly/orgs', 'repos_url': 'https://api.github.com/users/corpusly/repos', 'events_url': 'https://api.github.com/users/corpusly/events{/privacy}', 'received_events_url': 'https://api.github.com/users/corpusly/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 3, 'created_at': '2021-07-31T06:24:34Z', 'updated_at': '2023-05-03T01:20:38Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'docker run -itd  -v /mydata:??? -p 6666:6666 kvrocks/kvrocks', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/350/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/350/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/763', 'id': 4264441, 'node_id': 'MDEwOkRpc2N1c3Npb240MjY0NDQx', 'number': 763, 'title': '[QUESTION] Clarification on Redis version support', 'user': {'login': 'stopforumspam', 'id': 44541549, 'node_id': 'MDQ6VXNlcjQ0NTQxNTQ5', 'avatar_url': 'https://avatars.githubusercontent.com/u/44541549?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/stopforumspam', 'html_url': 'https://github.com/stopforumspam', 'followers_url': 'https://api.github.com/users/stopforumspam/followers', 'following_url': 'https://api.github.com/users/stopforumspam/following{/other_user}', 'gists_url': 'https://api.github.com/users/stopforumspam/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/stopforumspam/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/stopforumspam/subscriptions', 'organizations_url': 'https://api.github.com/users/stopforumspam/orgs', 'repos_url': 'https://api.github.com/users/stopforumspam/repos', 'events_url': 'https://api.github.com/users/stopforumspam/events{/privacy}', 'received_events_url': 'https://api.github.com/users/stopforumspam/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2021-08-24T08:15:58Z', 'updated_at': '2022-07-30T05:03:05Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': "I love kvrocks but it would be useful if there was a version vs Redis version support.  Whilst supported commands are listed, their Redis version isnt.\r\n\r\nE.g. LPOP in Redis 6.2 supports a [count] parameter, allowing for multiple records to be returned whilst kvrocks returns just a single record.\r\n\r\nI love would LPOP (etc) and all commands to be in line with Redis release but realise that this isn't going to be the case but it would be great if kvrocks published which Redis version each command is compatible with", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/763/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/763/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': 'https://github.com/apache/kvrocks/discussions/359#discussioncomment-1289072', 'answer_chosen_at': '2021-09-07T06:39:32.000Z', 'answer_chosen_by': {'login': 'git-hulk', 'id': 4987594, 'node_id': 'MDQ6VXNlcjQ5ODc1OTQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/4987594?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/git-hulk', 'html_url': 'https://github.com/git-hulk', 'followers_url': 'https://api.github.com/users/git-hulk/followers', 'following_url': 'https://api.github.com/users/git-hulk/following{/other_user}', 'gists_url': 'https://api.github.com/users/git-hulk/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/git-hulk/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/git-hulk/subscriptions', 'organizations_url': 'https://api.github.com/users/git-hulk/orgs', 'repos_url': 'https://api.github.com/users/git-hulk/repos', 'events_url': 'https://api.github.com/users/git-hulk/events{/privacy}', 'received_events_url': 'https://api.github.com/users/git-hulk/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'html_url': 'https://github.com/apache/kvrocks/discussions/359', 'id': 3558565, 'node_id': 'MDEwOkRpc2N1c3Npb24zNTU4NTY1', 'number': 359, 'title': 'kvrocks running on kubernetes', 'user': {'login': 'linydquantil', 'id': 37830766, 'node_id': 'MDQ6VXNlcjM3ODMwNzY2', 'avatar_url': 'https://avatars.githubusercontent.com/u/37830766?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/linydquantil', 'html_url': 'https://github.com/linydquantil', 'followers_url': 'https://api.github.com/users/linydquantil/followers', 'following_url': 'https://api.github.com/users/linydquantil/following{/other_user}', 'gists_url': 'https://api.github.com/users/linydquantil/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/linydquantil/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/linydquantil/subscriptions', 'organizations_url': 'https://api.github.com/users/linydquantil/orgs', 'repos_url': 'https://api.github.com/users/linydquantil/repos', 'events_url': 'https://api.github.com/users/linydquantil/events{/privacy}', 'received_events_url': 'https://api.github.com/users/linydquantil/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [{'id': 1501756908, 'node_id': 'MDU6TGFiZWwxNTAxNzU2OTA4', 'url': 'https://api.github.com/repos/apache/kvrocks/labels/help%20wanted', 'name': 'help wanted', 'color': '008672', 'default': True, 'description': 'Good for newcomers'}], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 7, 'created_at': '2021-09-07T02:10:34Z', 'updated_at': '2022-10-19T07:21:56Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Have you tried to run to K8s?\r\nIs there any experience to share?', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/359/reactions', 'total_count': 1, '+1': 1, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/359/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/388', 'id': 3671422, 'node_id': 'D_kwDODBGmlM4AOAV-', 'number': 388, 'title': 'How to implement the script kill command in kvrocks', 'user': {'login': 'git-hulk', 'id': 4987594, 'node_id': 'MDQ6VXNlcjQ5ODc1OTQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/4987594?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/git-hulk', 'html_url': 'https://github.com/git-hulk', 'followers_url': 'https://api.github.com/users/git-hulk/followers', 'following_url': 'https://api.github.com/users/git-hulk/following{/other_user}', 'gists_url': 'https://api.github.com/users/git-hulk/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/git-hulk/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/git-hulk/subscriptions', 'organizations_url': 'https://api.github.com/users/git-hulk/orgs', 'repos_url': 'https://api.github.com/users/git-hulk/repos', 'events_url': 'https://api.github.com/users/git-hulk/events{/privacy}', 'received_events_url': 'https://api.github.com/users/git-hulk/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2021-10-30T14:52:20Z', 'updated_at': '2023-04-23T05:20:44Z', 'author_association': 'MEMBER', 'active_lock_reason': None, 'body': "We have implemented the `eval`, `evalsha`, and script command, \r\nbut script subcommand `kill` was still investigated since it doesn't have an easy way to implement for kvrocks. \r\n\r\nThe first main obstacle was that kvrocks design internal has no way to process other clients' queries in the Lua hook function, so it can't process the `script kill` command since the Lua script was still running. The second was the kvrocks was a multi-threads model, and use a global lock to prevent the data race when running the Lua script, so we MUST yield the global lock to make other clients have a chance to execute the new query which was a bit tricky.\r\n\r\nChanging the kvrocks client's design wasn't impracticable and unnecessary for implementing the `script kill`, but We think it's important to stop the long-running Lua script without restartting the server.  A possible workaround was to kill the  Lua script when reaches the time limit(like `lua-time-limit` in Redis but SHOULD be another name).\r\n", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/388/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/388/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/399', 'id': 3694328, 'node_id': 'D_kwDODBGmlM4AOF74', 'number': 399, 'title': 'Support TTL of member', 'user': {'login': 'caipengbo', 'id': 19643013, 'node_id': 'MDQ6VXNlcjE5NjQzMDEz', 'avatar_url': 'https://avatars.githubusercontent.com/u/19643013?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/caipengbo', 'html_url': 'https://github.com/caipengbo', 'followers_url': 'https://api.github.com/users/caipengbo/followers', 'following_url': 'https://api.github.com/users/caipengbo/following{/other_user}', 'gists_url': 'https://api.github.com/users/caipengbo/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/caipengbo/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/caipengbo/subscriptions', 'organizations_url': 'https://api.github.com/users/caipengbo/orgs', 'repos_url': 'https://api.github.com/users/caipengbo/repos', 'events_url': 'https://api.github.com/users/caipengbo/events{/privacy}', 'received_events_url': 'https://api.github.com/users/caipengbo/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 2, 'created_at': '2021-11-19T08:01:10Z', 'updated_at': '2022-09-07T05:25:52Z', 'author_association': 'CONTRIBUTOR', 'active_lock_reason': None, 'body': '## Background\r\nKvrocks currently supports TTL(Time to Live) at the key level. In some scenarios, Users need members to support TTL. \r\n\r\n#283 also raises this issue. As @git-hulk said in this issue, the implementation is not particularly difficult, but the changes may be quite large because we should add new type and there are so many additional commands to support.\r\n\r\nHere are my design and implementation ideas that I would like to discuss with developers. I take `Hash` as an example:\r\n\r\n##  Design\r\n1. Add a new type, called `ExHash`\r\n2. Based on the coding design of `Hash` Type, we encode expire time in the value of subkey:\r\n\r\n```\r\n        +----------+------------+-----------+-----------+\r\nkey =>  |  flags   |  expire    |  version  |  size     |\r\n        | (1byte)  | (4byte)    |  (8byte)  | (8byte)   |\r\n        +----------+------------+-----------+-----------+\r\n```\r\n```\r\n                     +---------------+\r\nkey|version|field => |     value     |\r\n                     |     (Nbyte)   |\r\n                     +---------------+\r\n```\r\n```\r\n                     +----------+---------------+\r\nkey|version|field => |  expire  |   value       |\r\n                     |  (4byte) |  (Nbyte)      |\r\n                     +----------+---------------+\r\n```\r\n3. In addition to commands that have the same semantics as `Hash`, `ExHash` has the following **special** commands:\r\n\r\n| Command         | Syntax                                   | Description  |\r\n| ----------------- | --------------------------------------------- | ------------ |\r\n| EXHSETEX        | EXHSETEX key field value seconds | Adds a field with a second timeout to a specified ExHash. If the key does not exist, a key for the ExHash is created. If the field already existed, this command overwrites the value of the field.  |\r\n| EXHEXPIRE        | EXHEXPIRE key field seconds   | Specifies the timeout of a field in a specified ExHash. If the field timeout already existed, this command overwrites the timeout of the field. |\r\n| EXHEXPIREAT  | EXHEXPIREAT  key field timestamp   | Like EXHEXPIRE, just using unix timestamp. |\r\n| EXHTTL       | EXHTTL key field                     | Get the remaining expiration time of a field in a specified ExHash. Unit: Seconds. |\r\n| EXHPERSIST   | EXHPERSIST key field                 | Remove the timeout of a field in a specified ExHash. |\r\n\r\n## Implement\r\n1. Add a new `RedisType`, called `kRedisExHash`\r\n2. Modify the `InternalKey` class and add member variables about TTL to it. When users obtain corresponding values, they need to check expire\r\n3. In `SubKeyFilter::IsKeyExpired`, judge whether the Value expire', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/399/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/399/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': 'https://github.com/apache/kvrocks/discussions/400#discussioncomment-1677400', 'answer_chosen_at': '2021-11-22T00:58:53.000Z', 'answer_chosen_by': {'login': 'ShooterIT', 'id': 18362176, 'node_id': 'MDQ6VXNlcjE4MzYyMTc2', 'avatar_url': 'https://avatars.githubusercontent.com/u/18362176?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/ShooterIT', 'html_url': 'https://github.com/ShooterIT', 'followers_url': 'https://api.github.com/users/ShooterIT/followers', 'following_url': 'https://api.github.com/users/ShooterIT/following{/other_user}', 'gists_url': 'https://api.github.com/users/ShooterIT/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/ShooterIT/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/ShooterIT/subscriptions', 'organizations_url': 'https://api.github.com/users/ShooterIT/orgs', 'repos_url': 'https://api.github.com/users/ShooterIT/repos', 'events_url': 'https://api.github.com/users/ShooterIT/events{/privacy}', 'received_events_url': 'https://api.github.com/users/ShooterIT/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'html_url': 'https://github.com/apache/kvrocks/discussions/400', 'id': 3697373, 'node_id': 'D_kwDODBGmlM4AOGrd', 'number': 400, 'title': 'What’s the limit of members for a set in kvrocks?', 'user': {'login': 'adulau', 'id': 3309, 'node_id': 'MDQ6VXNlcjMzMDk=', 'avatar_url': 'https://avatars.githubusercontent.com/u/3309?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/adulau', 'html_url': 'https://github.com/adulau', 'followers_url': 'https://api.github.com/users/adulau/followers', 'following_url': 'https://api.github.com/users/adulau/following{/other_user}', 'gists_url': 'https://api.github.com/users/adulau/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/adulau/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/adulau/subscriptions', 'organizations_url': 'https://api.github.com/users/adulau/orgs', 'repos_url': 'https://api.github.com/users/adulau/repos', 'events_url': 'https://api.github.com/users/adulau/events{/privacy}', 'received_events_url': 'https://api.github.com/users/adulau/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2021-11-21T12:31:00Z', 'updated_at': '2022-06-08T07:03:08Z', 'author_association': 'CONTRIBUTOR', 'active_lock_reason': None, 'body': 'In Redis, there is a limit for the number elements in a set (around 4 billions). Is there the same limit in kvrocks or is this unlimited? ', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/400/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/400/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': 'https://github.com/apache/kvrocks/discussions/417#discussioncomment-1748900', 'answer_chosen_at': '2021-12-04T17:31:13.000Z', 'answer_chosen_by': {'login': 'adulau', 'id': 3309, 'node_id': 'MDQ6VXNlcjMzMDk=', 'avatar_url': 'https://avatars.githubusercontent.com/u/3309?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/adulau', 'html_url': 'https://github.com/adulau', 'followers_url': 'https://api.github.com/users/adulau/followers', 'following_url': 'https://api.github.com/users/adulau/following{/other_user}', 'gists_url': 'https://api.github.com/users/adulau/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/adulau/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/adulau/subscriptions', 'organizations_url': 'https://api.github.com/users/adulau/orgs', 'repos_url': 'https://api.github.com/users/adulau/repos', 'events_url': 'https://api.github.com/users/adulau/events{/privacy}', 'received_events_url': 'https://api.github.com/users/adulau/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'html_url': 'https://github.com/apache/kvrocks/discussions/417', 'id': 3722534, 'node_id': 'D_kwDODBGmlM4AOM0m', 'number': 417, 'title': '*SCAN and iterator as a string - Redis Python library fix', 'user': {'login': 'adulau', 'id': 3309, 'node_id': 'MDQ6VXNlcjMzMDk=', 'avatar_url': 'https://avatars.githubusercontent.com/u/3309?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/adulau', 'html_url': 'https://github.com/adulau', 'followers_url': 'https://api.github.com/users/adulau/followers', 'following_url': 'https://api.github.com/users/adulau/following{/other_user}', 'gists_url': 'https://api.github.com/users/adulau/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/adulau/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/adulau/subscriptions', 'organizations_url': 'https://api.github.com/users/adulau/orgs', 'repos_url': 'https://api.github.com/users/adulau/repos', 'events_url': 'https://api.github.com/users/adulau/events{/privacy}', 'received_events_url': 'https://api.github.com/users/adulau/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 4, 'created_at': '2021-12-04T10:04:17Z', 'updated_at': '2023-10-25T12:28:44Z', 'author_association': 'CONTRIBUTOR', 'active_lock_reason': None, 'body': "Hi All,\r\n\r\nI patched the official Python Redis library to support the `*SCAN`and iterator scans.\r\n\r\nhttps://github.com/hashlookup/redis-py/commit/e9c53fb1398e636106c0ec0165ba564943564a83\r\n\r\nIt's not very clear to me who is correct in this. As the Redis protocol returns a string but a standard Redis seems to return a long int as a string.\r\n\r\nThis fixes the Python Redis while using `*SCAN` on kvrocks back-end. So it works for me ;-)\r\n\r\nCheers\r\n", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/417/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/417/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': 'https://github.com/apache/kvrocks/discussions/466#discussioncomment-2039949', 'answer_chosen_at': '2022-01-26T05:58:23.000Z', 'answer_chosen_by': {'login': 'hongbo-miao', 'id': 3375461, 'node_id': 'MDQ6VXNlcjMzNzU0NjE=', 'avatar_url': 'https://avatars.githubusercontent.com/u/3375461?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/hongbo-miao', 'html_url': 'https://github.com/hongbo-miao', 'followers_url': 'https://api.github.com/users/hongbo-miao/followers', 'following_url': 'https://api.github.com/users/hongbo-miao/following{/other_user}', 'gists_url': 'https://api.github.com/users/hongbo-miao/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/hongbo-miao/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/hongbo-miao/subscriptions', 'organizations_url': 'https://api.github.com/users/hongbo-miao/orgs', 'repos_url': 'https://api.github.com/users/hongbo-miao/repos', 'events_url': 'https://api.github.com/users/hongbo-miao/events{/privacy}', 'received_events_url': 'https://api.github.com/users/hongbo-miao/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'html_url': 'https://github.com/apache/kvrocks/discussions/466', 'id': 3830921, 'node_id': 'D_kwDODBGmlM4AOnSJ', 'number': 466, 'title': 'Does Kvrocks support multiple data centers?', 'user': {'login': 'hongbo-miao', 'id': 3375461, 'node_id': 'MDQ6VXNlcjMzNzU0NjE=', 'avatar_url': 'https://avatars.githubusercontent.com/u/3375461?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/hongbo-miao', 'html_url': 'https://github.com/hongbo-miao', 'followers_url': 'https://api.github.com/users/hongbo-miao/followers', 'following_url': 'https://api.github.com/users/hongbo-miao/following{/other_user}', 'gists_url': 'https://api.github.com/users/hongbo-miao/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/hongbo-miao/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/hongbo-miao/subscriptions', 'organizations_url': 'https://api.github.com/users/hongbo-miao/orgs', 'repos_url': 'https://api.github.com/users/hongbo-miao/repos', 'events_url': 'https://api.github.com/users/hongbo-miao/events{/privacy}', 'received_events_url': 'https://api.github.com/users/hongbo-miao/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2022-01-24T22:20:01Z', 'updated_at': '2022-06-25T04:32:17Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': "I am doing some research about Redis solution supporting multiple data centers.\r\nI found Ctrip 携程 has a [Redis solution](https://github.com/ctripcorp/x-pipe) supporting multiple data centers.\r\n\r\nThen one of my friends recommends me Kvrocks!\r\nDoes Kvrocks support multiple data centers? I have read the README, but seems it didn't mention it.\r\nThanks! 😃", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/466/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/466/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': 'https://github.com/apache/kvrocks/discussions/475#discussioncomment-2146077', 'answer_chosen_at': '2022-02-10T09:37:23.000Z', 'answer_chosen_by': {'login': 'djotanov', 'id': 1794368, 'node_id': 'MDQ6VXNlcjE3OTQzNjg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/1794368?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/djotanov', 'html_url': 'https://github.com/djotanov', 'followers_url': 'https://api.github.com/users/djotanov/followers', 'following_url': 'https://api.github.com/users/djotanov/following{/other_user}', 'gists_url': 'https://api.github.com/users/djotanov/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/djotanov/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/djotanov/subscriptions', 'organizations_url': 'https://api.github.com/users/djotanov/orgs', 'repos_url': 'https://api.github.com/users/djotanov/repos', 'events_url': 'https://api.github.com/users/djotanov/events{/privacy}', 'received_events_url': 'https://api.github.com/users/djotanov/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'html_url': 'https://github.com/apache/kvrocks/discussions/475', 'id': 3866737, 'node_id': 'D_kwDODBGmlM4AOwBx', 'number': 475, 'title': 'Is it possible to set backup dir through config?', 'user': {'login': 'djotanov', 'id': 1794368, 'node_id': 'MDQ6VXNlcjE3OTQzNjg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/1794368?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/djotanov', 'html_url': 'https://github.com/djotanov', 'followers_url': 'https://api.github.com/users/djotanov/followers', 'following_url': 'https://api.github.com/users/djotanov/following{/other_user}', 'gists_url': 'https://api.github.com/users/djotanov/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/djotanov/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/djotanov/subscriptions', 'organizations_url': 'https://api.github.com/users/djotanov/orgs', 'repos_url': 'https://api.github.com/users/djotanov/repos', 'events_url': 'https://api.github.com/users/djotanov/events{/privacy}', 'received_events_url': 'https://api.github.com/users/djotanov/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 4, 'created_at': '2022-02-09T23:00:39Z', 'updated_at': '2022-06-20T04:13:20Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': "I was looking through the config file but I don't see a way to specify backup dir independently of data dir. Is there some undocumented way maybe? ", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/475/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/475/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': 'https://github.com/apache/kvrocks/discussions/477#discussioncomment-2146093', 'answer_chosen_at': '2022-02-10T09:37:07.000Z', 'answer_chosen_by': {'login': 'djotanov', 'id': 1794368, 'node_id': 'MDQ6VXNlcjE3OTQzNjg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/1794368?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/djotanov', 'html_url': 'https://github.com/djotanov', 'followers_url': 'https://api.github.com/users/djotanov/followers', 'following_url': 'https://api.github.com/users/djotanov/following{/other_user}', 'gists_url': 'https://api.github.com/users/djotanov/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/djotanov/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/djotanov/subscriptions', 'organizations_url': 'https://api.github.com/users/djotanov/orgs', 'repos_url': 'https://api.github.com/users/djotanov/repos', 'events_url': 'https://api.github.com/users/djotanov/events{/privacy}', 'received_events_url': 'https://api.github.com/users/djotanov/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'html_url': 'https://github.com/apache/kvrocks/discussions/477', 'id': 3866740, 'node_id': 'D_kwDODBGmlM4AOwB0', 'number': 477, 'title': 'Is it possible to send log output to system out instead of file?', 'user': {'login': 'djotanov', 'id': 1794368, 'node_id': 'MDQ6VXNlcjE3OTQzNjg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/1794368?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/djotanov', 'html_url': 'https://github.com/djotanov', 'followers_url': 'https://api.github.com/users/djotanov/followers', 'following_url': 'https://api.github.com/users/djotanov/following{/other_user}', 'gists_url': 'https://api.github.com/users/djotanov/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/djotanov/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/djotanov/subscriptions', 'organizations_url': 'https://api.github.com/users/djotanov/orgs', 'repos_url': 'https://api.github.com/users/djotanov/repos', 'events_url': 'https://api.github.com/users/djotanov/events{/privacy}', 'received_events_url': 'https://api.github.com/users/djotanov/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2022-02-09T23:02:58Z', 'updated_at': '2022-10-17T03:34:48Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Is it possible to send kvrocks logging output to system out instead of file?\r\nThis is needed in docker environment. ', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/477/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/477/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': 'https://github.com/apache/kvrocks/discussions/481#discussioncomment-2172477', 'answer_chosen_at': '2022-05-10T01:32:29.000Z', 'answer_chosen_by': {'login': 'tisonkun', 'id': 18818196, 'node_id': 'MDQ6VXNlcjE4ODE4MTk2', 'avatar_url': 'https://avatars.githubusercontent.com/u/18818196?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/tisonkun', 'html_url': 'https://github.com/tisonkun', 'followers_url': 'https://api.github.com/users/tisonkun/followers', 'following_url': 'https://api.github.com/users/tisonkun/following{/other_user}', 'gists_url': 'https://api.github.com/users/tisonkun/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/tisonkun/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/tisonkun/subscriptions', 'organizations_url': 'https://api.github.com/users/tisonkun/orgs', 'repos_url': 'https://api.github.com/users/tisonkun/repos', 'events_url': 'https://api.github.com/users/tisonkun/events{/privacy}', 'received_events_url': 'https://api.github.com/users/tisonkun/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'html_url': 'https://github.com/apache/kvrocks/discussions/481', 'id': 3873989, 'node_id': 'D_kwDODBGmlM4AOxzF', 'number': 481, 'title': 'Support for replica-announce-ip and replica-announce-port', 'user': {'login': 'djotanov', 'id': 1794368, 'node_id': 'MDQ6VXNlcjE3OTQzNjg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/1794368?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/djotanov', 'html_url': 'https://github.com/djotanov', 'followers_url': 'https://api.github.com/users/djotanov/followers', 'following_url': 'https://api.github.com/users/djotanov/following{/other_user}', 'gists_url': 'https://api.github.com/users/djotanov/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/djotanov/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/djotanov/subscriptions', 'organizations_url': 'https://api.github.com/users/djotanov/orgs', 'repos_url': 'https://api.github.com/users/djotanov/repos', 'events_url': 'https://api.github.com/users/djotanov/events{/privacy}', 'received_events_url': 'https://api.github.com/users/djotanov/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2022-02-13T13:26:05Z', 'updated_at': '2022-09-08T08:25:13Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': "In docker/kubernetes, instances don't have a fixed up. When working with dynamic IPs, sentinel will not work, unless kvrocks can be configured to announce DNS address of the instance (and mapped port if needed).\r\nDoes kvrocks support `replica-announce-ip' and 'replica-announce-port` properties (couldn't see them in config file)?\r\nRedis support these since 3.2 version.", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/481/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/481/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/483', 'id': 3873992, 'node_id': 'D_kwDODBGmlM4AOxzI', 'number': 483, 'title': 'Command to restore from backup', 'user': {'login': 'djotanov', 'id': 1794368, 'node_id': 'MDQ6VXNlcjE3OTQzNjg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/1794368?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/djotanov', 'html_url': 'https://github.com/djotanov', 'followers_url': 'https://api.github.com/users/djotanov/followers', 'following_url': 'https://api.github.com/users/djotanov/following{/other_user}', 'gists_url': 'https://api.github.com/users/djotanov/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/djotanov/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/djotanov/subscriptions', 'organizations_url': 'https://api.github.com/users/djotanov/orgs', 'repos_url': 'https://api.github.com/users/djotanov/repos', 'events_url': 'https://api.github.com/users/djotanov/events{/privacy}', 'received_events_url': 'https://api.github.com/users/djotanov/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 10, 'created_at': '2022-02-13T13:29:04Z', 'updated_at': '2022-12-28T17:00:13Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Are there any plans to implement a new command for restoring from last backup?\r\nI know that redis does not have this command, but it would be very useful for kvrocks to have it (something like RESTORE_LAST_BACKUP).', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/483/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/483/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/591', 'id': 4084287, 'node_id': 'D_kwDODBGmlM4APlI_', 'number': 591, 'title': 'How to import redis rdb file to kvrocks?', 'user': {'login': 'seaguest', 'id': 498853, 'node_id': 'MDQ6VXNlcjQ5ODg1Mw==', 'avatar_url': 'https://avatars.githubusercontent.com/u/498853?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/seaguest', 'html_url': 'https://github.com/seaguest', 'followers_url': 'https://api.github.com/users/seaguest/followers', 'following_url': 'https://api.github.com/users/seaguest/following{/other_user}', 'gists_url': 'https://api.github.com/users/seaguest/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/seaguest/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/seaguest/subscriptions', 'organizations_url': 'https://api.github.com/users/seaguest/orgs', 'repos_url': 'https://api.github.com/users/seaguest/repos', 'events_url': 'https://api.github.com/users/seaguest/events{/privacy}', 'received_events_url': 'https://api.github.com/users/seaguest/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 2, 'created_at': '2022-05-19T05:34:03Z', 'updated_at': '2023-05-29T11:43:22Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': "Hello,\r\n\r\nI want to switch to kvrocks from redis, I tried to find a way to import data from rdb but I can't find any documentation on that.\r\n\r\nHow can I do that?", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/591/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/591/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/597', 'id': 4086634, 'node_id': 'D_kwDODBGmlM4APltq', 'number': 597, 'title': "What's the best practice of deployment?", 'user': {'login': 'seaguest', 'id': 498853, 'node_id': 'MDQ6VXNlcjQ5ODg1Mw==', 'avatar_url': 'https://avatars.githubusercontent.com/u/498853?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/seaguest', 'html_url': 'https://github.com/seaguest', 'followers_url': 'https://api.github.com/users/seaguest/followers', 'following_url': 'https://api.github.com/users/seaguest/following{/other_user}', 'gists_url': 'https://api.github.com/users/seaguest/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/seaguest/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/seaguest/subscriptions', 'organizations_url': 'https://api.github.com/users/seaguest/orgs', 'repos_url': 'https://api.github.com/users/seaguest/repos', 'events_url': 'https://api.github.com/users/seaguest/events{/privacy}', 'received_events_url': 'https://api.github.com/users/seaguest/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 0, 'created_at': '2022-05-20T03:14:31Z', 'updated_at': '2022-09-08T16:32:56Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Hello,\r\n\r\nI have deployed kvrocks on AWS ec2 with 2C4G+200G SSD.\r\nI just changed the dir in conf: \r\n```\r\ndir /data/kvrocks\r\n```\r\nI saw the cpu of kvrocks is quite low, however the memory keeps growing and it does have the same value as used_memory_human.\r\n\r\nWhat if used_memory_human exceeds the ram size?\r\n\r\nAny best practice of deployment on limited machine resource?\r\n\r\n', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/597/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/597/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': 'https://github.com/apache/kvrocks/discussions/604#discussioncomment-2804824', 'answer_chosen_at': '2022-05-24T05:52:00.000Z', 'answer_chosen_by': {'login': 'torwig', 'id': 8588372, 'node_id': 'MDQ6VXNlcjg1ODgzNzI=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8588372?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/torwig', 'html_url': 'https://github.com/torwig', 'followers_url': 'https://api.github.com/users/torwig/followers', 'following_url': 'https://api.github.com/users/torwig/following{/other_user}', 'gists_url': 'https://api.github.com/users/torwig/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/torwig/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/torwig/subscriptions', 'organizations_url': 'https://api.github.com/users/torwig/orgs', 'repos_url': 'https://api.github.com/users/torwig/repos', 'events_url': 'https://api.github.com/users/torwig/events{/privacy}', 'received_events_url': 'https://api.github.com/users/torwig/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'html_url': 'https://github.com/apache/kvrocks/discussions/604', 'id': 4092927, 'node_id': 'D_kwDODBGmlM4APnP_', 'number': 604, 'title': 'Does DEL command delete all the elements of list/set/zset/etc ?', 'user': {'login': 'torwig', 'id': 8588372, 'node_id': 'MDQ6VXNlcjg1ODgzNzI=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8588372?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/torwig', 'html_url': 'https://github.com/torwig', 'followers_url': 'https://api.github.com/users/torwig/followers', 'following_url': 'https://api.github.com/users/torwig/following{/other_user}', 'gists_url': 'https://api.github.com/users/torwig/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/torwig/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/torwig/subscriptions', 'organizations_url': 'https://api.github.com/users/torwig/orgs', 'repos_url': 'https://api.github.com/users/torwig/repos', 'events_url': 'https://api.github.com/users/torwig/events{/privacy}', 'received_events_url': 'https://api.github.com/users/torwig/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 4, 'created_at': '2022-05-23T13:29:09Z', 'updated_at': '2022-05-24T05:52:00Z', 'author_association': 'CONTRIBUTOR', 'active_lock_reason': None, 'body': 'According to https://github.com/apache/incubator-kvrocks/blob/unstable/src/redis_db.cc#L117 : \r\n\r\n```\r\nrocksdb::Status Database::Del(const Slice &user_key) {\r\n  std::string ns_key;\r\n  AppendNamespacePrefix(user_key, &ns_key);\r\n\r\n  std::string value;\r\n  LockGuard guard(storage_->GetLockManager(), ns_key);\r\n  rocksdb::Status s = db_->Get(rocksdb::ReadOptions(), metadata_cf_handle_, ns_key, &value);\r\n  if (!s.ok()) return s;\r\n  Metadata metadata(kRedisNone, false);\r\n  metadata.Decode(value);\r\n  if (metadata.Expired()) {\r\n    return rocksdb::Status::NotFound(kErrMsgKeyExpired);\r\n  }\r\n  return storage_->Delete(rocksdb::WriteOptions(), metadata_cf_handle_, ns_key);\r\n}\r\n```\r\n\r\n`DEL` command only deletes metadata of the list/set/zset. \r\nWhat about the elements of the deleted list/set/zset? Do they stay in the storage?\r\n', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/604/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/604/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/615', 'id': 4112269, 'node_id': 'D_kwDODBGmlM4APr-N', 'number': 615, 'title': 'error while loading shared libraries: libglog.so.1: cannot open shared object file: No such file or directory', 'user': {'login': 'luger1990', 'id': 2096878, 'node_id': 'MDQ6VXNlcjIwOTY4Nzg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/2096878?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/luger1990', 'html_url': 'https://github.com/luger1990', 'followers_url': 'https://api.github.com/users/luger1990/followers', 'following_url': 'https://api.github.com/users/luger1990/following{/other_user}', 'gists_url': 'https://api.github.com/users/luger1990/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/luger1990/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/luger1990/subscriptions', 'organizations_url': 'https://api.github.com/users/luger1990/orgs', 'repos_url': 'https://api.github.com/users/luger1990/repos', 'events_url': 'https://api.github.com/users/luger1990/events{/privacy}', 'received_events_url': 'https://api.github.com/users/luger1990/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 12, 'created_at': '2022-06-01T08:40:07Z', 'updated_at': '2022-08-20T01:10:30Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': "i want to build kvrocks once, and scp  './build/kvrocks' file to other machines. but at other machines if i start kvrocks, it shows 'error while loading shared libraries: libglog.so.1: cannot open shared object file: No such file or directory'\r\nshould i build at every machine? and it it too large size,like below:\r\n```\r\n8.0K\tCMakeLists.txt\r\n8.0K\tCODE_OF_CONDUCT.md\r\n4.0K\tCONTRIBUTING\r\n12K\tChangelog\r\n4.0K\tDISCLAIMER\r\n4.0K\tDockerfile\r\n12K\tLICENSE\r\n4.0K\tNOTICE\r\n8.0K\tREADME.md\r\n2.6G\tbuild\r\n4.0K\tbuild.sh\r\n56K\tcmake\r\n4.0K\tcppcheck.sh\r\n4.0K\tcpplint.sh\r\n320K\tdocs\r\n28K\tkvrocks.conf\r\n8.0K\tlicenses\r\n4.0K\tpackage.sh\r\n1.1M\tsrc\r\n8.0K\tsystemd\r\n908K\ttests\r\n124K\ttools\r\n```\r\nthe fold of build is 2.6G, it is too large.\r\n\r\n```\r\nroot@bhh77n3:/tmp/incubator-kvrocks/build/_deps# find . -name libglog.so.1\r\n./glog-build/libglog.so.1\r\n```", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/615/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/615/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/625', 'id': 4128552, 'node_id': 'D_kwDODBGmlM4APv8o', 'number': 625, 'title': 'Benchmark between make and ninja build for kvrocks', 'user': {'login': 'PragmaTwice', 'id': 20042607, 'node_id': 'MDQ6VXNlcjIwMDQyNjA3', 'avatar_url': 'https://avatars.githubusercontent.com/u/20042607?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/PragmaTwice', 'html_url': 'https://github.com/PragmaTwice', 'followers_url': 'https://api.github.com/users/PragmaTwice/followers', 'following_url': 'https://api.github.com/users/PragmaTwice/following{/other_user}', 'gists_url': 'https://api.github.com/users/PragmaTwice/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/PragmaTwice/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/PragmaTwice/subscriptions', 'organizations_url': 'https://api.github.com/users/PragmaTwice/orgs', 'repos_url': 'https://api.github.com/users/PragmaTwice/repos', 'events_url': 'https://api.github.com/users/PragmaTwice/events{/privacy}', 'received_events_url': 'https://api.github.com/users/PragmaTwice/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [{'id': 1501756907, 'node_id': 'MDU6TGFiZWwxNTAxNzU2OTA3', 'url': 'https://api.github.com/repos/apache/kvrocks/labels/enhancement', 'name': 'enhancement', 'color': 'a2eeef', 'default': True, 'description': 'type enhancement'}], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 6, 'created_at': '2022-06-08T15:06:17Z', 'updated_at': '2022-06-08T15:32:31Z', 'author_association': 'MEMBER', 'active_lock_reason': None, 'body': '### Motivation\r\n\r\nIn #621, @tisonkun came up with a great idea: benchmark ninja build and make build of kvrocks.\r\nI did this test after making some fixes to make cmake configuration of kvrocks support ninja. \r\nA PR for that will follow.\r\n\r\n### Preparation\r\n```sh\r\nmkdir bm-make-build && cd bm-make-build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDbgInfo\r\nmkdir bm-ninja-build && cd bm-ninja-build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDbgInfo -G Ninja\r\n```\r\n\r\n### Clean Build\r\n```sh\r\n$ hyperfine -r 1 "cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest" "cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest"\r\nBenchmark 1: cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest\r\n  Time (abs ≡):        186.883 s               [User: 1139.316 s, System: 62.312 s]\r\n \r\nBenchmark 2: cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest\r\n  Time (abs ≡):        212.749 s               [User: 1129.823 s, System: 60.877 s]\r\n \r\nSummary\r\n  \'cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest\' ran\r\n    1.14 times faster than \'cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest\'\r\n```\r\n\r\n### No-op Incremental Build\r\n```sh\r\n$ hyperfine -r 1 "cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest" "cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest"\r\nBenchmark 1: cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest\r\n  Time (abs ≡):        657.1 ms               [User: 707.8 ms, System: 224.1 ms]\r\n \r\nBenchmark 2: cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest\r\n  Time (abs ≡):         39.0 ms               [User: 25.7 ms, System: 17.7 ms]\r\n \r\nSummary\r\n  \'cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest\' ran\r\n   16.86 times faster than \'cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest\r\n```\r\n\r\n### Incremental Build after modifying a source file\r\n```sh\r\n$ hyperfine -r 1 "cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest" "cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest"\r\nBenchmark 1: cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest\r\n  Time (abs ≡):        16.158 s               [User: 14.762 s, System: 1.640 s]\r\n \r\nBenchmark 2: cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest\r\n  Time (abs ≡):         6.797 s               [User: 16.019 s, System: 1.530 s]\r\n \r\nSummary\r\n  \'cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest\' ran\r\n    2.38 times faster than \'cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest\'\r\n```\r\n\r\n### Incremental Build after modifying a header file\r\n```sh\r\n$ hyperfine -r 1 "cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest" "cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest"\r\nBenchmark 1: cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest\r\n  Time (abs ≡):        39.906 s               [User: 143.227 s, System: 7.891 s]\r\n \r\nBenchmark 2: cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest\r\n  Time (abs ≡):        27.103 s               [User: 163.895 s, System: 8.882 s]\r\n \r\nSummary\r\n  \'cd bm-ninja-build; ninja -j8 kvrocks kvrocks2redis unittest\' ran\r\n    1.47 times faster than \'cd bm-make-build; make -j8 kvrocks kvrocks2redis unittest\'\r\n```\r\n\r\n### Conclusion\r\nAs you can see, ninja is slightly slower than make build in clean build, but has huge advantages in incremental build, which is very friendly to kvrocks developers who need to do frequent incremental builds.\r\n\r\nI would like to make kvrocks use make by default, but have a `--ninja` option to enable ninja.', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/625/reactions', 'total_count': 1, '+1': 1, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/625/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/629', 'id': 4140301, 'node_id': 'D_kwDODBGmlM4APy0N', 'number': 629, 'title': 'is there any plan to support Telegraf to collect data of kvrocks', 'user': {'login': 'luger1990', 'id': 2096878, 'node_id': 'MDQ6VXNlcjIwOTY4Nzg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/2096878?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/luger1990', 'html_url': 'https://github.com/luger1990', 'followers_url': 'https://api.github.com/users/luger1990/followers', 'following_url': 'https://api.github.com/users/luger1990/following{/other_user}', 'gists_url': 'https://api.github.com/users/luger1990/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/luger1990/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/luger1990/subscriptions', 'organizations_url': 'https://api.github.com/users/luger1990/orgs', 'repos_url': 'https://api.github.com/users/luger1990/repos', 'events_url': 'https://api.github.com/users/luger1990/events{/privacy}', 'received_events_url': 'https://api.github.com/users/luger1990/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2022-06-13T10:42:14Z', 'updated_at': '2022-06-13T11:50:00Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'we use tig stack to collect data . is there any plan to support Telegraf to collect data of kvrocks. ', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/629/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/629/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/631', 'id': 4143148, 'node_id': 'D_kwDODBGmlM4APzgs', 'number': 631, 'title': 'Maybe the build directory should be added to .gitignore file?', 'user': {'login': 'gogim1', 'id': 10893839, 'node_id': 'MDQ6VXNlcjEwODkzODM5', 'avatar_url': 'https://avatars.githubusercontent.com/u/10893839?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/gogim1', 'html_url': 'https://github.com/gogim1', 'followers_url': 'https://api.github.com/users/gogim1/followers', 'following_url': 'https://api.github.com/users/gogim1/following{/other_user}', 'gists_url': 'https://api.github.com/users/gogim1/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/gogim1/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/gogim1/subscriptions', 'organizations_url': 'https://api.github.com/users/gogim1/orgs', 'repos_url': 'https://api.github.com/users/gogim1/repos', 'events_url': 'https://api.github.com/users/gogim1/events{/privacy}', 'received_events_url': 'https://api.github.com/users/gogim1/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'locked', 'state_reason': None, 'locked': True, 'comments': 2, 'created_at': '2022-06-14T10:14:17Z', 'updated_at': '2022-06-20T10:27:18Z', 'author_association': 'CONTRIBUTOR', 'active_lock_reason': 'resolved', 'body': 'According to [README.md](https://github.com/apache/incubator-kvrocks/blob/unstable/README.md#building-kvrocks), there will be lots of untracked files in the `build` directory after ` ./build.sh build `', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/631/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/631/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/670', 'id': 4172167, 'node_id': 'D_kwDODBGmlM4AP6mH', 'number': 670, 'title': 'Replace lua with luajit', 'user': {'login': 'xiaobiaozhao', 'id': 52393536, 'node_id': 'MDQ6VXNlcjUyMzkzNTM2', 'avatar_url': 'https://avatars.githubusercontent.com/u/52393536?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/xiaobiaozhao', 'html_url': 'https://github.com/xiaobiaozhao', 'followers_url': 'https://api.github.com/users/xiaobiaozhao/followers', 'following_url': 'https://api.github.com/users/xiaobiaozhao/following{/other_user}', 'gists_url': 'https://api.github.com/users/xiaobiaozhao/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/xiaobiaozhao/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/xiaobiaozhao/subscriptions', 'organizations_url': 'https://api.github.com/users/xiaobiaozhao/orgs', 'repos_url': 'https://api.github.com/users/xiaobiaozhao/repos', 'events_url': 'https://api.github.com/users/xiaobiaozhao/events{/privacy}', 'received_events_url': 'https://api.github.com/users/xiaobiaozhao/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 13, 'created_at': '2022-06-25T09:38:34Z', 'updated_at': '2022-06-27T13:44:12Z', 'author_association': 'CONTRIBUTOR', 'active_lock_reason': None, 'body': '**Luajit has better performance and I think luajit can be used instead of Lua**\r\n\r\n**Luajit official performance report**\r\nhttps://luajit.org/performance_x86.html\r\n\r\n**luajit vs c**\r\nhttps://mp.weixin.qq.com/s/MDTb9SSkdnOm5VIMEjA9QA\r\n\r\n1. If use luajit insteand of lua，kvrocks can run a lua scripte in db side.\r\n2. If lua scripte has high performance，user can move some logic to kvrocks, less network traffic betten db and client.', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/670/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/670/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/693', 'id': 4181197, 'node_id': 'D_kwDODBGmlM4AP8zN', 'number': 693, 'title': 'Integration tests in Rust', 'user': {'login': 'tisonkun', 'id': 18818196, 'node_id': 'MDQ6VXNlcjE4ODE4MTk2', 'avatar_url': 'https://avatars.githubusercontent.com/u/18818196?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/tisonkun', 'html_url': 'https://github.com/tisonkun', 'followers_url': 'https://api.github.com/users/tisonkun/followers', 'following_url': 'https://api.github.com/users/tisonkun/following{/other_user}', 'gists_url': 'https://api.github.com/users/tisonkun/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/tisonkun/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/tisonkun/subscriptions', 'organizations_url': 'https://api.github.com/users/tisonkun/orgs', 'repos_url': 'https://api.github.com/users/tisonkun/repos', 'events_url': 'https://api.github.com/users/tisonkun/events{/privacy}', 'received_events_url': 'https://api.github.com/users/tisonkun/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2022-06-29T09:08:40Z', 'updated_at': '2022-07-04T14:55:35Z', 'author_association': 'MEMBER', 'active_lock_reason': None, 'body': "Reference:\r\n\r\n* https://github.com/redis-rs/redis-rs/blob/c21c2df6d8e18fbaab06de5b3d6617f72bf6c6e8/tests/test_acl.rs\r\n* https://github.com/redis-rs/redis-rs/blob/c21c2df6d8e18fbaab06de5b3d6617f72bf6c6e8/.github/workflows/rust.yml\r\n\r\nTCL tests are somehow hard to debug, and here is a potential alternative provided by redis-rs. Although, I didn't spend too much time on this part now. Perhaps I'll update this thread with a prototype later :P", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/693/reactions', 'total_count': 5, '+1': 5, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/693/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/712', 'id': 4191333, 'node_id': 'D_kwDODBGmlM4AP_Rl', 'number': 712, 'title': 'Error while building kvorkcs ,it sames that downloading jemalloc failed', 'user': {'login': 'sjpcg', 'id': 64124145, 'node_id': 'MDQ6VXNlcjY0MTI0MTQ1', 'avatar_url': 'https://avatars.githubusercontent.com/u/64124145?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/sjpcg', 'html_url': 'https://github.com/sjpcg', 'followers_url': 'https://api.github.com/users/sjpcg/followers', 'following_url': 'https://api.github.com/users/sjpcg/following{/other_user}', 'gists_url': 'https://api.github.com/users/sjpcg/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/sjpcg/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/sjpcg/subscriptions', 'organizations_url': 'https://api.github.com/users/sjpcg/orgs', 'repos_url': 'https://api.github.com/users/sjpcg/repos', 'events_url': 'https://api.github.com/users/sjpcg/events{/privacy}', 'received_events_url': 'https://api.github.com/users/sjpcg/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 7, 'created_at': '2022-07-04T03:59:15Z', 'updated_at': '2022-07-04T07:27:55Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Error Detail  as below:\r\n[ 11%] Creating directories for \'jemalloc-populate\'\r\n[ 22%] Performing download step (download, verify and extract) for \'jemalloc-populate\'\r\n-- Downloading...\r\n   dst=\'/data0/kvrocks/incubator-kvrocks/build/_deps/jemalloc-subbuild/jemalloc-populate-prefix/src/12cd13cd418512d9e7596921ccdb62e25a103f87.zip\'\r\n   timeout=\'none\'\r\n   inactivity timeout=\'none\'\r\n-- Using src=\'https://github.com/jemalloc/jemalloc/archive/12cd13cd418512d9e7596921ccdb62e25a103f87.zip\'\r\nCMake Error at jemalloc-subbuild/jemalloc-populate-prefix/src/jemalloc-populate-stamp/download-jemalloc-populate.cmake:170 (message):\r\n  Each download failed!\r\n\r\n    error: downloading \'https://github.com/jemalloc/jemalloc/archive/12cd13cd418512d9e7596921ccdb62e25a103f87.zip\' failed\r\n          status_code: 1\r\n          status_string: "Unsupported protocol"\r\n          log:\r\n          --- LOG BEGIN ---\r\n          Protocol "https" not supported or disabled in libcurl\r\n\r\n  Closing connection -1\r\n\r\n  \r\n\r\n          --- LOG END ---\r\n          \r\n    \r\n\r\n\r\ngmake[2]: *** [jemalloc-populate-prefix/src/jemalloc-populate-stamp/jemalloc-populate-download] Error 1\r\ngmake[1]: *** [CMakeFiles/jemalloc-populate.dir/all] Error 2\r\ngmake: *** [all] Error 2\r\n\r\nCMake Error at build/cmake/share/cmake-3.23/Modules/FetchContent.cmake:1088 (message):\r\n  Build step for jemalloc failed: 2\r\nCall Stack (most recent call first):\r\n  build/cmake/share/cmake-3.23/Modules/FetchContent.cmake:1217:EVAL:2 (__FetchContent_directPopulate)\r\n  build/cmake/share/cmake-3.23/Modules/FetchContent.cmake:1217 (cmake_language)\r\n  cmake/jemalloc.cmake:29 (FetchContent_Populate)\r\n  CMakeLists.txt:50 (include)\r\n\r\n\r\n-- Configuring incomplete, errors occurred!\r\nSee also "/data0/kvrocks/incubator-kvrocks/build/CMakeFiles/CMakeOutput.log".\r\n', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/712/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/712/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/719', 'id': 4196530, 'node_id': 'D_kwDODBGmlM4AQAiy', 'number': 719, 'title': 'replace unique_ptr constructor with `MakeUnique` or `UniqueIterator`', 'user': {'login': 'gogim1', 'id': 10893839, 'node_id': 'MDQ6VXNlcjEwODkzODM5', 'avatar_url': 'https://avatars.githubusercontent.com/u/10893839?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/gogim1', 'html_url': 'https://github.com/gogim1', 'followers_url': 'https://api.github.com/users/gogim1/followers', 'following_url': 'https://api.github.com/users/gogim1/following{/other_user}', 'gists_url': 'https://api.github.com/users/gogim1/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/gogim1/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/gogim1/subscriptions', 'organizations_url': 'https://api.github.com/users/gogim1/orgs', 'repos_url': 'https://api.github.com/users/gogim1/repos', 'events_url': 'https://api.github.com/users/gogim1/events{/privacy}', 'received_events_url': 'https://api.github.com/users/gogim1/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2022-07-06T05:11:31Z', 'updated_at': '2022-07-06T06:23:09Z', 'author_association': 'CONTRIBUTOR', 'active_lock_reason': None, 'body': "ref https://github.com/apache/incubator-kvrocks/pull/711#discussion_r913359020\r\nref https://github.com/apache/incubator-kvrocks/pull/703#discussion_r912320795\r\n\r\nI noticed there are many places in the code base where used the unique_ptr constructor directly instead of using `MakeUnique` and `UniqueIterator`. Do we need to replace them all? I wonder if this fix is worth PRs as it is too trivial and doesn't seem to bring performance benefits.", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/719/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/719/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052986, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg2', 'repository_id': 202483348, 'emoji': ':speech_balloon:', 'name': 'General', 'description': 'Chat about anything and everything here', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'general', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/720', 'id': 4200247, 'node_id': 'D_kwDODBGmlM4AQBc3', 'number': 720, 'title': 'add EVAL_RO & EVALSHA_RO', 'user': {'login': 'xiaobiaozhao', 'id': 52393536, 'node_id': 'MDQ6VXNlcjUyMzkzNTM2', 'avatar_url': 'https://avatars.githubusercontent.com/u/52393536?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/xiaobiaozhao', 'html_url': 'https://github.com/xiaobiaozhao', 'followers_url': 'https://api.github.com/users/xiaobiaozhao/followers', 'following_url': 'https://api.github.com/users/xiaobiaozhao/following{/other_user}', 'gists_url': 'https://api.github.com/users/xiaobiaozhao/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/xiaobiaozhao/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/xiaobiaozhao/subscriptions', 'organizations_url': 'https://api.github.com/users/xiaobiaozhao/orgs', 'repos_url': 'https://api.github.com/users/xiaobiaozhao/repos', 'events_url': 'https://api.github.com/users/xiaobiaozhao/events{/privacy}', 'received_events_url': 'https://api.github.com/users/xiaobiaozhao/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 1, 'created_at': '2022-07-07T13:06:08Z', 'updated_at': '2022-07-12T02:03:09Z', 'author_association': 'CONTRIBUTOR', 'active_lock_reason': None, 'body': "1. Each worker thread contains a Lua VM, the Lua VM shared with all connections on this thread. This VM specifically executes the EVAL_RO command.\r\n2. Each connection's commends is pipeline runing.\r\n3. Each worker's connetions send a lot of commands to kvrocks at the same time, but the same thread will exec command one by one. So the same thread can share one Lua VM.\r\n\r\n![image](https://user-images.githubusercontent.com/52393536/177780481-05ae59e9-8778-4f69-8f6a-0f5387e75b0f.png)\r\n", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/720/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/720/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/726', 'id': 4209446, 'node_id': 'D_kwDODBGmlM4AQDsm', 'number': 726, 'title': 'Do we have the separate metrics for each namespace', 'user': {'login': 'rex0654335', 'id': 5621609, 'node_id': 'MDQ6VXNlcjU2MjE2MDk=', 'avatar_url': 'https://avatars.githubusercontent.com/u/5621609?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/rex0654335', 'html_url': 'https://github.com/rex0654335', 'followers_url': 'https://api.github.com/users/rex0654335/followers', 'following_url': 'https://api.github.com/users/rex0654335/following{/other_user}', 'gists_url': 'https://api.github.com/users/rex0654335/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/rex0654335/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/rex0654335/subscriptions', 'organizations_url': 'https://api.github.com/users/rex0654335/orgs', 'repos_url': 'https://api.github.com/users/rex0654335/repos', 'events_url': 'https://api.github.com/users/rex0654335/events{/privacy}', 'received_events_url': 'https://api.github.com/users/rex0654335/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 2, 'created_at': '2022-07-12T01:45:13Z', 'updated_at': '2022-07-27T04:24:54Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': "We are using the namespace to separate data between users and it works well.\r\nBut the metrics from the `info command stats` didn't separate by namespace as well.\r\nAs a user, we want to know the speed of commands for each namespace. \r\n\r\n用了namespace 来隔离业务，这个功能很不错。\r\n通过info command stats 来看所有namespace的执行命令统计是合起来的，\r\n有没有独立统计的指标，适用场景：区分namespace 分别执行了哪些命令，频率是多少，方便后期定位问题", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/726/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/726/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33052987, 'node_id': 'MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDUyOTg3', 'repository_id': 202483348, 'emoji': ':pray:', 'name': 'Q&A', 'description': 'Ask the community for help', 'created_at': '2021-06-24T03:27:38.000Z', 'updated_at': '2021-06-24T03:27:38.000Z', 'slug': 'q-a', 'is_answerable': True}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/728', 'id': 4214097, 'node_id': 'D_kwDODBGmlM4AQE1R', 'number': 728, 'title': 'Master node got unresponsive after restart one of the replicas', 'user': {'login': 'ethervoid', 'id': 741240, 'node_id': 'MDQ6VXNlcjc0MTI0MA==', 'avatar_url': 'https://avatars.githubusercontent.com/u/741240?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/ethervoid', 'html_url': 'https://github.com/ethervoid', 'followers_url': 'https://api.github.com/users/ethervoid/followers', 'following_url': 'https://api.github.com/users/ethervoid/following{/other_user}', 'gists_url': 'https://api.github.com/users/ethervoid/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/ethervoid/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/ethervoid/subscriptions', 'organizations_url': 'https://api.github.com/users/ethervoid/orgs', 'repos_url': 'https://api.github.com/users/ethervoid/repos', 'events_url': 'https://api.github.com/users/ethervoid/events{/privacy}', 'received_events_url': 'https://api.github.com/users/ethervoid/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 7, 'created_at': '2022-07-13T17:09:32Z', 'updated_at': '2024-10-28T12:34:30Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Hello everyone!\r\n\r\nWe\'ve been using kvrocks for a while and to give a bit of context on how we\'re working with it our system has 2 replicas and 1 master node as part of a Sentinel cluster. \r\n\r\nIn our case when we want to release an update we first make the release and restart of the replicas, then we do a manual fail-over with Sentinel and after that, we release in the former master node.\r\n\r\nUsing this workflow today we\'ve found that for some reason after releasing the changes in the first replica our master becomes unresponsive. We started to have gaps in our metrics from Grafana as you can see \r\n\r\n<img width="463" alt="Captura de pantalla 2022-07-13 a las 19 05 48" src="https://user-images.githubusercontent.com/741240/178790699-de3a82e7-3127-483e-b5ac-4778372773fd.png">\r\n\r\n<img width="428" alt="Captura de pantalla 2022-07-13 a las 19 05 40" src="https://user-images.githubusercontent.com/741240/178790781-9a22389d-e5f0-45d1-8b1d-61bf18f70c24.png">\r\n\r\nWe connected to the machine and checked the docker image and was running with the following logs for that timeline\r\n\r\n```\r\nE0713 12:22:43.009356 14447 replication.cc:111] Write error while sending batch to slave: Broken pipe. batches: 0x243130360D0A7B11FE880D0000000200000003013201250B5F5F6E616D6573706163650000000C735F363737333231333331342F1B266EB733CEAC30060181F782F22601250B5F5F6E616D6573706163650000000C735F363737333231333331342F1B266EB733CEAC6105302E3735300D0A\r\nE0713 12:23:08.211652    32 redis_cmd.cc:3533] checkWALBoundary with sequence: 58132926866, but GetWALIter return older sequence: 58132926860\r\nE0713 12:43:06.192111  9671 replication.cc:111] Write error while sending batch to slave: Broken pipe. batches: 0x2431350D0A510D26890D000000000000000301320D0A\r\n```\r\n\r\nWe stopped writing on that node and after some minutes the node went back and started to be responsive again without doing anything else.\r\n\r\nCould be this a bug, an issue or misconfiguration?', 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/728/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/728/timeline'}, {'repository_url': 'https://api.github.com/repos/apache/kvrocks', 'category': {'id': 33963548, 'node_id': 'DIC_kwDODBGmlM4CBj4c', 'repository_id': 202483348, 'emoji': ':ballot_box:', 'name': 'Polls', 'description': 'Take a vote from the community', 'created_at': '2022-03-01T02:38:33.000Z', 'updated_at': '2022-03-01T02:38:33.000Z', 'slug': 'polls', 'is_answerable': False}, 'answer_html_url': None, 'answer_chosen_at': None, 'answer_chosen_by': None, 'html_url': 'https://github.com/apache/kvrocks/discussions/731', 'id': 4219402, 'node_id': 'D_kwDODBGmlM4AQGIK', 'number': 731, 'title': 'Should we remove the changelog file?', 'user': {'login': 'git-hulk', 'id': 4987594, 'node_id': 'MDQ6VXNlcjQ5ODc1OTQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/4987594?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/git-hulk', 'html_url': 'https://github.com/git-hulk', 'followers_url': 'https://api.github.com/users/git-hulk/followers', 'following_url': 'https://api.github.com/users/git-hulk/following{/other_user}', 'gists_url': 'https://api.github.com/users/git-hulk/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/git-hulk/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/git-hulk/subscriptions', 'organizations_url': 'https://api.github.com/users/git-hulk/orgs', 'repos_url': 'https://api.github.com/users/git-hulk/repos', 'events_url': 'https://api.github.com/users/git-hulk/events{/privacy}', 'received_events_url': 'https://api.github.com/users/git-hulk/received_events', 'type': 'User', 'user_view_type': 'public', 'site_admin': False}, 'labels': [], 'state': 'open', 'state_reason': None, 'locked': False, 'comments': 5, 'created_at': '2022-07-15T11:28:59Z', 'updated_at': '2022-07-18T01:56:03Z', 'author_association': 'MEMBER', 'active_lock_reason': None, 'body': "I'm wondering if we can remove the `Changelog` file after PR https://github.com/apache/incubator-kvrocks/pull/729. The main point is it will be hard to maintain since we need to call a vote before drafting the release.", 'reactions': {'url': 'https://api.github.com/repos/apache/kvrocks/discussions/731/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/apache/kvrocks/discussions/731/timeline'}]
