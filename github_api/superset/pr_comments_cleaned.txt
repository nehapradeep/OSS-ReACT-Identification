We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

PR should be in fork, sorry

I think this will help tremendously with questions people have on Superset usage :D

I was unable to post the issues I found. This could be because a force push or squash has changed the commit history since I scanned this pull request. You can get another review by commenting `/korbit-review`.

/cc @betodealmeida

Thank you for the fix, @hxtmdev! ‚ù§Ô∏è 

I was unable to post the issues I found. This could be because a force push or squash has changed the commit history since I scanned this pull request. You can get another review by commenting `/korbit-review`.

/korbit-review

Needed to rebase. Was working from 4.1.1 branch

@dpgaspar We dropped support for Python 3.9 in https://github.com/apache/superset/pull/31503 as part of 5.0.

> @dpgaspar We dropped support for Python 3.9 in #31503 as part of 5.0.\r\n\r\noh, right... \r\n

Would be great if you can dig out a reference to the PR that cause the regression and tag the author.

/korbit-review

@betodealmeida I forgot the details here around `sqlglot`, any take on whether we should be holding off on this?

This commit addresses the #32601 issue

Closing this in favor of https://github.com/apache/superset/pull/32601.

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13815138233). Action: **up**. More information on [how to use or configure ephemeral environments](https://superset.apache.org/docs/contributing/howtos/#github-ephemeral-environments)

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13848322123). Action: **up**. More information on [how to use or configure ephemeral environments](https://superset.apache.org/docs/contributing/howtos/#github-ephemeral-environments)

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

Superset uses Git pre-commit hooks courtesy of [pre-commit](https://pre-commit.com/). To install run the following:\r\n```\r\npip3 install -r requirements/development.txt\r\npre-commit install\r\nA series of checks will now run when you make a git commit.\r\n```\r\nAlternatively it is possible to run pre-commit by running pre-commit manually:\r\n```\r\npre-commit run --all-files\r\n``` \r\nThat should fix up the pre-commit job on CI :) 

closing / reopening to retrigger pullapprove that somehow got an internal error.

@rusackas since you mentioned that this didn\

Here, added --fix -> https://github.com/apache/superset/pull/32596/commits/ac7fd7e42e22351b5823dee4f31494931cce7cb4

Ok removed the last `SKIP_FIX`  reference that was there for the docs I think. `pre-commit` now always tries to fix what it can, which I think is what everyone wants all the time.

Hello, thanks for the suggestion! Can you explain why someone would want to use that `-h` flag, so that readers know?

I think you can just use the `no-restricted-imports` feature if you want to keep it simpler.

Referencing -> https://github.com/apache/superset/blob/89b6d7fb681ed69644c5c5e1a0201209d82518f7/superset-frontend/.eslintrc.js#L333-L367

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

Thanks, and welcome aboard!

Just assign this task to me, thank you

@justinpark Please kindly agree to proceed with the inspection\r\n![image](https://github.com/user-attachments/assets/9d0048eb-d1e5-4da9-868b-cb6f5e486186)\r\n

@justinpark @hainenber  Please approve the execution of the workflow check

@geido Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13840054386). Action: **up**.

I was unable to post the issues I found. This could be because a force push or squash has changed the commit history since I scanned this pull request. You can get another review by commenting `/korbit-review`.

/korbit-review

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13689263053). Action: **up**.

/korbit-review

/korbit-review

@justinpark good catch. I think you might need a rebase to get the pre-commits to pass.

@sadpandajoe rebase is done. could you help to review?

/korbit-review

@michael-s-molina and @geido put a lot of work into consolidating numerous Select modules into one Super-Duper-Select. I would check with either/both of them regarding any simplification efforts, just in case there are use cases around the intricacies. Of course if AntD now includes the functionality we built around it previously, or there are unnecessary style layers, then yes, let\

FYI @Usiel there was an unrelated issue on master branch that caused the `pre-commit` checks to fail. if you rebase the PR the problem should go away.

Thanks for the review! I rebased and included the deprecation comment.

Hey @Usiel could you please rebase your branch? I believe that `pre-commit` issue might be fixed in `master` now. Thank you!

Thanks for the reviews! Rebased on `master` ü§û 

@ag-ramachandran can you rebase the PR? There was an issue on master branch that caused CI to fail but has now been resolved.

> Happy to approve/merge the change if you can do it in the Jupyter notebook :)\r\n\r\nJupyter file edited and new turkey.geojson file generated.

Closed as this requires some code refactors to accommodate major version upgrade.

@mistercrunch  I agree, but I feel like that goes past the scope of this PR, since this hooks into the Docker entrypoint and technically doesn\

> I\

I was unable to post the issues I found. This could be because a force push or squash has changed the commit history since I scanned this pull request. You can get another review by commenting `/korbit-review`.

/korbit-review

I was unable to post the issues I found. This could be because a force push or squash has changed the commit history since I scanned this pull request. You can get another review by commenting `/korbit-review`.

/korbit-review

Superseded by #32504.

Looks like @deck.gl/react is up-to-date now, so this is no longer needed.

Looks like @types/lodash is up-to-date now, so this is no longer needed.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13637885015). Action: **up**.

`@docusarus/*` packages must be upgraded in conjunction. Close for manual uplift.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13637806015). Action: **up**.

Superseded by #32490.

Superseded by #32474.

Superseded by #32475.

Superseded by #32503.

The failing test seems not related to this MR change.

The failing test seems un-related.

> The failing test seems un-related.\r\n\r\nre-running it ü§û 

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13594108877). Action: **up**.

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13578179841). Action: **up**.

Looks like some unit tests are failing/need adjustments. Let us know if you need pointers to unblock this effort.

running CI ü§û 

Thanks @withnale for raising PR following your issue! I left 2 reviews

Thanks Evan. I\

Re-bump for posterity :D 

Re-bump for posterity :D

I was unable to post the issues I found. This could be because a force push or squash has changed the commit history since I scanned this pull request. You can get another review by commenting `/korbit-review`.

@betodealmeida @Vitor-Avila I tried to cherry-pick this PR into 5.0 but it\

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13555898316). Action: **up**.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13556553340). Action: **up**.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13572517694). Action: **up**.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13573415557). Action: **up**.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13578828737). Action: **up**.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13579683965). Action: **up**.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13592864871). Action: **up**.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13596549281). Action: **up**.

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13597175899). Action: **up**.

Sorry, by mistake\r\n

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13548383385). Action: **up**.

LGTM. Nice catch :D

I think @mistercrunch tried to bump to python 3.12 and there may be issues that he ran into that might be good to know for this PR.

found the pr: https://github.com/apache/superset/pull/31759

@rusackas , @sfirke test this one.

@rusackas , @sfirke Its done can you check it?\r\n

@rusackas hey, if you are free then can you check this out?

Hey @sfirke , @rusackas  can you check this please?

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13665315059). Action: **up**.

Looking OK in general, but a little nervous about the double-call that korbit caught.

@rusackas can you check this is what you wanted right? http://54.69.76.39:8080/

cc: @msyavuz

@michael-s-molina could you help the review?

Thank you!

@EnxDev Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13572591437). Action: **up**.

I am restarting failed jobs, hopefully that was a flaky one

At a glance, this looks good to me. Just needs a code owner review from @betodealmeida, @eschutho, @michael-s-molina, and/or @mistercrunch.

Thanks @eschutho for taking a look. I had a similar approach to use a feature flag [here](https://github.com/apache/superset/pull/29335) but it was suggested using the modal would be a better approach so it was not a global setting

> Thanks @eschutho for taking a look. I had a similar approach to use a feature flag [here](https://github.com/apache/superset/pull/29335) but it was suggested using the modal would be a better approach so it was not a global setting\r\n\r\nHi @SkinnyPigeon I agree, usually it is better to put options like that in a modal instead of a config, but in this case, I believe that we can simplify this and just call this extra column a bug. We have heard a bit of feedback that most people do not want this column. To @betodealmeida\

Hey @eschutho, thanks for all of that. I will try to get that done soon

This fix is a godsend

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13503004674). Action: **up**.

Thanks for the PR @Dev10-34. Could you instead of adding a checkbox to enabling black borders, add a control to set the border color which by default is transparent (no border)? This is important as the color border may conflict with the color scheme used by the chart.

> Do you mean something like a slider?\r\n\r\nSomething like the `Series colors `control of the Waterfall chart.\r\n\r\n<img width="297" alt="Screenshot 2025-02-24 at 16 30 38" src="https://github.com/user-attachments/assets/05ccb809-dd4a-400c-916a-f680b07ca198" />\r\n

> > Do you mean something like a slider?\r\n> \r\n> Something like the `Series colors `control of the Waterfall chart.\r\n> \r\n> <img alt="Screenshot 2025-02-24 at 16 30 38" width="297" src="https://private-user-images.githubusercontent.com/70410625/416358705-05ccb809-dd4a-400c-916a-f680b07ca198.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDA0Nzc2MjAsIm5iZiI6MTc0MDQ3NzMyMCwicGF0aCI6Ii83MDQxMDYyNS80MTYzNTg3MDUtMDVjY2I4MDktZGQ0YS00MDBjLTkxNmEtZjY4MGIwN2NhMTk4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAyMjUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMjI1VDA5NTUyMFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTY0MTE2MTc5NmI2ZGI1NDE1M2Y0ZGFmOTEyYjIyODhjOTMyNjlmZTQxZWNiZTViNTE2NmM2Mzg1ZTYyODMxM2UmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.W9jkvJDJA1mWRx1ivvkmji0DV1yMR58LqsuG74FQRNY">\r\n\r\nI couldn\

I added a function in utils.ts which lets you change the opacity as well now\r\n

I applied all the suggestions which you gave, however, upon re running there seems to be a bug sorta where even though the border width is set to 0 as default, on initial creation of the chart. If you move the border width slider, it fixes itself. Everything else works as intended functionally, just the visuals of the initial chart creation shows the borders as well, even if all the defaults are set correctly.\r\nGiving borderWidth variable in transformProps.ts an initial value as 0 seems to fix this issue

@michael-s-molina Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13568191521). Action: **up**.

> Thank you so much for this great improvement @Dev10-34 and congrats on your first Superset PR!\r\n\r\nThank you so much for having me!! Is there any possibility that these changes will be reflected in future tags/releases?\r\n

> Is there any possibility that these changes will be reflected in future tags/releases?\r\n\r\nThe `latest` Docker tag will contain this feature. It will be officially released in 5.1.

> > Is there any possibility that these changes will be reflected in future tags/releases?\r\n> \r\n> The `latest` Docker tag will contain this feature. It will be officially released in 5.1.\r\n\r\nGlad to have been of help! Looking forward to more commits!\r\n

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13501743279). Action: **up**.

/korbit-review

/korbit-review

Looks like mypy is complaining, otherwise LGTM

Superset uses Git pre-commit hooks courtesy of [pre-commit](https://pre-commit.com/). To install run the following:\r\n```\r\npip3 install -r requirements/development.txt\r\npre-commit install\r\nA series of checks will now run when you make a git commit.\r\n```\r\nAlternatively it is possible to run pre-commit by running pre-commit manually:\r\n```\r\npre-commit run --all-files\r\n``` 

@mistercrunch \r\n\r\nYou are right, sorry I missed that.\r\n\r\nI re-wrote the method a bit so that it does not have to access the ssh property, now there should be no warnings anymore.

Thank you for the contribution!

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13462992769). Action: **up**.

Superset uses Git pre-commit hooks courtesy of [pre-commit](https://pre-commit.com/). To install run the following:\r\n```\r\npip3 install -r requirements/development.txt\r\npre-commit install\r\nA series of checks will now run when you make a git commit.\r\n```\r\nAlternatively it is possible to run pre-commit by running pre-commit manually:\r\n```\r\npre-commit run --all-files\r\n``` 

> rusackas\r\n\r\n@rusackas Thanks for your feedback, comments translated :P and thanks for pre-commit tips! 

@rusackas HI, do you have any idea why there is error like this in jobs review (sharded-jest-tests(6)) please?\r\nFAIL src/features/databases/UploadDataModel/UploadDataModal.test.tsx (123.777 s)

The failing test seems not related to this MR change.

@rusackas Could you please help to re-running this. Thanks

Is this a fix rather than a feature?

![image](https://github.com/user-attachments/assets/9ebb5d97-39c0-457b-b5fa-a0fc98351466)\r\nThis both are solution if 1st one is verified then move with first one and cancel 2nd one.otherwise let me work on linting issues for second one.

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13462806325). Action: **up**.

Oh, actually, the test failures seem relevant. Would you be willing to take a look at the event triggers there and see if you can get things to pass? You can run the single test from the `superset-frontend` directory via `npm run test src/dashboard/components/gridComponents/Markdown.test.jsx`

Sure I am looking into it.

For some reason i am not able to run test locally, can you check this request, otherwise I will find solution for running test locally.

Yep I just approved test runs. I have had trouble getting my local environment set up too so I get it!

@sfirke why this one test is failing i do not understand, or is there any docs for running test locally?

@rusackas this is now passing CI, could you take a look when you get a chance?

hey @sfirke now you can check I have done a all nighter to fix it.

@rusackas can you re run the test?\r\n

@eschutho I have replaced my package-lock.json with: https://github.com/apache/superset/blob/master/superset-frontend/package-lock.json , so I think its fine now.\r\n

@rusackas please re run the test.

can anyone tell me why pre-commit checks are failing up till now there was no failing test.

Hey getting so much error so redoing things

I will give fix\r\n

https://github.com/apache/superset/pull/32384 here is new request.\r\n

@kgabryje Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13453257517). Action: **up**.

@kgabryje Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13458847218). Action: **up**.

@kgabryje Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13522945418). Action: **up**.

@justinpark could you take another look?

> Do we need the extra script file here, or does simply removing the sed business and letting the pre-commit hook run npm run lint (or even npm run lint-fix) from the pre-commit config do the job? I\

Looks like @ant-design/icons is up-to-date now, so this is no longer needed.

I re-formatted the PR title to match the formatting requirement.

Thanks @sfirke 

LGTM. Can confirm it runs much faster on 1 of my large-scale refactoring PR üëç 

cc @sadpandajoe  for your re-review :D 

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13464478934). Action: **up**.

Agreed, should be the default!

Oh trying to distinguish between:\r\n- horizontal filters are ENABLED to be used\r\n- horizontal filters are USED by default\r\n\r\nDoes the feature flag here does only 1 or 1 and 2?

@michael-s-molina should be all good now! :) 

> @michael-s-molina should be all good now! :)\r\n\r\n@rusackas Did you forget to commit something? The feature flag is still there.

Re-running a failing test (might just be flaky)

approving a CI run, and adding a couple more reviewers for good measure :)

Please approve and agree a CI runÔºåI have made the necessary corrections based on the error message

Some of the data source test classes did not pass. Let me take a look at the problem again and see if there are any issues with the test classes being written

Please approve and agree a CI run again, Thanks a lot

Could you please help me run a CI again so that I can see if there are any other check errorsÔºåThanks again

please help me run a CI againÔºåthanks a lot

@hainenber If you have time nowÔºåplease help me run a CI againÔºåthanks a lot

![image](https://github.com/user-attachments/assets/efe092d7-fdfc-4fb7-90a9-b4f32f0fe978)\r\n@hainenber May I ask if this error is caused by not installing and using pre commit?

@hainenber please help me run a CI againÔºåthanks a lot

Could you please help me agree and check the code online? Thank you

CI has already run. I‚Äôll be reviewing your code.

I found that the code for table preview has been greatly adjusted, which is exactly where I fixed it. The interface calls are different from what I modified before, and the only thing fixed is the improvement. It is suggested to slow down the improvement of this section of code, as there are indeed many bugs and bug fixes cannot keep up with the speed of improving the code. This is not reasonable, and it is more appropriate to prioritize bug fixes in the code.

@hainenber I have adjusted the code. Thank you for agreeing to run the constantly blocked reviews„ÄÇ\r\n![image](https://github.com/user-attachments/assets/45dfb57f-a3e5-4f6b-9e87-952ad55cec3c)\r\n

@dependabot rebase

@guenp is there a change log for this bump, just want to make sure there are no breaking changes going to 1.x

> @guenp is there a change log for this bump, just want to make sure there are no breaking changes going to 1.x\r\n\r\nSure thing, the change logs are here: https://github.com/duckdb/duckdb/releases\r\n\r\nAlso note that DuckDB has backward compatibility with older storage formats (see [docs](https://duckdb.org/docs/internals/storage.html#backward-compatibility)) so upgrading should not cause any breaking changes. The latest version of DuckDB is 1.2.0.

> Does that library properly escape the single quote and solve the problem without changing the text?\r\n\r\nThe library fixes the input string in best effort approach and at least returns JSON-compliant object.\r\n\r\n<img width="1212" alt="image" src="https://github.com/user-attachments/assets/077a3aa6-bd6a-4b54-a13c-7dd4b5a28d64" />\r\n\r\n> I\

Hi @rusackas can let me know how to compile the front end code after this fix ?\r\n

@kgabryje Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13591116093). Action: **up**.

Thank you so much for giving DASHBOARD_RBAC this love!\r\n\r\nIt possible, can this please be tested (or otherwise checked) to tell if the change also resolves the special case that "a dataset included in a dataset as a subquery using the built-in `dataset()` Jinja macro does not get granted DASHBOARD_RBAC based accessibility even though such access is expected", as commented on previously at?: https://github.com/apache/superset/issues/31938#issuecomment-2635204648\r\n\r\n(I looked through the file changes, and was not entirely certain if such DASHBOARD_RBAC-based nested/Jinja-included dataset accessibility is already fixed in this change -- to me, it looked like "maybe?").

Just tested this against 5.0.0-rc1, and it seems to work. Dashboard RBAC previously came up with all the permission warnings when trying to open one.\r\n\r\nNote: just a first time user of Superset, not a review!

I like the idea of having a vulnerability/package scanner in the open. A few things about it.\r\n\r\nFirst, let\

Oh, one more thing, which tool/tech should we use here? Is Trivy the best choice these days? What are all the options?

> First, let\

Oh good to hear it\

If these permissions are required, it would be a good idea to use the `fix` prefix for this PR so it can be cherry-picked into 5.0.

> Could you attach the access error without the new role? Otherwise the permalink should be working with the existing (sqllab, can_read/write) roles\r\n\r\n\r\n\r\n> Could you attach the access error without the new role? Otherwise the permalink should be working with the existing (sqllab, can_read/write) roles\r\n\r\n@justinpark so without manually adding the permissions via the ui,("can_read", "SqlLabPermalinkRestApi"),,("can_write", "SqlLabPermalinkRestApi"),one gets the error that "there was an error generating the permalink" when copying the query link despite having the sqllab role.

need to make few more changes

Bleh, more AI spam. @mistercrunch can we report this to GitHub?\r\n\r\nEdit: nvm, I did the execution, Dredd-style.

From my calculation, this PR should resolve **ALL** current High-severity Security Alerts and in general 60% of total vulnerability count.

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13347454524). Action: **up**.

Hi! I am Kasia and I am UX/UI designer contributing to Superset and working in Preset. \r\n\r\nIn this case caret is an action trigger/button. I agree with AI response to the PR, that these are patterns that are widely used in UX and intuitive for the general audience. The same pattern is used across the app in selects, dropdown triggers or similar collapsible sections (not including legacy components): \r\n<img width="607" alt="image" src="https://github.com/user-attachments/assets/9442e746-4757-4ab3-adca-70e695ee2c34" />\r\n<img width="488" alt="image" src="https://github.com/user-attachments/assets/1e93c3ee-a1fb-4c24-bc9e-ba904e496ee0" />\r\nSo I would argue that the current implementation is the pattern that we should go with. \r\n

thanks for reply, Kasia. I\

Wait, it works for me, and would work after this change...\r\n\r\nTrace:\r\nhow I ran it:\r\n<img width="407" alt="Screenshot 2025-02-14 at 1 54 04\u202fPM" src="https://github.com/user-attachments/assets/c1395258-7271-4337-b742-e55452e6d747" />\r\nshows only 3 steps in init instead of 4 (excludes loading the examples)\r\n<img width="767" alt="Screenshot 2025-02-14 at 1 54 13\u202fPM" src="https://github.com/user-attachments/assets/980a84a6-af0a-4bc0-b088-e881efde86e1" />\r\n\r\n\r\nMy env:\r\n<img width="858" alt="Screenshot 2025-02-14 at 1 55 16\u202fPM" src="https://github.com/user-attachments/assets/3cc99d05-1075-4012-bcca-a34c02bdaabe" />\r\n\r\n

> Wait, it works for me, and would work after this change...\r\n> \r\n> Trace: how I ran it: <img alt="Screenshot 2025-02-14 at 1 54 04\u202fPM" width="407" src="https://private-user-images.githubusercontent.com/487433/413475901-c1395258-7271-4337-b742-e55452e6d747.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3Mzk1NzI3OTAsIm5iZiI6MTczOTU3MjQ5MCwicGF0aCI6Ii80ODc0MzMvNDEzNDc1OTAxLWMxMzk1MjU4LTcyNzEtNDMzNy1iNzQyLWU1NTQ1MmU2ZDc0Ny5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMjE0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDIxNFQyMjM0NTBaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT05YWY3OWNhNWNkMTc5OTNiMDIyNjYxMjkwZGJjZDM5YTdiMTM3MmFhMGU4MWY5YmZhMzI0NTE3OGIwZDBhMjA1JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.vzil-4ZHUJqLidzbIaDFHcod3kYC6a9X90w_KCy6iS0"> shows only 3 steps in init instead of 4 (excludes loading the examples) <img alt="Screenshot 2025-02-14 at 1 54 13\u202fPM" width="767" src="https://private-user-images.githubusercontent.com/487433/413475893-980a84a6-af0a-4bc0-b088-e881efde86e1.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3Mzk1NzI3OTAsIm5iZiI6MTczOTU3MjQ5MCwicGF0aCI6Ii80ODc0MzMvNDEzNDc1ODkzLTk4MGE4NGE2LWFmMGEtNGJjMC1iMDg4LWU4ODFlZmRlODZlMS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMjE0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDIxNFQyMjM0NTBaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1hZTY2MjJkNjhhMWU3OTBiMWI2MWFmOGQzMzI1OTlhOTNkMjI2MWUyOTY4M2UxMmI2M2I2YmJlN2Y5ODhlMjNhJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.9drY_wXAITropQ2VUhUyzULmG4ilE6KUSjBLLgWsSNY">\r\n> \r\n> My env: <img alt="Screenshot 2025-02-14 at 1 55 16\u202fPM" width="858" src="https://private-user-images.githubusercontent.com/487433/413476082-3cc99d05-1075-4012-bcca-a34c02bdaabe.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3Mzk1NzI3OTAsIm5iZiI6MTczOTU3MjQ5MCwicGF0aCI6Ii80ODc0MzMvNDEzNDc2MDgyLTNjYzk5ZDA1LTEwNzUtNDAxMi1iY2NhLWEzNGMwMmJkYWFiZS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMjE0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDIxNFQyMjM0NTBaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT03ZTYzNGIxYTA5ODhiNTllMjEwNzM3YmJlMjdkMWVjMGM2YWViYmVkNWIzNmNmZTk3MGE0ODNiMjA1YzQzYTFlJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.Qh6i2wddBhKkqIT4YIvzheoEbPe1KRjeyVWdgptMIAc">\r\n\r\nIts works this way, but it doesn\

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13336228753). Action: **up**.

I gotta be honest, this PR looks pretty AI-manufactured or at least got helped out by AI big time. Un-reviewable, massive change and list-formatted PR description are one of the early caught symptoms. Please response with what you want to achieve here. 

Thanks,\r\n\r\nI see your point.\r\n\r\nWhat we have done is to select superset and our data platform with heavy\r\nuse of embedded dashboards.\r\n\r\nSuperset is integrated into our application, which requires\r\ninteractions and handoff to our application i.e trigger actions on our\r\napplication.\r\n\r\nWe required bulk actions and row-level actions on the table plugin i.e when\r\na user clicks on bulk action or row action fires off an event which is been\r\nlistened for on our application where other things happen.\r\n\r\nI will come back with improvements and possible SIP.\r\n\r\nregards\r\n\r\nMJ\r\n\r\n\r\nOn Sat, Feb 15, 2025 at 6:14\u202fAM ƒê·ªó Tr·ªçng H·∫£i ***@***.***>\r\nwrote:\r\n\r\n> I gotta be honest, this PR looks pretty AI-manufactured or at least got\r\n> helped out by AI big time. Un-reviewable, massive change and list-formatted\r\n> PR description are one of the early caught symptoms. Please response with\r\n> what you want to achieve here.\r\n>\r\n> ‚Äî\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/apache/superset/pull/32265#issuecomment-2660745289>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/ABLWZNL6GKU35XNZK5ULL2L2P3EKNAVCNFSM6AAAAABXFHYWOWVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMNRQG42DKMRYHE>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n> [image: hainenber]*hainenber* left a comment (apache/superset#32265)\r\n> <https://github.com/apache/superset/pull/32265#issuecomment-2660745289>\r\n>\r\n> I gotta be honest, this PR looks pretty AI-manufactured or at least got\r\n> helped out by AI big time. Un-reviewable, massive change and list-formatted\r\n> PR description are one of the early caught symptoms. Please response with\r\n> what you want to achieve here.\r\n>\r\n> ‚Äî\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/apache/superset/pull/32265#issuecomment-2660745289>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/ABLWZNL6GKU35XNZK5ULL2L2P3EKNAVCNFSM6AAAAABXFHYWOWVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMNRQG42DKMRYHE>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n

Feel free to join the SIP Review session next Wednesday if it helps. Details are on the community calendar on the website, or just ask me for more info here or on Slack ;) 

/korbit-review

/korbit-review

/korbit-review

I think this approach is great, but I also wonder if you\

re-running CI ü§û 

Thanks for staying on top of this! Re-running CI ü§û 

@sadpandajoe yes we do in CI, but this add the checks to `pre-commit` so issues can be caught at commit time, which is better. This adds in a fair amount of complexity to deliver on it. \r\n\r\nWondering if it would make sense to only do it on superset-frontend/**/js-and-ts-files to keep pre-commit.yml a bit simpler.\r\n\r\n@alveifbklsiu259  is it all super fast?

/korbit-review

/korbit-review

/korbit-review\r\n\r\n

/korbit-review

Normally we use dotted or dashed for a time shift line, would this be confusing for the user if they used this for the regular line?

By defaut, there isnt any enforcement for overriding line style. People with intention will configure it by themselves so no changes to previous behavior.

I think @sadpandajoe is concerned that if a user picks dashed for the main series, then time shift is also dotted, with no means to change it. This would indeed be confusing. If there could be a (conditionally rendered) control to pick the line style for time shift lines, that would be a win in my book!

Bump for posterity üòÑ \n\nI notice that quite a few folks raising issue related to this change in Slack.

Convert to Draft as there are more breakages than expected

Close as unused deps turned out to be used discreetly.

@michael-s-molina we should probably cherry this since there are a few changes which might come back as the build being broken.

ah right, the `shortid` var assignment is to initialize the ShortId client ü§¶ . Thanks for catching this, Michael! I owed Korbit an apology.

Fixed :D 

Wait doesn\

@mistercrunch can you elaborate? The initial shortid implementation is randomly generated as well. Something I miss in the grand scheme?

> Wait doesn\

> Wait doesn\

Tested and looks good! Thanks @betodealmeida!

This is super cool!

Hi @betodealmeida @Vitor-Avila @eschutho we will send a separate note about this but it looks like the requirement was interpreted too explicitly. I\

@michael-s-molina It happened after this https://github.com/apache/superset/pull/32004

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13259684983). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13262803069). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13263119673). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13265293827). Action: **up**.

@michael-s-molina checking in to make sure you agree on switching this default since you shipped the feature. I could add in a feature flag `TIMESERIES_SHOW_PERCENTAGE_DEFAULT`, but feeling like we have enough feature flags without adding this new one.

Makes sense @mistercrunch!

Superseded by #32273.

@dependabot rebase

@michael-s-molina Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13292150122). Action: **up**.

Looks like esbuild is no longer updatable, so this is no longer needed.

I was unable to post the issues I found. This could be because a force push or squash has changed the commit history since I scanned this pull request. You can get another review by commenting `/korbit-review`.

/korbit-review

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13511114026). Action: **up**.

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13666027805). Action: **up**.

@kgabryje Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13244353222). Action: **up**.

Really appreciate your contribution! The frontend-generated screenshots weren‚Äôt working well for me, so I needed backend-generated ones to tweak the WebDriver settings as needed. This fix made it possible.\r\nthanks a lot! üôèüèª

afraid to look at coverage before/after... whatever happened to covecov?!

There are 4 Enzyme tests I have converted to RTL in this [PR](https://github.com/apache/superset/pull/31634). Might be a tad better than to delete them away? :D

@mistercrunch I think the difference between Enzyme tests and Cypress tests are:\r\n- There are active efforts regarding converting Enzyme to RTL.\r\n- The level of flakiness during CI runs is very different.\r\n- We capture more regressions with Enzyme tests than Cypress tests.\r\n\r\nThe radical approach might be more appropriate for Cypress tests.

superset/security/manager.py mention : \r\n\r\nUSER_MODEL_VIEWS = {\r\n        "RegisterUserModelView",\r\n        **"UserDBModelView",**\r\n        "UserLDAPModelView",\r\n        "UserInfoEditView",\r\n        "UserOAuthModelView",\r\n        "UserOIDModelView",\r\n        **"UserRemoteUserModelView",**\r\n    }\r\n\r\n"UserDBModelView" is mentionned by 4 files\r\n![image](https://github.com/user-attachments/assets/baf25019-4a79-4687-bac1-af13a0ae0991)\r\n\r\n"UserRemoteUserModelView" is only mentionned in superset/security/manager.py\r\n![image](https://github.com/user-attachments/assets/4d8587c3-5f72-48dd-bb61-72cd55212f7f)\r\n\r\nIf deletion of UserRemoteUserModelView is confirmed others raws are concerned :\r\n- RegisterUserModelView\r\n- UserLDAPModelView\r\n- UserOAuthModelView\r\n- UserOIDModelView\r\n

@villebro , I am not sure where is show data.js context, like other database, I add TDengine information to this file.

> Confirmed to work as expected:\r\n> \r\n> <img alt="image" width="1193" src="https://private-user-images.githubusercontent.com/33317356/411044424-83e4fb20-1535-4b4a-b54a-bce86292971b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzkwMDcxNDIsIm5iZiI6MTczOTAwNjg0MiwicGF0aCI6Ii8zMzMxNzM1Ni80MTEwNDQ0MjQtODNlNGZiMjAtMTUzNS00YjRhLWI1NGEtYmNlODYyOTI5NzFiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAyMDglMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMjA4VDA5MjcyMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTdkMzIwNTE4YmZlMWE4Njc5YjMxYWI3ZDNkZjMyYjQ1OWY5ZDFlMzg0ZGVjNDZjMWE0NjcyYmE4OTgwMTgzMDQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.yWur2n0Cqi4SA_NuiVL4RC-nDkNA21kwDPG7eQ3QkBo">\r\n\r\nIt\

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13189120091). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13201819347). Action: **up**.

@eschutho Looking at the before screenshot, do you know why we are showing a network error instead of a parsing error in Explore?

Thank you @ChrisChinchilla !

I think that CI failure is just a flaky test? If someone confirms, we can merge.

Tried to rebase to address a flaky CI failure and spammed everyone, sorry

@villebro I fixed the rebase and the flaky test finally passed, I believe this is ready for merge but needs your approval

Opened by mistake :(

@mistercrunch I almost clicked the merge button here, but held off ‚Äî do you see that audit as a blocker for this?

Not a blocker, merged!

@michael-s-molina would be good if we can cherry this in also for part of 5.0rc2

@michael-s-molina Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13329238135). Action: **up**.

@betodealmeida @dpgaspar any chance to have a look at this soon? I know there are quite some release activities going on right now (and i dont expect even this to be in one of them, bonus points if that would happen), but at least i would like this PR get merged so this gets off my mental to-do list. :100: 

Thank you @michael-s-molina , I spent time since monday to fix this issue.\r\nGreat job.

@michael-s-molina , I\

@EmmanuelCbd Could you open a new issue and tag @mistercrunch @rusackas @sadpandajoe? They know more about translations than me and @mistercrunch recently modified related files.

@michael-s-molina \r\nDone: https://github.com/apache/superset/issues/32161\r\n\r\nI found a "not clean" solution inbetween, will let guys help on that.\r\nThanks again

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13520809119). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13525466335). Action: **up**.

Exciting!

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13586633895). Action: **up**.

@geido Can we merge this?

@kgabryje Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13244669984). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13259558710). Action: **up**.

@geido Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13548759867). Action: **up**.

Here as well: \r\nBEFORE:\r\n![image](https://github.com/user-attachments/assets/f41ebb00-5c0b-46c1-a98a-797da51beb3d)\r\nAFTER:\r\n![image](https://github.com/user-attachments/assets/750e2efb-3607-4ebb-8652-9cd56f967135)\r\n

Looks good overall, just a few small nits. Great work!

@alexandrusoare Thanks for your comments! We have decided to set up a default color for the icons. \r\n\r\nThese icons probably don‚Äôt have the assigned colors.\r\n\r\nWhen I‚Äôve finished the remaining work, I‚Äôll take a look at it. Thanks!

It also looks like the icons are not centered vertically in the new version

\r\n> It also looks like the icons are not centered vertically in the new version\r\n\r\nHi, thanks for your review, I recently changed the structure of the icon component. Previously, the icons were centered using line-height, but after modifying the structure, that no longer worked. I just released a fix that should resolve this issue. Could you check again please?

@kasiazjc Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13590834116). Action: **up**.

@EnxDev Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13664573096). Action: **up**.

@geido Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13719130680). Action: **up**.

Thank yo so much @EnxDev ‚ù§Ô∏è \r\n\r\nA few things I found so far \r\n\r\n\r\n- Action icons in CRUD views are 24x24px and should be 16x16px for a more balanced look (for example favorites star is 16x16)\r\n<img width="1293" alt="image" src="https://github.com/user-attachments/assets/985f6da1-ce01-4f2b-a350-a28d8bfaa18f" />\r\n\r\n\r\n- Icons in buttons should be bigger (10px is not really visible), I can see in ant-d they are 14x14px and we can follow that for keeping our implementation pretty much vanilla without lots of deviations. I can see that on master we use in here some weird size like 10x12, but the previous icon was much more bold, so it needs to be bigger. NOTE: I found that in some buttons we use 16px (for example save button in explore), so not sure what the rule is. Is this the correct time to update it? @EnxDev @geido \r\n<img width="373" alt="image" src="https://github.com/user-attachments/assets/84a96c95-8fb1-4628-8d57-0ca9c8a57d54" />\r\n\r\n- might be old implementation, but this icon should match other button icons like mentioned above (14px)\r\n<img width="335" alt="image" src="https://github.com/user-attachments/assets/15aaac66-3428-4975-b396-b039a7359f9d" />\r\n\r\n\r\n\r\n- For somer reasons in the navbar spacings between caret-down and text/icons disappeared. Can you add at least 4px spacings? \r\n\r\nnow:\r\n<img width="949" alt="image" src="https://github.com/user-attachments/assets/5800be7a-281c-4c73-b88a-2a205f7d818c" />\r\n\r\nbefore:\r\n<img width="949" alt="image" src="https://github.com/user-attachments/assets/9a58d041-6e0c-416b-af95-2ce7f301bb1e" />\r\n\r\n- Controls in control panel - in the new implementation the caret-right is filled, and should be just an empty arrow like currently \r\n\r\nnow: \r\n<img width="302" alt="image" src="https://github.com/user-attachments/assets/ccb0b01f-d5e8-4b51-b394-32fc9e728c80" />\r\n\r\nbefore:\r\n<img width="302" alt="image" src="https://github.com/user-attachments/assets/93d1c7d9-06b7-45be-94a6-adc253014af9" />\r\n\r\n- in dashboard filters panel (vertical) sizing between gear and collapse icon got bigger than before. It should be 8px\r\n\r\nnow: \r\n<img width="258" alt="image" src="https://github.com/user-attachments/assets/46a6ac5b-411f-427c-b791-2b33a91af1e6" />\r\n\r\nbefore:\r\n<img width="258" alt="image" src="https://github.com/user-attachments/assets/d8166a20-efec-4c68-81c0-88a7e811f80b" />\r\n\r\n\r\n- Icon in dataset settings should be 16px for better balance\r\n\r\n<img width="972" alt="image" src="https://github.com/user-attachments/assets/d9a6484b-4615-46da-a15d-aa7ab7802354" />\r\n\r\n- not sure if this icon should be new too, but pencil doesnt seem to be updated to our current edit icon (like above) \r\n\r\n<img width="972" alt="image" src="https://github.com/user-attachments/assets/e03b3236-0e43-465a-9d74-2e11bb41f2cc" />\r\n\r\n- this caret (collapse/expand) icon on the right should match icons on the left (arrow not filled)\r\n\r\n<img width="725" alt="image" src="https://github.com/user-attachments/assets/2cc67b78-1250-40e1-b3c2-35bdc3cc08ca" />\r\n\r\n<img width="972" alt="image" src="https://github.com/user-attachments/assets/3cd964db-11e8-47ff-b506-98791b0eb66d" />\r\n\r\n

> Thank yo so much @EnxDev ‚ù§Ô∏è\r\n\r\n@kasiazjc Thanks for your review as well ‚ù§Ô∏è\r\n> \r\n> A few things I found so far\r\n> \r\n> * Action icons in CRUD views are 24x24px and should be 16x16px for a more balanced look (for example favorites star is 16x16) DONE ‚úÖ\r\n> \r\n> <img alt="image" width="1293" src="https://private-user-images.githubusercontent.com/36897697/420383908-985f6da1-ce01-4f2b-a350-a28d8bfaa18f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzODM5MDgtOTg1ZjZkYTEtY2UwMS00ZjJiLWEzNTAtYTI4ZDhiZmFhMThmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTQyYmVmMDkzMTI5OGE0MmM1M2VlYmJkOTk5YjE0NzlhNmEwYTNkMWZmYmMwMzVmZjMxNTFjZGI4Yjg1MTVlMTcmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.qD7R83LrugnhDZdIYMbsArswZCqldAi1NCORiqGHVcc">\r\n> * Icons in buttons should be bigger (10px is not really visible), I can see in ant-d they are 14x14px and we can follow that for keeping our implementation pretty much vanilla without lots of deviations. I can see that on master we use in here some weird size like 10x12, but the previous icon was much more bold, so it needs to be bigger. NOTE: I found that in some buttons we use 16px (for example save button in explore), so not sure what the rule is. Is this the correct time to update it? @EnxDev @geido\r\nDONE ‚úÖ\r\n> \r\n> <img alt="image" width="373" src="https://private-user-images.githubusercontent.com/36897697/420385184-84a96c95-8fb1-4628-8d57-0ca9c8a57d54.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzODUxODQtODRhOTZjOTUtOGZiMS00NjI4LThkNTctMGNhOWM4YTU3ZDU0LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWIwMWYxYWY0OWJmMDdhZjNjZjUyNGNmOTRkNDZlNjMyYTEwZDJiNGM5NzZlNDI0ZjUxNDNjMzhjMTI2ZjI0ZTUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.aUyibfyXtZJoX2sGqpfURz2cOG-wP3MloBXf5_zCGsg">\r\n> * might be old implementation, but this icon should match other button icons like mentioned above (14px)\r\nDONE ‚úÖ\r\n> \r\n> <img alt="image" width="335" src="https://private-user-images.githubusercontent.com/36897697/420394656-15aaac66-3428-4975-b396-b039a7359f9d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzOTQ2NTYtMTVhYWFjNjYtMzQyOC00OTc1LWIzOTYtYjAzOWE3MzU5ZjlkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTdlZTFlODA3MWRjOTBhMWRmZmQwNzk0NGFkMWNmMzk3OTRmN2RlNWJjNTgyMTBlNmVlOGEzMDcxMDU4MDMyOTEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.1owdJANzDgKbC6xFXfC5EAfhBx70wlhf_DxOxb5KPng">\r\n> * For somer reasons in the navbar spacings between caret-down and text/icons disappeared. Can you add at least 4px spacings?\r\nDONE ‚úÖ\r\n> \r\n> now: <img alt="image" width="949" src="https://private-user-images.githubusercontent.com/36897697/420386914-5800be7a-281c-4c73-b88a-2a205f7d818c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzODY5MTQtNTgwMGJlN2EtMjgxYy00YzczLWI4OGEtMmEyMDVmN2Q4MThjLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTE4NjMyYjkwM2FjMTgzZTMwZGFmNjRiZWRmNDMxZDY0NzJiYzZkODQwYzNiNDhlOTk4M2EyZDQ1ODExYmYzMjQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.WH-3IM2ymO3MRawd2sbZU4Kl6i5hOgsnnK9ERp9sgPc">\r\n> \r\n> before: <img alt="image" width="949" src="https://private-user-images.githubusercontent.com/36897697/420387026-9a58d041-6e0c-416b-af95-2ce7f301bb1e.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzODcwMjYtOWE1OGQwNDEtNmUwYy00MTZiLWFmOTUtMmNlN2YzMDFiYjFlLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTEwYjljNDNjYjY2NTA1YjQ2N2VhNjZjYjUxZTk2NjBjMzFmZmE5M2I2NjA0ZjVmZTI3NWZhOTQyNGRiMGQ3ZmYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.zpDi6kNdAfjKVt4SXfRBzIDz1lu4gqG80W4uag8Jayc">\r\n> \r\n> * Controls in control panel - in the new implementation the caret-right is filled, and should be just an empty arrow like currently\r\nDONE ‚úÖ\r\n> \r\n> now: <img alt="image" width="302" src="https://private-user-images.githubusercontent.com/36897697/420387574-ccb0b01f-d5e8-4b51-b394-32fc9e728c80.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzODc1NzQtY2NiMGIwMWYtZDVlOC00YjUxLWIzOTQtMzJmYzllNzI4YzgwLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWM0NmZmZWRhMDk1Y2E1ZWEzZjFmYzZjYzdiNWFkMzFjZGJmNGNhMzM5MmFiNTI3ZTM0NmMzZjAwM2NiNjExZjEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.qlKkolRgiW8PYW94PL6zVJDOEQN6jUbglSIxHmOClc4">\r\n> \r\n> before: <img alt="image" width="302" src="https://private-user-images.githubusercontent.com/36897697/420387762-93d1c7d9-06b7-45be-94a6-adc253014af9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzODc3NjItOTNkMWM3ZDktMDZiNy00NWJlLTk0YTYtYWRjMjUzMDE0YWY5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTljNmQyMmQ0NzYzZWRkZGFiZWQ3YzY0MWM5ZTU0N2VjODE5YTNmNzE4ZWIwZDdlNTcxNTc2MGEzZWI0YTMxYTYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.GdJVAyeplTGUGa8ZPTWStFrXsywC0Fqq4ZZyZkzZyXA">\r\n> \r\n> * in dashboard filters panel (vertical) sizing between gear and collapse icon got bigger than before. It should be 8px DONE ‚úÖ\r\n> \r\n> now: <img alt="image" width="258" src="https://private-user-images.githubusercontent.com/36897697/420389494-46a6ac5b-411f-427c-b791-2b33a91af1e6.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzODk0OTQtNDZhNmFjNWItNDExZi00MjdjLWI3OTEtMmIzM2E5MWFmMWU2LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTU4ODQzMWQ2ODVhNmNlYzc1YzMzNTFkODA4ZWJlZjYyZTM4OTUzNGNlYmRiOTg5ZTE4ODQ5MzcxZDUyODM0ZWImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.2uesDwh0PsEzyfjxEWE4i5DgdUmOUAWaTFvEC_qnYGQ">\r\n> \r\n> before: <img alt="image" width="258" src="https://private-user-images.githubusercontent.com/36897697/420389344-d8166a20-efec-4c68-81c0-88a7e811f80b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzODkzNDQtZDgxNjZhMjAtZWZlYy00YzY4LTgxYzAtODhhN2U4MTFmODBiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTQ0ODcyNDFhYjllZjRhNTY3MDZjYjFkMjQ1MjI5YzAyYjVkMWUwOWRiMGQ5ZTFhMWZjYmYzZDQ3OTA2ZjhlZjYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.5w2UUFk77Ou5TRPn6XDNY_v0HKdzZA4JCol8QORGu7w">\r\n> \r\n> * Icon in dataset settings should be 16px for better balance DONE ‚úÖ\r\n> \r\n> <img alt="image" width="972" src="https://private-user-images.githubusercontent.com/36897697/420392649-d9a6484b-4615-46da-a15d-aa7ab7802354.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzOTI2NDktZDlhNjQ4NGItNDYxNS00NmRhLWExNWQtYWE3YWI3ODAyMzU0LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQ2OTRlMDA1ZTdlYTlkZTI4OGZlNmRmNDcyNGJkOGNjMjhmNWMwZGFjOTAwODk3MzM3YmExMzczNjcxZjRjNTcmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.aNTeI3WiBK1zZMNokbNQNtv_joK-NgdHh5ZM2P-seJM">\r\n> * not sure if this icon should be new too, but pencil doesnt seem to be updated to our current edit icon (like above) DONE ‚úÖ\r\n> \r\n> <img alt="image" width="972" src="https://private-user-images.githubusercontent.com/36897697/420392981-e03b3236-0e43-465a-9d74-2e11bb41f2cc.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzOTI5ODEtZTAzYjMyMzYtMGU0My00NjVhLTlkNzQtMmUxMWJiNDFmMmNjLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTcwZjljMGYxY2RkYTVmZDQwMTg5Mzk2MGY4Y2U0ZjhhMWEyMjc2NzcyNjJmMThiMzMwMzAyNzc4ODE3M2M3NjkmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.65XPV0uOlwzrxDj328bpQPrkK_b9Mu5rpDHlTkMd6EA">\r\n> * this caret (collapse/expand) icon on the right should match icons on the left (arrow not filled) DONE ‚úÖ\r\n> \r\n> <img alt="image" width="725" src="https://private-user-images.githubusercontent.com/36897697/420393612-2cc67b78-1250-40e1-b3c2-35bdc3cc08ca.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzOTM2MTItMmNjNjdiNzgtMTI1MC00MGUxLWIzYzItMzViZGMzY2MwOGNhLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTM3MWJlMjM3Zjc0MWViMDg4OTQ0OGM1ODdkZmFkN2IxNDk3YTJiMmVkYzg4N2YzMDE1NTg1MDIzMWI3ZjE4MjImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.bmnc0ixxXSHbt-AIePkiWICrBHQQcWab4I4RSmBJUOA"> <img alt="image" width="972" src="https://private-user-images.githubusercontent.com/36897697/420393454-3cd964db-11e8-47ff-b506-98791b0eb66d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDIwNTUyMTksIm5iZiI6MTc0MjA1NDkxOSwicGF0aCI6Ii8zNjg5NzY5Ny80MjAzOTM0NTQtM2NkOTY0ZGItMTFlOC00N2ZmLWI1MDYtOTg3OTFiMGViNjZkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMTUlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzE1VDE2MDgzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWIzNWRmYWIyZTNiY2E2Y2NjM2RjMTgzYmVkMzg3ZWExYjhjOThmOTYxODUzOTU2YjVkNDdmZjY0ZTY1NzEwMzkmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.HcnnvYmf3bCLQ11ds6-27y3JXxA0Pvt38wNlCey1zws">\r\n\r\n

@EnxDev Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13875595877). Action: **up**. More information on [how to use or configure ephemeral environments](https://superset.apache.org/docs/contributing/howtos/#github-ephemeral-environments)

Superseded by #32471.

Superseded by #32464.

Looks like esbuild is no longer updatable, so this is no longer needed.

Superseded by #32419.

Looks like react-test-renderer is no longer updatable, so this is no longer needed.

Looks like math-expression-evaluator is up-to-date now, so this is no longer needed.

Superseded by #32460.

Superseded by #32210.

Superseded by #32476.

Superseded by #32463.

Superseded by #32328.

Looks like @algolia/client-search is no longer updatable, so this is no longer needed.

@dependabot rebase

Superseded by #32327.

@dependabot rebase

Superseded by #32329.

Superseded by #32330.

@dependabot rebase

Superseded by #32442.

Superseded by #32468.

Superseded by #32467.

Superseded by #32466.

Superseded by #32465.

Superseded by #32470.

Superseded by #32440.

Superseded by #32437.

Superseded by #32439.

Superseded by #32438.

Superseded by #32320.

Superseded by #32307.

Can we centralize that `width: 100%`? We have 4 instances of DatePicker throughout the app and they all need that style

/testenv up

@geido Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13074949961). Action: **up**.

Test envs still failing.

@AdheipSingh you may want to install pre-commit hooks as instructed here: https://superset.apache.org/docs/contributing/development#git-hooks it will automatically fix formatting issues and catch typical type errors during git commit.

Apologies, newbie to python. Will install the githook moving forward. I installed pre-commit locally to fix this.\r\n\r\n<img width="1006" alt="Screenshot 2025-02-01 at 3 37 36\u202fAM" src="https://github.com/user-attachments/assets/94bfdb93-89ce-4c3b-baf9-258023bbcf96" />\r\n

@betodealmeida will probably know more, but do we need to add anything for dialect parsing here: https://github.com/apache/superset/blob/1064ad5d58ec4c21d6873f1be8c3c686dc51cfd3/superset/sql/parse.py#L45

/testenv up

Updated CSS:\r\n\r\n<img width="498" alt="Screenshot 2025-02-25 at 4 12 10\u202fPM" src="https://github.com/user-attachments/assets/c141dd57-54a0-4c1d-b944-67c8e2b38fe4" />\r\n\r\n<img width="497" alt="Screenshot 2025-02-25 at 3 56 25\u202fPM" src="https://github.com/user-attachments/assets/02075dfa-74af-44fd-9880-549df9fe2caa" />\r\n\r\n<img width="496" alt="Screenshot 2025-02-25 at 3 53 27\u202fPM" src="https://github.com/user-attachments/assets/74a41366-6808-45bf-af94-a0a7a850dc68" />\r\n

> @Vitor-Avila if these migrations are optional, why are they executed by default in the first place? Isn\

Got it. Thanks for the additional context @Vitor-Avila @betodealmeida!

@DuanKuanJun thanks for opening this PR. Can you fill out the description for this PR?

> @DuanKuanJun thanks for opening this PR. Can you fill out the description for this PR?\r\n\r\nalready fill out the description\r\n@sadpandajoe 

> Please check how to correctly define the dependencies. Also, tests seem to be failing, please check CI logs.\r\n@villebro , I submit fixed code, but CI could not run, show tips "Expected ‚Äî Waiting for status to be reported"

Running CI now ü§û 

check ok on local machine.\r\nroot@test ~/dev/alex/superset (db_engine_TDengine)$ pre-commit run --files superset/db_engine_specs/TDengine.py \r\nauto-walrus..............................................................Passed\r\nmypy.....................................................................Passed\r\ncheck docstring is first.................................................Passed\r\ncheck for added large files..............................................Passed\r\ncheck yaml...........................................(no files to check)Skipped\r\ndebug statements (python)................................................Passed\r\nfix end of files.........................................................Passed\r\ntrim trailing whitespace.................................................Passed\r\nprettier.............................................(no files to check)Skipped\r\neslint...............................................(no files to check)Skipped\r\nBlacklist................................................................Passed\r\nHelm Docs............................................(no files to check)Skipped\r\nruff.....................................................................Passed\r\nruff-format..............................................................Passed\r\nroot@test ~/dev/alex/superset (db_engine_TDengine)$ pre-commit run --files tests/unit_tests/db_engine_specs/test_TDengine.py \r\nauto-walrus..............................................................Passed\r\nmypy.....................................................................Passed\r\ncheck docstring is first.................................................Passed\r\ncheck for added large files..............................................Passed\r\ncheck yaml...........................................(no files to check)Skipped\r\ndebug statements (python)................................................Passed\r\nfix end of files.........................................................Passed\r\ntrim trailing whitespace.................................................Passed\r\nprettier.............................................(no files to check)Skipped\r\neslint...............................................(no files to check)Skipped\r\nBlacklist................................................................Passed\r\nHelm Docs............................................(no files to check)Skipped\r\nruff.....................................................................Passed\r\nruff-format..............................................................Passed\r\nroot@test ~/dev/alex/superset (db_engine_TDengine)$ \r\n

@villebro , help me start CI , fix pre-commit check failed, thank you.

@villebro , please help me run ci agian , missed to submit test_TDengine.py for pre-commit checking, Thank you.

@villebro , sorry , can you help me run again. 

> Three things that you should change, in addition to anything reported by CI:\r\n> \r\n> 1. Remove `superset/db_engine_specs/test_TDengine.py`, which seems to be duplicated\r\n> 2. Rename `TDengine.py` to `tdengine.py`\r\n> 3. Rename `test_TDengine.py` to `test_tdengine.py`\r\n\r\nThree problems is done.\r\n\r\nI have another problem, how can I see docs/static/img/tdengine.png display effect ? I not sure  size is ok , have a preview address to see ?\r\n@villebro 

> I have another problem, how can I see docs/static/img/tdengine.png display effect ? I not sure size is ok , have a preview address to see ? @villebro\r\n\r\nYou can run the docs locally (it should be fairly easy). But the pic looks good at quick glance.

> > I have another problem, how can I see docs/static/img/tdengine.png display effect ? I not sure size is ok , have a preview address to see ? @villebro\r\n> \r\n> You can run the docs locally (it should be fairly easy). But the pic looks good at quick glance.\r\nThanks, I try locally. \r\nI submit a new commit to fix unit test , forget to modify import library name to lowercase , very sorry.\r\n\r\n

Thank you very much  @villebro  , When is the next version of Superset expected to be released ? 

@villebro , sorry, tdengine logo not show,  tdengine.png need put to static/img/databases/ , I need create a new PR to move.

@villebro , new PR address : https://github.com/apache/superset/pull/32176

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13053182370). Action: **noop**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13053196124). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13053520160). Action: **up**.

Got it @hainenber - thanks for explaining that and thanks for the fix!

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13052656696). Action: **up**.

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13082267112). Action: **up**.

> Looks good. Curious about that big margin when the legend is on top or the bottom? Is it intended?\r\n\r\nOh, good eye. That was just because I had set the margin to 200 in the video. This is the margin top when not entered:\r\n<img width="1258" alt="Screenshot 2025-02-03 at 2 06 44\u202fPM" src="https://github.com/user-attachments/assets/c2c403e2-1b9a-43eb-83af-c5b7a01c8785" />\r\n

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

getting out of the ai-powered enzyme translation business

Closing for now, please reopen with a good title/body

/testenv up\r\n

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13023951433).

@mistercrunch Ephemeral environment spinning up at http://35.93.23.171:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

OMG a working ephemeral env! ^^^^

![back](https://github.com/user-attachments/assets/b1efc971-6dbe-4307-944f-e03c2957786b)\r\n

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13186673682). Action: **up**.

Oh looks like you need to run `ruff format` and/or install `pre-commit`.\r\n\r\nhttps://superset.apache.org/docs/contributing/development/#git-hooks

Thanks for the contribution!

Can suggest if any changes required from my end as well.

Raised issue, No input validations there on UI #31723 -> which is closed by rusackas and has been moved to discussion No input validations there on UI #31772.

@chakilamsuryat so what happens to any dashboard/chart now that has characters that are no longer allowed? Will they break when a user tries to save?

@sadpandajoe , if given input invalid characters as shared in screenshot, it will give popup of error messaging saying that its not allowed and that name will not save.

@rusackas ,  Improper Input Validation- It is observed that application fails to validate and sanitize user supplied input containing malicious JavaScript which may be executed on browser leading to Stored Cross-Site Scripting.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13006033494).

@mistercrunch Ephemeral environment spinning up at http://54.184.81.32:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13006710177).

/testenv up

@mistercrunch Ephemeral environment spinning up at http://18.236.66.245:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13006838975).

/testenv up

@mistercrunch Ephemeral environment spinning up at http://52.12.122.64:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13006962714).

@mistercrunch Ephemeral environment spinning up at http://35.91.213.164:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13007200185).

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13007290164).

@mistercrunch Ephemeral environment spinning up at http://52.13.126.249:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

![f8d6741b-edf1-44cd-905a-4597a94fc121_text](https://github.com/user-attachments/assets/00a4fa83-fe35-418f-b7f3-f04009e29bf9)\r\n

@mistercrunch Ephemeral environment spinning up at http://34.216.170.82:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13007625343).

@mistercrunch Ephemeral environment spinning up at http://35.93.23.171:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

sorry, this PR was to my fork :)

@mistercrunch This seems to have broken CI. Should we revert?\r\n\r\n<img width="642" alt="Screenshot 2025-01-30 at 12 07 14" src="https://github.com/user-attachments/assets/661d8955-7f0b-4d66-bb4c-525351e43af9" />\r\n

Revert is here -> https://github.com/apache/superset/pull/32045

I think we can close this PR now as https://github.com/apache/superset/pull/32005 is merged

Similar fix here - https://github.com/apache/superset/pull/32006 - open to either option

Thanks for the fix @justinpark 

Looks like the radio buttons in drill by are separated\r\n\r\n<img width="875" alt="image" src="https://github.com/user-attachments/assets/a61b3a43-7083-4a21-9abb-c994a206f35b" />\r\n

> Looks like the radio buttons in drill by are separated\r\n> \r\n> <img alt="image" width="875" src="https://private-user-images.githubusercontent.com/15073128/408176163-a61b3a43-7083-4a21-9abb-c994a206f35b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzgyNTY5OTksIm5iZiI6MTczODI1NjY5OSwicGF0aCI6Ii8xNTA3MzEyOC80MDgxNzYxNjMtYTYxYjNhNDMtNzA4My00YTIxLTlhYmItYzk5NGEyMDZmMzViLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTMwVDE3MDQ1OVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQzN2E3MWNmMWFmNDMwY2EwYTIwZDQxMTM4NjRhNzdmY2EzMDhkY2E0NzkwYjRjZjdiNmE5MjVjZGQ4NjE2MjAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.H1pZ_yVstF_2AdruM-lE8D1_tqrQEPv2KvhsDs8HoBo">\r\n\r\nYes, when I modified the Radio.GroupWrapper, it broke the spacing of the drill-by. I reattached it again, thanks 

I believe this broke master CI.\r\n\r\n<img width="1357" alt="Screenshot 2025-01-31 at 15 54 45" src="https://github.com/user-attachments/assets/b7c7d583-c2df-492c-ad67-8bdc245ddc5a" />\r\n\r\nWe need to try to fix it before Monday when we\

It looks like this was a false alarm and we have another flaky test üòû. It succeeded on the third run. No changes required and thanks for the contribution @EnxDev!

Moved the related ticket on the board... merging!

/korbit-review

/korbit-review

Would be great to make this discoverable somewhere in the docs or the app

> Would be great to make this discoverable somewhere in the docs or the app\r\n\r\nGood point. I added information about the helpers to the plugin documentation and also created a tooltip to provide this information directly to the user.\r\n\r\n![Screenshot 2025-01-28 at 13 56 58](https://github.com/user-attachments/assets/f006860f-40a2-4514-b563-e67b2a445e07)\r\n\r\n

@mistercrunch @rusackas Could you please take a look on my last changes ? 

Actually decided to put up for review (from DRAFT) given there should be some benefit given the current 21 calls across the codebase

Looks like store2 is up-to-date now, so this is no longer needed.

Related if we want to add tsx pre-commit checks -> https://github.com/microsoft/TypeScript/issues/27379#issuecomment-2611978121

/korbit-review

/korbit-review

Hi @hainenber. Thank you for the amazing PR ‚ù§Ô∏è \r\n\r\n`npm run type` completes successfully but `npm run lint` gives the following warning:\r\n\r\n```\r\nWARNING: You are currently running a version of TypeScript which is \r\nnot officially supported by @typescript-eslint/typescript-estree.\r\n\r\nYou may find that it works just fine, or you may not.\r\n\r\nSUPPORTED TYPESCRIPT VERSIONS: >=3.3.1 <5.2.0\r\n\r\nYOUR TYPESCRIPT VERSION: 5.7.3\r\n```\r\n\r\nCan you bump [@typescript-eslint/typescript-estree](https://github.com/typescript-eslint/typescript-eslint) given that newer versions support Typescript 5.7.3?

There seems to be a [hanging E2E test process](https://github.com/apache/superset/actions/runs/13014524658/job/36300255802?pr=31979) at the moment :D 

I think this PR broke filter indicators.\r\n\r\nBefore:\r\n\r\n<img width="1216" alt="image" src="https://github.com/user-attachments/assets/5b759208-f939-4c32-9a86-d268604f422b" />\r\n\r\nAfter:\r\n\r\n<img width="1215" alt="image" src="https://github.com/user-attachments/assets/a5899056-6c53-4b6f-ae3b-f4fb1cdbc72c" />\r\n

@hainenber @kgabryje Can we try to fix it forward?

Yikes, this one slipped off my radar. Thanks @kgabryje for doing the fix forward!

No problem @hainenber!\r\nFix is here https://github.com/apache/superset/pull/32025

/testenv up

@michael-s-molina Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12949326528).

@michael-s-molina Ephemeral environment spinning up at http://34.220.166.108:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

On top of the comments I have unresolved above, can you please check if this is a newly introduced bug? It seems the Popover would not open in the right position, making it hard to interact with when within "More filters" in horizontal mode.\r\n\r\n<img width="1318" alt="Screenshot 2025-02-03 at 18 51 04" src="https://github.com/user-attachments/assets/85205430-04c6-4d5f-8751-410d54db8f4f" />\r\n

While doing tests and fixing the placement of the Popover component I have noticed that when having the scrollbar activated, the popover renders within the container, this happens on master as well.\r\n\r\nhttps://github.com/user-attachments/assets/823b3734-c936-4e8a-b78f-a47b131c1560\r\n

> While doing tests and fixing the placement of the Popover component I have noticed that when having the scrollbar activated, the popover renders within the container, this happens on master as well.\r\n> \r\n>  Recording.2025-02-07.104350.mp4\r\n\r\nGood catch. Can you open an issue for this and link it here?

A few more comments from manual tests:\r\n\r\nline-height looks off here:\r\n\r\n<img width="724" alt="Screenshot 2025-02-05 at 19 38 58" src="https://github.com/user-attachments/assets/7cc9b786-d38d-4d6f-a9a4-0e4f277b65f6" />\r\n\r\nThis menu item stays open when opening up the modal. This also happens when hitting ESC on the keyboard:\r\n\r\n<img width="1083" alt="Screenshot 2025-02-05 at 20 22 40" src="https://github.com/user-attachments/assets/3ce58b8d-668a-4e5b-939e-45b25ee508d6" />\r\n\r\nI am confused about navigation through keyboard. \r\n- It seems that the focus is not always on the first item\r\n- I can\

@geido Fixed the issue with the email reports and keyboard navigation consistency. But i am having trouble reproducing the last two bugs.

In dashboard menu, submenu Download, both menu items get highlighted when I hover over one of them. Other menus and submenus don\

Are you on the branch latest? I remember fixing that bug and it seems to be working\r\n\r\n![image](https://github.com/user-attachments/assets/090e23fd-8196-46e0-ba92-bff6cb16e7a1)\r\n

Not sure if it was like that before, but any chance we could make it stay in 1 line? Or if it needs to wrap, make it stay in the column with text and not go into the column with icons? If it\

Is the filter bar orientation submenu supposed to be a different color?\r\n\r\n<img width="251" alt="image" src="https://github.com/user-attachments/assets/e8e200fa-3fc4-4ec4-b953-9c8588ed835b" />\r\n

Again, not sure if it\

> In dashboard menu, submenu Download, both menu items get highlighted when I hover over one of them. Other menus and submenus don\

> Not sure if it was like that before, but any chance we could make it stay in 1 line? Or if it needs to wrap, make it stay in the column with text and not go into the column with icons? If it\

/korbit-review

> So I say: rip out all deps and tests that cause headaches with React 17.\r\n\r\nI pulled this PR and executed the unit tests to collect some insights to help with this discussion:\r\n- We currently have `178/4545` tests failing (`~4%`)\r\n- Not all errors are related to Enzyme, we have many RTL tests failing. Some examples: `DatasourceEditor.test.jsx`, `SavedQuerylist.test.jsx`, `DatasourceControl.test.tsx`, `AlertReportModal.test.tsx`, `FilterBart.test.tsx`.\r\n\r\nGiven the low percentage of failing tests, IF we are able to resolve the problems with RTL tests, I would be OK with skipping failed Enzyme tests in favor of upgrading React.\r\n

Any patterns identified in the failing, non-enzyme tests?

Personally I support `it.skip` on enzyme test for the sake of moving forward, and take a note to either translate/rewrite/delete based on a case by case basis.

Update: we\

üéâ üéâ \r\n<img width="460" alt="image" src="https://github.com/user-attachments/assets/82ce47b8-7604-482b-aaab-82f179d6743b" />\r\n

Apparently a test suite UploadDataModal.test.tsx is failing on CI, but runs fine for me locally. Can someone please try to run it and verify if it works?

> Apparently a test suite UploadDataModal.test.tsx is failing on CI, but runs fine for me locally. Can someone please try to run it and verify if it works?\r\n\r\nHi @kgabryje. I executed the test 3 times locally and all tests passed every time.

\r\n> Hi @kgabryje. I executed the test 3 times locally and all tests passed every time.\r\n\r\nThat‚Äôs worrying, I could repro the errors from the CI before, but my changes to that test suite fixed them. I wonder if we have jest‚Äôs cache enabled in the runners. @mistercrunch do you know anything about that?

\r\n> That‚Äôs worrying, I could repro the errors from the CI before, but my changes to that test suite fixed them. I wonder if we have jest‚Äôs cache enabled in the runners. @mistercrunch do you know anything about that?\r\n\r\nFortunately the fix was simply increasing timeouts on those 3 tests üôÇ \r\n

\r\n> Could you add something to `UPDATING.md` indicating that we upgraded to React 17? This is important for folks using frontend overrides and dependencies that might not be compatible with this version of React.\r\n\r\nGotcha.\r\n\r\n@rusackas or @villebro could you please stamp this PR as well? Need your ‚úÖ as code owners üôÇ \r\n\r\n

@Vitor-Avila It would be interesting to open a follow-up to add tests for this change. @sadpandajoe mentioned that any contributor could remove the datasource reference without knowing the impact.

Thank you üôèüèº 

I was unable to post the issues I found. This could be because a force push or squash has changed the commit history since I scanned this pull request. You can get another review by commenting `/korbit-review`.

@mistercrunch this PR should hopefully fix that flaky E2E test that you have skipped in this PR https://github.com/apache/superset/pull/31933. Feel free to rebase and unskip it if my PR passes CI.

Re-bump :D

Thanks @hainenber ! This looks great. Sorry for the slow review. Nice catch on removing the empty SSH tunneling page.

> Oof! LGTM. I wish we had unit tests for this logic.\r\n\r\nOne thing I want to do is write a CI action that checks if the return value of cached functions has changed, and warns in the PR that the cache needs to be purged. We could also make it check if all arguments are used in the cache key.

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

Justin and I were wondering if this is indeed safe, or if it might be storing longer strings for some and cause side effects.

> Justin and I were wondering if this is indeed safe, or if it might be storing longer strings for some and cause side effects.\r\n\r\nThis change will only affect the generation of new permalinks. Old ones are not impacted.

@geido the logic in the PR seems simple enough, but the tests failures worry me. Holler if you have time to look at them async or on zoom with me, and maybe we can sort it out. I\

/testenv up

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12820137061).

@rusackas Ephemeral environment spinning up at http://44.243.18.92:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@supersetbot orglabel

Might be a feature, but would be good to have a checkbox on imports that ask if the user wants to overwrite. Would also fix workflows where we want to know if things should be overwritten or not.

I agree this should be optional, like a checkbox in the import dialog to "Also overwrite dependencies" or etc, defaulted to un-checked. \r\n\r\nOverwriting all dependencies is currently already possible via the `/api/v1/assets/import/` endpoint, but having this as a new feature via the UI is definitely helpful! üôå 

@supersetbot orglabel

Thanks, @hughhhh! :)

> Hey @alexandrusoare , thanks for taking care of this.\r\n> \r\n> I left a [comment on the issue](https://github.com/apache/superset/issues/30592#issuecomment-2596861757) itself, but IMHO we should instead have a look at the library that\

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12813498717).

@mistercrunch Ephemeral environment spinning up at http://54.186.90.161:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/korbit-review

From some functional testing:\r\n\r\n- A bit of an edge case but the error looks like it is not correctly padded in full page width\r\n<img width="1511" alt="Screenshot 2025-01-15 at 17 26 57" src="https://github.com/user-attachments/assets/1850f835-0c54-4041-9edf-c29f7743ce78" />\r\n\r\n- Is a chart failure considered a warning?\r\n\r\n<img width="771" alt="Screenshot 2025-01-15 at 17 28 55" src="https://github.com/user-attachments/assets/52fe47dd-0463-4934-bdef-69b2e707d028" />\r\n\r\n- Same, for a chart in Explore. I am thinking these should probably be errors. \r\n\r\n<img width="1500" alt="Screenshot 2025-01-15 at 17 30 49" src="https://github.com/user-attachments/assets/64ceafad-326c-4844-b5a0-a98627dac81d" />\r\n\r\n- The positioning of the icon on the left of the text looks off.\r\n\r\n- In general, the text color of these alerts seem to stick out a bit too much. I know we want be as vanilla as possible but I\

/testenv up

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12893497625).

@kasiazjc hoping to spin up an ephemeral for you to get a pass on this if you have time. 

@sadpandajoe Ephemeral environment spinning up at http://54.149.181.65:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ok, this PR needs a bit more TLC, will ping after addressing the comments and CI issues

Looks like a lot of the flakiness is there on `master` too, also couldn\

@michael-s-molina is there anything else that needs to be addressed, or is this good to go, assuming the async task type change can wait until the GATF feature?

Can you reference the PR number/link in the description, and elaborate on exactly what impacts this might have? I just get paranoid about touching anything with timezones :) 

Thanks! This has been superseded by https://github.com/apache/superset/pull/31941

merging henry_test branch

Thanks!\n\nRe:CI, I think the 5th E2E test got borked after merging #31796

Probably just a flaky test, rerunning

I checked e2e CI history. They all failed at 5th shard ü§î 

The e2e test should be fixed now with https://github.com/apache/superset/pull/31933. Should just need a rebase.

sheesh, rebase sheenanigans! Fixing in progress. Sorry for all folks getting notified!

Yeah, the e2e experience isnt the greatest right now‚Ä¶ @geido @mistercrunch the Annotations ‚ÄûCreate formula annotation y-axis goal line‚Äù is yet another test that‚Äôs been frequently failing for years. Would be great if one of us could take a look at that as a part of cypress cleanup project. 

Hey I don\

@mistercrunch We can hold off on this pr until #31858 is merged. I can rebase this onto your changes after.

Sorry for the pings people, was trying to solve merge conflicts.

Looks great, once Justin‚Äôs comment is addressed it‚Äôs good to merge

Looks like everything discussed is in order. Thanks for the contribution!

The PR is missing unit tests. It would be great to add them in a follow-up PR. Thanks for your contribution @fardin-developer !

Wrong repo 

@sadpandajoe maybe we can pair up and dig in, I have the whole interactive Cypress thing running and interactively debugging but was stuck. Also confused as to how my backend PR creates tooltip/modal issues. Seem like timing / race condition type stuff. Tried disabling animation, longer timeouts, ...

@eschutho you probably have an env var in our current shell pointing to 8088. \r\n```\r\n$ env | grep -i cypress\r\n$ unset CYPRESS_BASE_URL\r\n```

@rusackas I think the tests should pass now

meant for my fork... sorry.

You need to run the pre-commit hook to pass CI.\r\n\r\nSuperset uses Git pre-commit hooks courtesy of [pre-commit](https://pre-commit.com/). To install run the following:\r\n```\r\npip3 install -r requirements/development.txt\r\npre-commit install\r\nA series of checks will now run when you make a git commit.\r\n```\r\nAlternatively it is possible to run pre-commit by running pre-commit manually:\r\n```\r\npre-commit run --all-files\r\n``` 

@villebro thank you for your feedback. I removed the i18n part and will add it in a new PR.\r\n\r\nI also added tests for the time grain part to ensure that it works as expected.

@jpchev do you mean to see what the rules are? There are various eslint.config.js files in the codebase you can look at. \r\n\r\nIf you mean you want to _run_ the script to test it, you can check the `package.json` file for all the npm scripts, but the one you probably want is `npm run lint-fix`

Ooops approved twice...

In our app, to upgrade Pandas to 2.2.3 and still work with SQLAlchemy 1.4.x, we had to change the way we called e.g. `pd.read_sql_query` \r\n\r\nSo, the likes of this call: \r\nhttps://github.com/apache/superset/blob/aae8fda11dafdd96298884962e790d10bd0104d0/superset/models/helpers.py#L1381\r\n\r\nWould change to read:\r\n```\r\ndf = pd.read_sql_query(sql=sql, con=engine.raw_connection())\r\n```\r\n\r\nWorth a try in the places it fails üëç 

/korbit-review

@nicholaslimck

@villebro might be most qualified to look at this one, if he has time. That said, there are some failing tests that could use attention, and a more descritive PR title could help too :D 

@pomegranited all checks pass now

all tests pass now,\r\nbut due to a merge conflict I had to remove all my commits and push again, \r\nand that closed the PR, so I had to reopen again and that requires again your approval.\r\n\r\n@villebro @michael-s-molina could you please have a look if it is ok?\r\n\r\nThank you

@pomegranited do you have news? It seems this PR can be merged, all tests pass and we fixed all the detected issues

This is looking great! Re-running a failing (and probably just flaky) CI check.

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13446391593). Action: **up**.

@jpchev looks like pre-commits are failing, but I think we fixed this in master already. Can you rebase against master?

Making the service wait for superset-init makes it super clear that example load/reload is slow. Looking to do some work on making example reload super fast, meaning if you already loaded up the examples, upserting them should be extremely quick.

Superseded by #32016.

@alexandrusoare would it be a good idea to make the inputs optional? Especially in horizontal filter bar orientation the added inputs may be problematic.

Reviewers: this PR just left draft state.

I am still seeing a bunch of different issues:\r\n\r\n- When selecting the Single value option the filter goes out of scope for some reasons\r\n- When working with the default value I see the value being reset to zero and sometimes I have also seen it blink from the lowest value to the highest, not sure\r\n\r\nhttps://github.com/user-attachments/assets/705c8a98-02f1-45c5-8192-ae4e570cde9b

> I am still seeing a bunch of different issues:\r\n> \r\n> * When selecting the Single value option the filter goes out of scope for some reasons\r\n> * When working with the default value I see the value being reset to zero and sometimes I have also seen it blink from the lowest value to the highest, not sure\r\n> \r\n>  Tabbed.Dashboard.mp4\r\n\r\nHey @geido , thank you for your feedback. Regarding the first issue, this is something that I could reproduce on master as well, and with all the types of filters, not just the Numerical Range one

I added the "hold!" label - there\

@alexandrusoare I don\

I agree with @villebro that using a placeholder might be a better solution. Also, I\

> I agree with @villebro that using a placeholder might be a better solution. Also, I\

Hello. I have noticed this bug from manual testing:\r\n\r\nWhen adding default values, leaving the Dashboard and then coming back shows the inputs empty instead of the default values.

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

The docker bits on CI are not blocking if you want to merge this @justinpark :)

Putting a hold on this as there are discussions on theming going on right now that could already include this.

Close this PR as the `react-error-boundary` uplift is done in [PR upgrading to React v17](https://github.com/apache/superset/pull/31961)

/korbit-review

Installing the pre-commit hook should resolve at least some of the CI issues. \r\n\r\n/\r\nSuperset uses Git pre-commit hooks courtesy of [pre-commit](https://pre-commit.com/). To install run the following:\r\n```\r\npip3 install -r requirements/development.txt\r\npre-commit install\r\nA series of checks will now run when you make a git commit.\r\n```\r\nAlternatively it is possible to run pre-commit by running pre-commit manually:\r\n```\r\npre-commit run --all-files\r\n``` 

Hi @rusackas :) Is there anything more I can do here to get this PR approved?

I was hoping someone more FABtastic than me would come along to review this. If not @dpgaspar, perhaps @mistercrunch can take a look.

hi @dpgaspar , is there anything else you need from me before this can be merged?

@sule26 you need to regenerate the `helm-docs` so they reflect the updated path.

@villebro Done!\r\n

Saw this line in the change log for their 5.5 version\r\n> Break Change] [Feature] [core] change to default ESM package. https://github.com/apache/echarts/issues/19513 ([100pah](https://github.com/100pah))

Superseded by #31727.

@dependabot recreate

@dependabot recreate

@dependabot recreate

@dependabot recreate

@dependabot recreate

@dependabot recreate

According to the Changelog in the PR description, the breaking change is this:\r\n\r\n> The modules.namedExport option is true by default if you enable the esModule option\r\n\r\n@sadpandajoe Will this have any impact for us?

\r\n> According to the Changelog in the PR description, the breaking change is this:\r\n> \r\n> > The modules.namedExport option is true by default if you enable the esModule option\r\n> \r\n> @sadpandajoe Will this have any impact for us?\r\n\r\n@michael-s-molina I did a quick search for `esModule` and noticed that we already set it to true. But might be looking in the wrong spot.

Looks like @typescript-eslint/parser is up-to-date now, so this is no longer needed.

Dependabot does not support your npm version. Because of this, Dependabot cannot update this pull request.

Superseded by #32092.

@dependabot recreate

@dependabot recreate

@dependabot recreate

@dependabot recreate

looks like your PR has unrelated Ubuntu bumps, mind rebasing/cleaning it up?

PR rejected, I closed it and did a clean one\r\n\r\nhttps://github.com/apache/superset/pull/31720\r\n

Looks like this might just need `npm run lint-fix` from within the `superset-frontend` directory.

@rusackas alright, I‚Äôll try this approach. I spent some time last week working on currency management using the "locale" key in the urlParams. I\

@rusackas for the company I work with, and I believe others in the community might also need this, I would like to make it possible to translate chart titles on a dashboard. This is something that isn‚Äôt currently dynamic with the language selection. Have there been any ideas or discussions on this topic?

@ERGO1995  could you please add a link to the associated issue in the additional information?

Running CI, but it doesn\

> Running CI, but it doesn\

Thanks @DamianPendrak. Would you please add tests along with your PR? 

you\

I am sorry but no. I just wanted to bump a version for a quick security fix, not fixing pipelines, running scripts, adding dependencies somewhere to please whoever.

Running CI ü§û 

All green :D 

re-bump :D 

funny thing is that the failed E2E test is due to non-Cypress issue üòÜ . I\

Let me rebase the branch to be up-to-date with `master`

Hey. Thanks for this. Do you think we could add tests to avoid the issue will be reintroduced in the future?

> @LevisNgigi Something is off. When trying to bulk select and add a tag, instead of adding the existing tag, it is creating an entirely new tag. Can you please check that?\r\n> \r\n>  DEV.Superset.mp4\r\n\r\n@geido Thank you, I have fixed the bug.

> Did a bit of manual testing and looks fine. However, I find the user experience to be very odd here as once I have added a tag I cannot remove it. I think there should be an option somewhere for that in the future. Thanks for working on this.\r\n\r\n@geido Thank you for this. Also you can remove the tag from a query via the edit tag option.

@villebro  I added my changes as well into your changes. Please review those üôá\r\n\r\nI am not sure but should we update bitnami chart versions as well? Current charts are outdated and it is filled up CVE issues.\r\n

/testenv up

Yikes, failing CI due to wrong Docker credentials

tackled here too -> https://github.com/apache/superset/pull/31503/files#diff-a4864fcda8cd8d9940c0ef2ae0057381ac247670676c4fd8822c6dc80af333baR21\r\n\r\nSince the breaking change window is open, I think we should just merge that PR ^

Thanks for your review effort everyone! I decided to catch plausible exceptions for this method in the HEAD ([source](https://chatgpt.com/share/677a0ee9-1b94-8006-a514-0d760362230d)). Please help taking a look when you have time. Thanks all!

I am not sure if this is related or not? Is it ok to fix initialbootupscript? It is giving psycog2 error cause new docker image is lacking that.

@ochalover please check #31627. Feel free to make the same changes in this PR to avoid having to wait for my PR to get merged first.

closing this as changes are migrated to @villebros fork

/testenv up

@sfirke Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12504502739).

@sfirke Ephemeral environment spinning up at http://34.219.200.53:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@kasiazjc take a look and see if there are any other changes you would want to be made here.

/testenv up

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12589749416).

@sadpandajoe Ephemeral environment spinning up at http://35.89.6.135:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

> Currently in our CRUD list views (dashboards, charts, datasets) we use a fixed width of 200px for all filters, regardless of their content. This leads to some filter rows overflowing depending on use screen width. Here I\

Closing and hoping to use more compact widths once we upgrade <Select/> to antd v5

This UI is taking a lot of space vertically in the right panel

/korbit-review

@mistercrunch I pulled this branch and did a quick navigation. I understand the importance of merging this before the breaking window closes and that we can fix the issues during the RC rounds but I think we need to polish a little bit more before merging this PR. Here\

Thanks for reporting the visual issues, planning on solving the bulk of them (and other ones we find) prior to merging this.

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13042110938). Action: **up**.

A few visual bugs that I found while testing:\r\n\r\n1. Weird background behind dropdown triggers (home page, dashboard)\r\n\r\n<img width="1723" alt="image" src="https://github.com/user-attachments/assets/77cccc51-9f35-4f74-9ee0-57d0e5245dc2" />\r\n\r\n2. 2 primary buttons in edit dashboard modal (and many other places)\r\n\r\n<img width="907" alt="image" src="https://github.com/user-attachments/assets/0d072756-fff9-4e0b-9534-f0d9f570af1d" />\r\n\r\n3. Nit but we probably should have a tooltip or an icon in the light/dark trigger\r\n\r\n4. Gray background behind the native filters bar looks kinda weird. Also, the full tab content background should probably be white, and it\

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13644381440). Action: **up**.

Looks much better already! I\

ok did a round of updates here, tackled some and left some TODOs in the list...\r\n\r\n### Dashboard list page\r\n\r\n> Secondary button looks different\r\n\r\nTrying to address this with secondary="filled" with color="primary" instead of "outlined" / "grayscale"\r\n\r\n> Buttons have larger border radius than before\r\n\r\nGoing vanilla! We could reduce it if we want to maintain consistency with previous theme for this specifically\r\n\r\n> Spacing between the header and the filters section is smaller\r\n\r\nTODO\r\n\r\n> Import dashboards icon has different color\r\nTODO: I\

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13666937735). Action: **up**.

about \r\n\r\n>- Font size of the dashboard header is smaller\r\n\r\nI checked and the the branch is at `20px` while master is at `21px`, good eye for spotting this @kgabryje  :) . I think 20px is ok :)

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13799454306). Action: **up**. More information on [how to use or configure ephemeral environments](https://superset.apache.org/docs/contributing/howtos/#gitHub-ephermeral-environments)

Not directly related, but while trying to add support for python 3.12 on another PR, noticed some things that are related to this.\r\n- newer version of pandas removes support for to_sql\

LGTM, but CC @mistercrunch 

<img src="https://media1.giphy.com/media/wnmfA4N6mIziIGEKEs/giphy.gif"/>\r\n

\r\n![ezgif-7-c0df40fb2c](https://github.com/user-attachments/assets/c7425e0d-588b-4933-b76c-2d52f7fb340e)\r\n

/korbit-review

Reviewing... bear with me for a bit.\r\n<img src="https://media1.giphy.com/media/nOW7pC0POeyOID23T3/giphy.gif"/>

OMG -10k LoC !!!!!\r\n![sponge-bob-cleaning](https://github.com/user-attachments/assets/9a69b3b6-4ea1-456c-a6a7-9280452038f3)\r\n

@betodealmeida @eschutho @mistercrunch Can you stamp this PR as code owners?

WOOHOO!!!!!

cuando lanzan superset 5 ??

@ryepezb1 You check the schedule for major releases in our [Release Process](https://github.com/apache/superset/wiki/Release-Process#schedule).

@mistercrunch Any idea about the [docker image error](https://github.com/apache/superset/actions/runs/12429138962/job/34702037859?pr=31580)?

@betodealmeida is definitely the subject matter expert on catalog support lately!

@villebro Please help me push it forward. Thank you.\r\nIn addition, I would like to ask, after the PR is merged, in which superset release version will it be released? I need to update the official documentation of apache doris based on this information for reference by superset users.

@villebro Hello, in which version will this feature be released?

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12435630775).

@mistercrunch Ephemeral environment spinning up at http://54.244.170.62:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@kasiazjc you might be interested in this

@mistercrunch please let me know, if you can assign this issue to me?

@mohdslmn this PR is ready for review/merge, not sure what you mean about assigning it to you (?)

ok got it @mistercrunch 

@kasiazjc looks like this may be ready to go if you want to take a look

> Realign labels to look and feel closer to native AntD while integrating the theme colors.\r\n> \r\n> As part of this PR:\r\n> \r\n> * modify  to look and feel like native AntD\r\n> * adjust theme colors for primary/secondary/grayscale to align brightness-wise, mostly so that `.light2` lines up across the board\r\n> * Created a reusable label for DatasetTypeLabel and use it it CRUD list view\r\n> * Creating a PublishedLabel to use for dashboard in header + CRUD\r\n> * Improvements to storybooks: theme color to line up side by side\r\n> * Improvement to Label storybook, more interactive\r\n> \r\n> ### label storybook\r\n> <img alt="Screenshot 2024-12-19 at 5 01 47\u202fPM" width="1002" src="https://private-user-images.githubusercontent.com/487433/397578074-38c31983-c36e-436d-aaf7-a21e1ba5e4a5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzYyNzAxOTYsIm5iZiI6MTczNjI2OTg5NiwicGF0aCI6Ii80ODc0MzMvMzk3NTc4MDc0LTM4YzMxOTgzLWMzNmUtNDM2ZC1hYWY3LWEyMWUxYmE1ZTRhNS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwN1QxNzExMzZaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT01OTJiODhmM2ZiMDBkZWVkNTBhNjJiZGVjY2VkYjdhMzhiNTUxN2IxMWU3MWViZmI3MDdjNjAyMzIwZTU0ODNlJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.Dr7JmBy_F8qY-cvF5X6yvW5k1OIFaDDqg_OLa6Q9Dww">\r\n> ### dashboard header\r\n> <img alt="Screenshot 2024-12-19 at 5 02 16\u202fPM" width="623" src="https://private-user-images.githubusercontent.com/487433/397578064-237271dc-ca79-4d83-8581-60268e136e1b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzYyNzAxOTYsIm5iZiI6MTczNjI2OTg5NiwicGF0aCI6Ii80ODc0MzMvMzk3NTc4MDY0LTIzNzI3MWRjLWNhNzktNGQ4My04NTgxLTYwMjY4ZTEzNmUxYi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwN1QxNzExMzZaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0yNjc4NDZhNTI5ZjIxZWMwMzIxNzFiMDlkNWNmY2M2OTkwOGRhM2Y3MDkyODhkYzc3YzY3MGZhM2YyOWUyZmE1JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.7jIdprNW6qUfhMUtDNg8qQcfYmw1qO_4Ij40edCSixQ">\r\n> ### crud view datasets\r\n> <img alt="Screenshot 2024-12-19 at 5 02 04\u202fPM" width="903" src="https://private-user-images.githubusercontent.com/487433/397578068-2aa23acb-e6e0-43c1-a47c-56e2f46d3b86.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzYyNzAxOTYsIm5iZiI6MTczNjI2OTg5NiwicGF0aCI6Ii80ODc0MzMvMzk3NTc4MDY4LTJhYTIzYWNiLWU2ZTAtNDNjMS1hNDdjLTU2ZTJmNDZkM2I4Ni5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwN1QxNzExMzZaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1jMTA0NTFjNTdmODRjMDI1MzhmNjdjNzM3YjM0YzZlOTEyZTJlNDZmODQxOGUzNDIwZWNlMzI5NGRhZmRmNDMzJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.or88NRR71Abn-QFmol0dFoGF1UiXqV4HJDPIdbrMKQo">\r\n> ### crud view dashboards\r\n> <img alt="Screenshot 2024-12-19 at 5 41 32\u202fPM" width="795" src="https://private-user-images.githubusercontent.com/487433/397587052-b901e439-8479-4b2b-aa4f-5655f11bf15b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzYyNzAxOTYsIm5iZiI6MTczNjI2OTg5NiwicGF0aCI6Ii80ODc0MzMvMzk3NTg3MDUyLWI5MDFlNDM5LTg0NzktNGIyYi1hYTRmLTU2NTVmMTFiZjE1Yi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwN1QxNzExMzZaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1hY2EzODcyNmU1ZTllMmZhNDhiOTAxZGVkODYxMDI0ZjQ0ZjlkNGVmNzljMTQ1ZmY1NzZhMjhjYjZjMTZmZmMzJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9._ntitSDnsoTlxf1_LDb8iO5fW1v1ktGjPpi9VtwnzSY">\r\n> ### explore\r\n> <img alt="Screenshot 2024-12-19 at 5 41 54\u202fPM" width="535" src="https://private-user-images.githubusercontent.com/487433/397587050-897cbd88-0a02-4d2c-bb35-3988af4901cb.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzYyNzAxOTYsIm5iZiI6MTczNjI2OTg5NiwicGF0aCI6Ii80ODc0MzMvMzk3NTg3MDUwLTg5N2NiZDg4LTBhMDItNGQyYy1iYjM1LTM5ODhhZjQ5MDFjYi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTA3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDEwN1QxNzExMzZaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT05ZDBmMTZhZWUwNWI4YzE0NmE5NzUzMWFlYmYyNTIzMjY4NzdiMmMwOTVjNmRhZDk3OTNhMzNmY2UxZGVjM2I1JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.YOIbcZn0mwxMGlSPBhN76OSUtp6hoMgO-iTlY5NxRy0">\r\n\r\nLove the change! One thing I would suggest is to keep green for published/checked/done etc (success, error and warning basically), and use some other color (secondary?) for virtual datasets @mistercrunch 

/testenv up

@kasiazjc Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12656053776).

@kasiazjc Ephemeral environment spinning up at http://34.209.140.91:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

## latest storybook screenshots\r\n\r\nhere this first one matrixifying the color grid really shows some of the issues with it, like different colors have different number of shades, and brightness is not aligned across. My other theming PR should really help with that.\r\n\r\n<img width="1469" alt="Screenshot 2025-01-07 at 4 51 38\u202fPM" src="https://github.com/user-attachments/assets/4ea7e7ea-59ff-4339-a24a-1f9c1b080306" />\r\n\r\n## labels\r\n<img width="1130" alt="Screenshot 2025-01-07 at 4 51 26\u202fPM" src="https://github.com/user-attachments/assets/48b3194d-929e-4659-a0eb-f7729351ebbe" />\r\n

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12679921092).

Looks like `npm` had an outage earlier, re-triggering eph env

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12681118461).

@mistercrunch Ephemeral environment spinning up at http://52.27.147.237:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

<img width="884" alt="Screenshot 2025-01-09 at 2 02 08\u202fPM" src="https://github.com/user-attachments/assets/14bec8c5-7502-43aa-ad68-b21a5bea200c" />\r\n

@kasiazjc thanks for the input, moved to using primary/secondary and fixed the hovered state on non-clickable 

@dependabot rebase

Superseded by #32108.

@dependabot rebase

@rusackas I noticed that the loader is not handled properly in an embedding context. The image does not load. Do you have any idea what might be causing this issue? I came across a topic that could potentially relate to my problem, but the lines referenced in config.py no longer seem relevant (https://github.com/apache/superset/issues/28112#issuecomment-2062595472) @mistercrunch.

It feels like all this should be included in the theme object eventually.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12406049177).

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12406194562).

@dependabot rebase

@dependabot rebase

@dependabot recreate

@dependabot recreate

@dependabot rebase

@dependabot rebase

@dependabot rebase

@dependabot rebase

Superseded by #32109.

@dependabot rebase

Superseded by #31589.

@dependabot rebase

We need to upgrade from React 16 for this to work.

@dependabot rebase

@dependabot recreate

@dependabot rebase

@dependabot recreate

@dependabot rebase

Looks like dompurify is up-to-date now, so this is no longer needed.

@dependabot rebase

Looks like chalk is up-to-date now, so this is no longer needed.

@dependabot rebase

Looks like @deck.gl/aggregation-layers is up-to-date now, so this is no longer needed.

@dependabot rebase

/testenv up

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12792522217).

@rusackas Ephemeral environment spinning up at http://54.200.9.186:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12935423675).

@rusackas Ephemeral environment spinning up at http://54.214.194.250:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@dependabot rebase

@dependabot rebase

Reran the docker build & publish step multiple times and for some reason it keeps failing

@dependabot rebase

@dependabot rebase

@dependabot rebase

@dependabot rebase

@dependabot rebase

@dependabot recreate

@dependabot rebase

Reran the docker build & publish step multiple times and for some reason it keeps failing

@dependabot recreate

@dependabot rebase

@dependabot recreate

Superseded by #31734.

Not seeing any breaking changes listed in their change logs for this version bump.

@dependabot rebase

@dependabot recreate

@dependabot recreate

@dependabot rebase

/testenv up

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12423366361).

@sadpandajoe Ephemeral environment spinning up at http://35.93.23.171:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12406994274).

@mistercrunch Ephemeral environment spinning up at http://34.220.183.190:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12406585651).

@mistercrunch Ephemeral environment spinning up at http://null:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12408303070).

@mistercrunch Ephemeral environment spinning up at http://18.236.253.218:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Thanks! I was just about to open the same PR :P 

Hi,\r\nSorry to ask, but @sadpandajoe , why does the label have been removed ? \r\nJust to understand the rules :)\r\nThis PR is waiting for reviews.\r\nRegards

Hi @kgabryje @kasiazjc ,\r\nCan you please review this PR ?\r\nIt would be nice to have Polish added to the list of translated languages and released\r\nThanks\r\nRegards\r\n

Should we first merge #31313 before proceeding with this? Also, should we not wait until 3.12 is supported before moving the window of supported versions forward?

@rusackas @villebro @michael-s-molina we should be able to merge this since the breaking change window is open

<img width="679" alt="Screenshot 2025-01-07 at 10 01 44\u202fAM" src="https://github.com/user-attachments/assets/f9218574-a57e-4543-801a-9630d70d6ceb" />\r\n

Here -> https://github.com/apache/superset/pull/31740

Ok I pushed by bumping a bunch of libraries here, and ultimately got to a place where `next` hung on `setup-backend` while installing python deps. Turns out there were no wheels out for pandas/numpy for the version we had pinned. So I bumped it beyond the range that was specified in our `pyproject.toml` (there was no note around why it had an upper bound) and uncovered some other issue we have with this newer version `pandas`.\r\n\r\nCertainly a good thing to unpin and push through, but might require some work or waiting for newer version of libs to move forward.

@mistercrunch Could you please add the changes made in this PR to `UPDATING.md`?

Done! I think this might be ready for merging

@villebro @michael-s-molina anything else needed to get this merged?

Oops, I forgot to `git push` my commit. I just pushed it

@mistercrunch I left a comment about the integration tests in the committers channel.

Oops missed the target branch issue ... Please re-target (you may have to open another PR, not sure if GH will let you do this...)

I\

> I\

/testenv up

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12402132071).

Thanks again for all the sunburst attention! Pinging a couple of subject matter experts :D 

NOTE: this needs to work in forks/without dockerhub creds to be viable

Still on the fence but would require a line in `UPDATING.md` to notify release managers.

@villebro there are roughly two reasons why we parse SQL in Superset:\r\n\r\n1. To extract referenced tables (enforcing data access roles, for example); and\r\n2. To modify the query (enforcing RLS, for example).\r\n\r\nThe feature from this PR falls in category 2. I think that any functionality in that category should always be optional, since there are always security and correctness concerns when modifying a query. So I would propose the following:\r\n\r\n- 5.0: add the feature flag, default to false.\r\n- 6.0: move the feature flag to a configuration option, default to false.

Actually, I think we should have a list of engines in `superset/config.py` where this should be applied, it gives more flexibility.

@betodealmeida would this also push RLS rules to the query predicate as well?

> @betodealmeida would this also push RLS rules to the query predicate as well?\r\n\r\nI think so, but let me double check.

Yeah, the RLS is applied in `get_sqla_query` in `superset/models/helpers.py`, which happens before the query optimization.

@william-fundrecs I assume this PR was mistakenly opened against upstream Superset, not your fork?

@villebro No, this was functionality I thought would be useful to donate back to superset, we already make use of this in our presto Athena DB backed Superset instance.

Can we do it without adding two feature flags, perhaps leaning on config? And do we need to single out S3? Could there be numerous other options for where people get/store their CSV?

This has been updated to remove the S3 download right click context menu option. \r\n\r\nInstead the db type is passed into component props and if feature flag is enabled and db type is athena, the new export functionality will be used, otherwise the existing/default export functionality will be used.\r\n\r\nTo the user it will look exactly the same (aside from vastly faster download speeds when using Athena with query results persisted to S3 bucket)

Looks like this needs a rebase to be mergeable. Thanks for addressing PR comments :D 

/korbit-review

Thanks for showing the starburst chart so much love :D 

/testenv up

Code LGTM, but I wonder if there\

Running CI ü§û 

Right. The idea is that this file is in `.gitgnore` (to prevent people altering/pushing local changes by mistake) and can be used locally to override defaults. Say for instance I could use it to connect to a remove postgres database in my local environment for some reason. It\

I\

/testenv up

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12324395229).

@sadpandajoe Ephemeral environment spinning up at http://54.190.59.231:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/korbit-review

@eschutho merged your commit in here

Just to clarify - this PR enforces new rules, that either were not found by `pylint` before (now deprecated in this repo) or weren\

Saw the code scan complaints about MD5. We can (a) ignore that issue to make this PR mergeable, or (b) file an Issue about it and circle back to it in a subsequent PR. (B) is probably a better option, lest we forget. That change seems out of scope for this PR.

> code scan complaints about MD5\r\n\r\nYes but this is not a regression, it\

/korbit-review

> However, the whole tags resource is pretty funky (including the data model and the related enums), so I would almost suggest doing a big refactor on it at some point.\r\n\r\n@villebro I wrote a feedback about the Tags feature [here](https://github.com/apache/superset/discussions/25918) which includes some suggestions for the API.

Thanks @michael-s-molina , that was a great writeup! I agree with all points raised üëç

@datavigilante can you add a description to this PR to clarify the need for these code changes?

@villebro sorry, I meant for these to be sent to my fork as they are specific configurations for me. \r\n\r\nLet me try to close this PR...\r\n\r\n

Pinging @dpgaspar to add more folks who might be interested in a security discussion here. Some might be bothered by the fact that queries can contain PII (like email addresses or names in WHERE clauses) and unlocking these might pose an issue for some deployments/companies.

Tagging @yousoph @geido as you were active on the original issue. Has there has been discussion about making queries shareable via permalinks? Was this considered as a solution? As @rusackas commented, exposing saved queries to anyone with a link to it can be problematic, as per the current design they are private objects. Implementing this is of course more work, but is aligned with how sharing is done in Explore and the Dashboard views.

> Tagging @yousoph @geido as you were active on the original issue. Has there has been discussion about making queries shareable via permalinks? Was this considered as a solution? As @rusackas commented, exposing saved queries to anyone with a link to it can be problematic, as per the current design they are private objects. Implementing this is of course more work, but is aligned with how sharing is done in Explore and the Dashboard views.\r\n\r\nHey, just a clarification.Not anyone with the link can view the query.Any user with public, Gamma, or Alpha roles cannot view the shared saved query link. Access is strictly limited to users who have been explicitly granted permission by the admin under the SQL Lab role. This ensures that only those with appropriate SQL Lab permissions and dataset access are able to load and view the query. All other users, including those with general roles like Gamma or Alpha, will receive an "Access Denied" message when attempting to access the link.

Thanks for the clarification @LevisNgigi üëç 

> Thanks for the clarification @LevisNgigi üëç\r\n\r\n@villebro Much Welcome.

@LevisNgigi Has there has been discussion about making queries shareable via permalinks (using "copy link")?

> @LevisNgigi Has there has been discussion about making queries shareable via permalinks (using "copy link")?\r\n\r\nHey @justinpark I do not think so. I\

Hey @LevisNgigi I am a bit confused about the latest changes where it is just showing a newly introduced endpoint. Would you clarify the approach here? Thank you!

> Hey @LevisNgigi I am a bit confused about the latest changes where it is just showing a newly introduced endpoint. Would you clarify the approach here? Thank you!\r\n\r\nHey @geido This endpoint already existed in the project "/api/v1/query/{pk}". I added custom implementation on the endpoint to add ownership validation to ensure only the query owner or authorized users can access it.Those with "can_read", "SavedQuery" permission. The custom implementation I added addresses this gap,by ensuring that users with sqllab role can view shared query via the url.

Hey @justinpark I made queries shareable via permalink here as well.

LGTM

> Awesome! Thanks for making sure it works with catalogs as well!\r\n\r\nPleasure is mine.

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

Sorry, please ignore

/korbit_review

hey @rusackas thanks for reviewing! any chance we could merge this? 

@US579 looks like a rebase is needed to fix the e2e test that is failing.

> @US579 looks like a rebase is needed to fix the e2e test that is failing.\r\n\r\nthanks, pipeline has been fixed

@sadpandajoe any choice we could merge this? please let me know if there is anything pending

@michael-s-molina we have a `hold:next-major:migration` label... should we have just a plain `hold:next-major` label, too, for times like this?

> @michael-s-molina we have a `hold:next-major:migration` label... should we have just a plain `hold:next-major` label, too, for times like this?\r\n\r\nThat sounds good.

I have a question regarding this: In the email thread on Superset 4.0 breaking changes, I opposed this change, since this is a problem with very large underlying data tables or views. \r\n@villebro said \r\n> "I\

Hi @mattitoo. We added a configuration to the Database Connections to make it possible to disable drill to detail. This essentially removes the need for a specific feature flag. \r\n\r\nI updated the [card](https://github.com/orgs/apache/projects/345?pane=issue&itemId=59020597) in the 5.0 project board to more accurately describe the proposal.\r\n\r\n<img width="505" alt="Screenshot 2024-12-18 at 09 13 33" src="https://github.com/user-attachments/assets/9aae6589-b4be-417f-9356-0a0e665c5565" />

Updated the PR description to correctly link to and close the issue.

/testenv up

To repro the same bug:\r\nPlease follow the steps\r\n\r\n1. Go to Dashboards\r\n2. add `+ Dashboard`\r\n3. create a new chart\r\n4. `search big number`\r\n5. Add big number\r\n6. Add dataset (search sales and add - cleaned_sales_data)\r\n7. from left side Colums drag sales and drop to Metric\r\n8. Simply save it (sum)\r\n9. Go to customize and increase the font to huge\r\n10. Format .3% or ,d like that which gives more number in header\r\n11. save and goto dashboard u can see the bug --- Thank You\r\nI will also share a video

Restarting the failing e2e test since it sure seems unrelated. This is what it was, for the record, in case it happens again:\r\n\r\n<img width="1116" alt="image" src="https://github.com/user-attachments/assets/2f8f5db0-2919-4cc0-9c51-1b69bafda9b8" />\r\n

Yeah I tried my luck like 5+ times, at this point I feel like leaving that one step in previous ubuntu and moving on with our lives.

/testenv up\r\n

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12265074631).

@mistercrunch Ephemeral environment spinning up at http://54.149.181.65:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12265996626).

@mistercrunch Ephemeral environment creation failed. Please check the Actions logs for details.

@mistercrunch Ephemeral environment creation failed. Please check the Actions logs for details.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12267041297).

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12267051641).

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12267240106).

@mistercrunch Ephemeral environment spinning up at http://34.209.140.91:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12267886659).

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12268252814).

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12268331707).

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12268566694).

@mistercrunch Ephemeral environment creation failed. Please check the Actions logs for details.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12269190170).

@mistercrunch Ephemeral environment creation failed. Please check the Actions logs for details.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12270500292).

@mistercrunch Ephemeral environment spinning up at http://54.148.118.178:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

Hmm, interesting. It would just need a little dialing in if that can be done. As one example it gives a 0 for "signed releases" because it\

Thanks for the feedback @rusackas, I haven\

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12263849078).

@eschutho Ephemeral environment spinning up at http://54.148.118.178:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

closing in favor of https://github.com/apache/superset/pull/31385

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12266546580).

@eschutho Ephemeral environment creation failed. Please check the Actions logs for details.

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12267966822).

@eschutho Ephemeral environment creation failed. Please check the Actions logs for details.

from my troubleshoot \r\n- uv has some quirks around switching users\r\n- docker cache works in mysterious ways, somehow my setup was working with what I assume was older docker cache that should have been validated (?)\r\n\r\nRolling back using `uv` in docker, tested it works from clean cache

closing in favor of https://github.com/apache/superset/pull/31385

Due to the significant changes, failing tests and lack of response to review comments, I assume this was supposed to target a fork, not upstream. Closing, but feel free to reopen if this is not the case.

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12247020487).

@eschutho Ephemeral environment spinning up at http://34.219.200.53:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12247544402).

@eschutho Ephemeral environment spinning up at http://52.33.205.29:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12249081918).

@eschutho Ephemeral environment spinning up at http://54.244.170.62:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

That first commit worked but not the last one. I need to tweak the env var directory lookup a bit. 

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12260236419).

@eschutho Ephemeral environment spinning up at http://54.244.170.62:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up\r\n

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12263181651).

@eschutho Ephemeral environment spinning up at http://54.244.170.62:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12263714444).

@eschutho Ephemeral environment spinning up at http://34.220.183.190:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12265798198).

@eschutho Ephemeral environment spinning up at http://34.209.140.91:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

closing in favor of https://github.com/apache/superset/pull/31385

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12267028201).

@eschutho Ephemeral environment spinning up at http://44.243.18.92:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12267784110).

@eschutho Ephemeral environment spinning up at http://54.149.181.65:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@tahvane1 the changes here have linting issues. I suggest installing `pre-commit` hooks to automatically fix these issues.

img2pdf is using GNU Lesser General Public License v3 and it seems that it is not accepted in ASF projects. So need to look for alternative approach then.

Resolution does not fix issue. I can get similar quality by setting quality=100 but this results to a pdf that has double the size what img2pdf produces. I will continue my testings...

FYI I converted this to draft. @tahvane1 please feel free to change it back to non-draft if you find a new ASF-compliant way to fix this issue.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13009797709). Action: **up**.

@ Ephemeral environment spinning up at http://34.216.170.82:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13011895625). Action: **up**.

@ Ephemeral environment spinning up at http://34.209.140.91:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13030834626). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13030933221). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13031516166). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13031954456). Action: **up**.

@dpgaspar Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/13031998858). Action: **up**.

@dpgaspar Ephemeral environment spinning up at http://52.33.205.29:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@mistercrunch @avivkeller thank you for the reviews!

Fixed and committed a little linting issue nag, and re-ran CI. Hopefully it passes this time.\r\n\r\nSuperset uses Git pre-commit hooks courtesy of [pre-commit](https://pre-commit.com/). To install run the following:\r\n```\r\npip3 install -r requirements/development.txt\r\npre-commit install\r\nA series of checks will now run when you make a git commit.\r\n```\r\nAlternatively it is possible to run pre-commit by running pre-commit manually:\r\n```\r\npre-commit run --all-files\r\n``` 

Thanks for the fix! Re-running CI after fixing a small linting issue. Hopefully it passes, but nag us if it needs more attention!

/testenv up

@eschutho Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12839369800).

/korbit-review

Running CI ü§û 

@rusackas It looks like the icons are vertically misaligned in the screenshot.

I think having the divider designed similarly to the filter can cause confusion.\r\nHow about changing it to make the divider block easily recognizable, rather than using an icon like this?\r\n\r\n![USA_Births_Names](https://github.com/user-attachments/assets/d06386a0-dc68-4a91-973f-f57ef51a2275)\r\n\r\n

Just noting that there are no icon currently. You could remove the icons and that would make this PR focussed on the trigger.\r\n\r\nIn terms of design, one option could be to `border-bottom` the container div, looking like an underline going across the panel. I would look similar to what it looks like in the dashboard (text with a horizontal bar underneat)

for reference -> <img width="323" alt="Screenshot 2024-12-11 at 1 00 42\u202fPM" src="https://github.com/user-attachments/assets/19ae88e4-8241-4a94-b12c-dbac6a93f222" />\r\n

Ok, seems I\

Looks clean @mistercrunch! Two things from me me: \r\n- icons seems big on comparison to the rest of the items in the row - what size is it? \r\n- I like pill for duration, but I think using it for timestamp might be too much - we have so many different items that it can get overwhelming and in other places we just use text for timestamp \r\n\r\nThoughts? 

@kasiazjc -> screenshot based on latest tweaks\r\n<img width="665" alt="Screenshot 2024-12-09 at 10 28 53\u202fAM" src="https://github.com/user-attachments/assets/b31433f8-d35a-4602-95a4-b0d84c428fdb">\r\n\r\nThinking a bit more about it, I\

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12243425179).

@mistercrunch Ephemeral environment spinning up at http://44.243.18.92:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

> @kasiazjc -> screenshot based on latest tweaks <img alt="Screenshot 2024-12-09 at 10 28 53\u202fAM" width="665" src="https://private-user-images.githubusercontent.com/487433/393958370-b31433f8-d35a-4602-95a4-b0d84c428fdb.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzM4NDY0OTAsIm5iZiI6MTczMzg0NjE5MCwicGF0aCI6Ii80ODc0MzMvMzkzOTU4MzcwLWIzMTQzM2Y4LWQzNWEtNDYwMi05NWE0LWIwZDg0YzQyOGZkYi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQxMjEwJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MTIxMFQxNTU2MzBaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT05NmE4YmNjMGY1Y2YwYzhlMWExMTgzYWVhMWRhMmQ3ODczNmQyOWIwZWI2NzU3ODBiMjk1MTFjZmUxM2M0NzJhJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.VhU_UVIJJJiWB-b6mDrktWOY1EKlEUVrHaVtzC8LUMc">\r\n> \r\n> Thinking a bit more about it, I\

<img width="106" alt="image" src="https://github.com/user-attachments/assets/8e4dbc2e-f034-4aba-9750-aa0c8d4cc440">\r\nThis progress bar misalignment is nagging at me... I\

@rusackas addressed the comments, probably mergeable as net positive

LGTM!

Ok, so I removed the nasty `SIMULATE_SLOW_ANALYTICS_DATABASE` feature flag, and I\

/korbit-review

> LGTM, thank you for the contribution!\r\n\r\nPleasure is mine.

Believe me, the pleasure is mutual :) We love love love contribs.

@dependabot rebase

@dependabot recreate

@dependabot recreate

@dependabot recreate

@rusackas This PR and the Datepicker PR kind of depend on each other since Ant design v4 uses Moment and v5 uses Dayjs. In my opinion finishing the Moment to Dayjs migration on datepicker PR is the most straightforward way.

Why timezones are removed? (dedup...) This broke timezones in alerts & reports...

@tahvane1 Hey, can you explain what exactly is broken in alerts and reports?

>  we could do an additional PUT\r\n\r\nit didn\

> it didn\

> @jasgok Could describe the problem you\

This is a good improvement already, I\

![200w (1)](https://github.com/user-attachments/assets/321d6fc2-bc03-448f-be03-66dd2fca6ba5)\r\n

Just need a Cypress codeowner stamp from @geido @eschutho or @betodealmeida to squeeze this one through ü§û 

actually I have an idea, let me try something

Closing this as #31341 supersedes this PR

@sadpandajoe curious on your thoughts about timing, for context the follow up PR would touch the backend with minor linting tweaks, maybe 300 LoC across the backend.

@michael-s-molina do you still think we should hold back on the 5.0 process or can I just merge?

Fast-follow here -> https://github.com/apache/superset/pull/31447

This is phenomenal @Vitor-Avila - HUGE!  üéâ üöÄ üíú 

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

Fixed on the supersetbot side

@betodealmeida what do you think?

@dpgaspar any thoughts on this one as you may be more familiar with the deps here (?)

Looking to test this today and see if that fixes things. Merging and testing since this needs to be in `master` to work

@dependabot rebase

Superseded by #31574.

Superseded by #31311.

Superseded by #31543.

Superseded by #31389.

Superseded by #31538.

Superseded by #31530.

<img src="https://media4.giphy.com/media/X1z2N6aSHqiNW/giphy-downsized-medium.gif"/>

@dependabot rebase

v4.0.0 breaking change: Requires Node@^12.22.0 || ^14.17.0 || >=16.0.0\r\nv5.0.0 breaking change: Requires @testing-library/dom@^8.0.0 || ^9.0.0

@dependabot rebase

Superseded by #31388.

Thanks for taking this on.... is there still hope? ü§û 

@birkskyum I am very interested in this temporary solution before fully migrating to MapLibre. Do I understand correctly that once this is merged then I can choose to use maplibre as underneath lib in react-map-gl to display the map and if at the same time I use maptiler tiles service then I am cleanly cut off from the MapBox right?\r\n\r\nI saw this PR is closed, do you know when this can be merged into master?

At the same time, is it possible to build a Superset docker with this upgrade change and use it local for testing purpose?

> Thanks for taking this on.... is there still hope? ü§û\r\n\r\n@rusackas do you know the status of this pull request? Is it ready to be merged? I am trying to run the build on top of this feature branch but getting dependencies error as below\r\n\r\n2025-01-08 19:57:22 npm error Found: react@16.14.0\r\n2025-01-08 19:57:22 npm error node_modules/react\r\n2025-01-08 19:57:22 npm error   react@"^16.13.1" from the root project\r\n2025-01-08 19:57:22 npm error\r\n2025-01-08 19:57:22 npm error Could not resolve dependency:\r\n2025-01-08 19:57:22 npm error peer react@"^17.0.0 || ^18.0.0 || ^19.0.0" from react-intersection-observer@9.14.1\r\n2025-01-08 19:57:22 npm error node_modules/react-intersection-observer\r\n2025-01-08 19:57:22 npm error   react-intersection-observer@"^9.10.2" from the root project\r\n2025-01-08 19:57:22 npm error\r\n2025-01-08 19:57:22 npm error Fix the upstream dependency conflict, or retry\r\n2025-01-08 19:57:22 npm error this command with --force or --legacy-peer-deps\r\n2025-01-08 19:57:22 npm error to accept an incorrect (and potentially broken) dependency resolution.\r\n

Thanks for the PR @dpgaspar. Could you add something to `UPDATING.md`?

> Thanks for the PR @dpgaspar. Could you add something to `UPDATING.md`?\r\n\r\nok added

/testenv up\r\n

/testenv up

@sadpandajoe Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12057108822).

@sadpandajoe Ephemeral environment spinning up at http://34.220.122.153:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Thanks for the PR. I just submitted a small commit to clean up a few things

@AnTapTanhCode, thanks for checking this. I have verified the behavior in my test environment, and the cache-warmup process successfully caches, and the charts/dashboards retrieve data as expected.\r\n\r\nIt seems that your case, where a different cache is fetched and cached instead of the warm-up-cached data, might require further investigation. However, I believe this issue is unrelated to this PR. If needed, please open a new issue with reproducible steps, and we can debug it further later.\r\n\r\n\r\n<img width="884" alt="image" src="https://github.com/user-attachments/assets/869effd0-106c-4589-a97e-f70e0f82e5a1">\r\n\r\n\r\n<img width="897" alt="Screenshot 2024-12-04 at 6 49 05\u202fPM" src="https://github.com/user-attachments/assets/7ffd88a0-8021-41bc-8f9a-de0f586c7561">\r\n

Thanks for your guidance and support!\r\n

@DLT1412 thanks for the PR. Do you mind adding tests for this?

@LevisNgigi should this PR be a refactor instead of a chore?

> @LevisNgigi should this PR be a refactor instead of a chore?\r\n\r\n@sadpandajoe Let me change it

/testenv up

@geido Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12203687063).

@geido Ephemeral environment spinning up at http://null:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

> Changes look good to me.\r\n> \r\n> When OAuth2 client info is changed through `DATABASE_OAUTH2_CLIENTS` in the `config.py` file, will the purge trigger as well, or only when a `PUT` request is made to the db connection?\r\n\r\nAh, good point! I added a notice to the `config.py` about this, if people are changing the `config.py` file they should be able to handle the token deletion themselves.

Why the heck does this need approval for CI? I was tempted to just click the button, but I figured it might be more helpful to leave it in the "broken" state.

Also the logic in your spec should have some unit tests.

/testenv up

@giftig Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12011316971).

@giftig Ephemeral environment spinning up at http://18.237.77.159:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Hi! I appreciate the change, but the change needs to be made in the Jupyter notebook. I hope [this](https://preset.io/blog/how-and-when-and-why-to-update-apache-supersets-country-maps/) helps :) \r\n

> Hi! I appreciate the change, but the change needs to be made in the Jupyter notebook. I hope [this](https://preset.io/blog/how-and-when-and-why-to-update-apache-supersets-country-maps/) helps :)\r\n\r\nHello @rusackas thanks for your feedback.\r\n\r\nThe GeoJSON has been made by hand in order to simplify some geometries (e.g. French Polynesia has a lot of islands, but I only kept the main one which is Tahiti).\r\nThus, can I upload it on a private repo, and then sync it with Jupyter like it has been done for India here?\r\n\r\n![image](https://github.com/user-attachments/assets/28a0a67a-a40d-4b10-8220-970d92807cb4)\r\n

@rusackas I adapted my PR with your recommendations.\r\n\r\n1. I created a geojson and hosted it on my own repo.\r\n2. I updated the Jupyter Notebook project so that it takes my geojson file, based on the same approach as the one used for Philippines.\r\n\r\nI added a step to plot all countries from the "altmaps" in order to preview all maps that are a little more customized. We can see the new France Overseas results right here :).\r\n\r\n![image](https://github.com/user-attachments/assets/2f58d39f-3d53-4472-ad5d-9533c9696648)\r\n

Hello @rusackas @villebro just a kind reminder for this PR\r\n\r\nPlease tell me if you need anything else from me

Just updated my code. Everything is now built through Jupyter.\r\n\r\n![image](https://github.com/user-attachments/assets/9b635f04-a255-4f55-b434-8fabd135ff44)\r\n\r\nand the result in Superset:\r\n\r\n\r\n![image](https://github.com/user-attachments/assets/44816124-22d5-4627-8e3d-dd0312bc18a1)\r\n

Well, when we talk about France without adding more precision, we most of the time talk about France with its 5 overseas departments (called DROM for D√©partements et R√©gions d\

After discussions with @rusackas here are some additional considerations.\r\n\r\nThe old map for France is actually the one with only French departments, including islands that are considered as departments\r\nMy map in this PR is the map of departments, plus the French additional territories that have their autonomy and that are not included as departments regarding administrative authorities.\r\n\r\nAs is, this PR adds a 3rd map for France which might be considered as "la lot" of maps for only one country!\r\n\r\nI think we have two options:\r\n\r\nOption A: we add my map as a third map of France\r\n- Benefits: nothing changes for actual Superset users that use the existing France map (departments or regions)\r\n- Bad side: it adds a third map of France, which could be considered like a lot for non French people :sourire:\r\n\r\nOption B: we merge maps of France to keep only two. I could for example replace the existing \

Running CI... thanks again for your help here!

<img src="https://media4.giphy.com/media/Rh4vxHtcmVyHUyugXP/giphy.gif"/>

Trying to eat the snadwich in one bite here. Going to have to unleash supersetbot on it and take it one bite at a time.

Testing comment to validate that I switched off the reply from github-actions after every comment. Expecting to NOT see a comment like the one above this one.

@ Ephemeral environment creation failed. Please check the Actions logs for details.

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/11982680875).

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/11982701418).

@ Ephemeral environment spinning up at http://34.220.183.190:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Took a moment after getting the message, but the envrionment works, merging!

Can you use `refactor` instead of `chore` for the PR title?

Maybe it would be nice to use `refactor` instead of `chore` for this type of PR.

Maybe it would be nice to use `refactor` instead of `chore` for this type of PR.

> Maybe it would be nice to use `refactor` instead of `chore` for this type of PR.\r\n\r\ngood point ü§¶ will keep that in mind next time

/korbit-review\r\n

Docker build keeps failing, but I can compile the code locally without any problem. @mistercrunch can it be related to your recent docker changes?

/testenv up

@kgabryje Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12690683994).

@kgabryje Ephemeral environment spinning up at http://34.209.140.91:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@msyavuz I\

> @msyavuz I\

/testenv up

@mistercrunch Ephemeral environment creation failed. Please check the Actions logs for details.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/11982917357).

@mistercrunch Ephemeral environment spinning up at http://35.91.6.124:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/11998132675).

/testenv up

@mistercrunch Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/11998572968).

@mistercrunch Ephemeral environment spinning up at http://18.237.77.159:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Found bug with cross-filtering. Converting to draft for now.

Little hint for beginner needed.\r\nBug that I found is not connected with this PR (checked in master & v4.0.1 release).\r\nCan I fix it in this PR or should I fix it in a separate one?

Is user impersonation really needed for OAuth? I would have assumed OAuth mostly makes user impersonation redundant, as you already have full user-specific authentication in place (no need for a service account).

Thanks! Running CI ü§û 

Looks like you need to run the pre-commit hook.\r\nSuperset uses Git pre-commit hooks courtesy of [pre-commit](https://pre-commit.com/). To install run the following:\r\n```\r\npip3 install -r requirements/development.txt\r\npre-commit install\r\nA series of checks will now run when you make a git commit.\r\n```\r\nAlternatively it is possible to run pre-commit by running pre-commit manually:\r\n```\r\npre-commit run --all-files\r\n``` 

Looks like these dependencies are no longer being updated by Dependabot, so this is no longer needed.

Hey @alexandrusoare thanks for the contribution, I think there is a minor cosmetic issue when dragging\r\n\r\n![Untitled](https://github.com/user-attachments/assets/ff7c41c9-9861-4214-be8a-b584cd104df7)\r\n

### UPDATE: Export Pivot Tables into CSV Format\r\n\r\nIn the last commit, I made a small change to export pivot tables without flattening multi-index rows/columns. This feature, initially implemented by the community for managing JSON export, is particularly unhelpful when dealing with pivot tables exported into CSV format with a large number of columns corresponding to a multi-index.\r\n\r\nTo better explain the issue, I have attached an example. If I create a pivot table with many columns associated with multi-index rows, the flattening process transforms them into a single column with a field value obtained by concatenating all fields separated by a space. This approach is not very effective if we want to use these exports in Excel or other tools.\r\n\r\n##### Example:\r\n\r\nI created this pivot table using your example dataset:\r\n\r\n![pivot_table](https://github.com/user-attachments/assets/9f71798c-36d2-4989-b8e4-1f9cc5f790b7)\r\n\r\nThe AS-IS behavior generates this type of file, where the MultiIndex columns get collapsed into one row and MultiIndex Rows get merged into a single column, obtained by concatenating all fields separated by a space. This export is not very easy to use in Excel for the next steps.\r\n\r\n![image](https://github.com/user-attachments/assets/c142d4b3-2a48-4fbf-afe9-15b48121f9a5)\r\n\r\n[export_as_is_20241119_101212.csv](https://github.com/user-attachments/files/17814564/export_as_is_20241119_101212.csv)\r\n\r\nThe TO-BE behavior generates this type of file, where the MultiIndex rows/columns get preserved:\r\n\r\n![image](https://github.com/user-attachments/assets/7796e2a6-031a-415a-abf5-ed460244bbfb)\r\n\r\n[export_to_be_20241119_100853.csv](https://github.com/user-attachments/files/17814637/export_to_be_20241119_100853.csv)\r\n\r\n\r\n#### Code Complete\r\n\r\n~~~python\r\ndef apply_post_process(\r\n    result: dict[Any, Any],\r\n    form_data: Optional[dict[str, Any]] = None,\r\n    datasource: Optional[Union["BaseDatasource", "Query"]] = None,\r\n) -> dict[Any, Any]:\r\n    form_data = form_data or {}\r\n\r\n    viz_type = form_data.get("viz_type")\r\n    if viz_type not in post_processors:\r\n        return result\r\n\r\n    post_processor = post_processors[viz_type]\r\n\r\n    for query in result["queries"]:\r\n        if query["result_format"] not in (rf.value for rf in ChartDataResultFormat):\r\n            raise Exception(  # pylint: disable=broad-exception-raised\r\n                f"Result format {query[\

I was trying to help with fixing (not fishing, as I mis-typed) some of the lining issues... hope that helps.

Running CI again... then hopefully we can get a test environment spun up. 

thanks for formatting... kicking CI to run it again.

> thanks for formatting... kicking CI to run it again.\r\n\r\nThank you for your patience üíØ 

These PRs from Kamil always make me soo happy! ‚ù§Ô∏è 

/testenv up

@villebro Ephemeral environment spinning up at http://52.38.80.189:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@villebro Ephemeral environment spinning up at http://35.91.239.242:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@villebro  unfortunately the ephemeral environments have been broken for some time now üôÅ 

Neat AI summary provided by @rusackas üôÇ \r\n\r\n\r\nKey changes include:\r\n1. Memoization optimizations:\r\n    - Added useMemo/useCallback hooks throughout components\r\n    - Memoized selectors with createSelector\r\n    - Reduced unnecessary re-renders\r\n2. Component modernization:\r\n    - Converted class components to functional components with hooks\r\n    - Removed redundant Redux connections in favor of useSelector/useDispatch\r\n    - Simplified prop passing and state management\r\n3. Architecture improvements:\r\n    - Moved Chart container logic directly into component\r\n    - Simplified data flow and prop drilling\r\n    - Better separation of concerns\r\n  \r\nThe main potential risk areas to watch:\r\n1. FilterBar and native filtering changes - ensure filter state management remains consistent with previous behavior\r\n2. Chart component refactoring - verify chart rendering and updates work correctly, especially around:\r\n    - Data loading states\r\n    - Filter interactions\r\n    - Resize handling\r\n3. Tab/Dashboard navigation - confirm tab state management and routing remains intact\r\n\r\n\r\nRecommend thorough testing of:\r\n    - Filter interactions\r\n    - Chart loading/rendering\r\n    - Dashboard navigation\r\n    - Cross-filter functionality\r\n    - Dashboard state persistence\r\n

@villebro Some pre-check (helm docs modified?)  failed for the previous commit, should I perform some additional action?

Ok guys i hope i got it this time\r\n![image](https://github.com/user-attachments/assets/2c3a2142-716f-490c-b29e-ba80df505435)\r\n

@villebro Can I ask for review please?

hey @villebro  would it be possible to get this PR reviewed soon?

cc @michael-s-molina 

That was fast. Thanks for the quick merge!

@amotl if you\

@kgabryje ok, do you mean that setting ` ENABLE_DASHBOARD_DOWNLOAD_WEBDRIVER_SCREENSHOT = True ` would be enough to have the pdf generated on the backend?\r\n\r\nI thought that is only for scheduled dashboards

> @kgabryje ok, do you mean that setting `ENABLE_DASHBOARD_DOWNLOAD_WEBDRIVER_SCREENSHOT = True` would be enough to have the pdf generated on the backend?\r\n> \r\n> I thought that is only for scheduled dashboards\r\n\r\nNo, that feature flag enables downloading dashboard as an image through Selenium, not client-side. I meant that we should do a similar thing for downloading as PDF to fix the problem with loading charts

closing this PR as not relevant anymore

LGTM, put pinging some folks that probably know Trino better than me ;)

blocking issue: https://github.com/apache/superset/issues/30919

Marking as draft until the docker image is published.

@lodu please rebase and update the chart version to 0.13.2, as I needed to bump the version here to 0.13.1: #30924

Since [4.1.1 docker images are available](https://hub.docker.com/r/apache/superset/tags?name=4.1.1), this request can be merged.

/testenv up

@eschutho Ephemeral environment spinning up at http://35.91.6.124:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

closing branch in favor of https://github.com/apache/superset/pull/30903

This is a total pain, super happy to see this potentially get fixed soon! ‚ù§Ô∏è 

Small typing suggestions, other than that the code looks great üëç 

@dkrat7 to my knowledge, columns are not dropped based on whether row level data are available for that column, but based upon whether the column is selected as part of the query. In your case, the columns will be dropped until the query is edited to include the desired columns.\r\n\r\nPoint being, if your query would include (or exclude) a column, then the virtual dataset will be synced to reflect the state of that query upon save.

/testenv up

> What will happen if I accidently make a change to a query which will result in zero rows returned - all columns including metadata will be permanently removed?\r\n\r\nIt should be fine, since the cursor should still return a description of the columns even if the number of rows is 0. For example, for Postgres:\r\n\r\n```python\r\nimport psycopg2\r\n\r\nquery = "SELECT * FROM your_table WHERE 1=0;"  # Query guaranteed to return zero rows\r\n\r\ndb_config = {\r\n    "dbname": "DB",\r\n    "user": "user",\r\n    "password": "password",\r\n    "host": "host",\r\n    "port": 5432,\r\n}\r\n\r\nwith psycopg2.connect(**db_config) as conn:\r\n    with conn.cursor() as cursor:\r\n        cursor.execute(query)\r\n\r\n        print("Cursor description:")\r\n        for col in cursor.description:\r\n            print(\r\n                f"Name: {col.name}, Type: {col.type_code}, Display Size: {col.display_size}"\r\n            )\r\n```\r\n\r\nFor a test table this prints:\r\n\r\n```\r\nCursor description:\r\nName: show_id, Type: 25, Display Size: None\r\nName: type, Type: 25, Display Size: None\r\nName: title, Type: 25, Display Size: None\r\nName: director, Type: 25, Display Size: None\r\nName: country, Type: 25, Display Size: None\r\nName: date_added, Type: 25, Display Size: None\r\nName: release_year, Type: 23, Display Size: None\r\nName: rating, Type: 25, Display Size: None\r\nName: duration, Type: 25, Display Size: None\r\nName: listed_in, Type: 25, Display Size: None\r\nName: description, Type: 25, Display Size: None\r\nName: iso_date_added, Type: 25, Display Size: None\r\nName: iso_release_year, Type: 25, Display Size: None\r\nName: xata_version, Type: 23, Display Size: None\r\nName: xata_createdat, Type: 1184, Display Size: None\r\nName: xata_updatedat, Type: 1184, Display Size: None\r\nName: xata_id, Type: 25, Display Size: None\r\n```

FYI @yousoph 

LGTM, but @eschutho might be better poised to actually _test_ this before approving/merging.

@eschutho thanks for reviewing, pipeline fixed, could you merge it?

Think you could give this a pat down @betodealmeida ?

Is this a blocker or can this still be reviewed and merged?

Ah, let me take a look!

hey @rusackas !! can i connect with you on slack or something, i have some doubts regarding the setup of the codebase

By all means, [slack](http://bit.ly/join-superset-slack) away... or start a GitHub Discussion and tag me there if you want more eyes on it.

hey @rusackas , can you check it now

@samarsrivastav looks like there are some failures with pre-commit hooks. Mind running them?

Thank you @samarsrivastav! Looks good!

Thanks @samarsrivastav !

@gooroodev review

@rusackas Can you please review this PR. Thanks!

/testenv up

@sadpandajoe Ephemeral environment spinning up at http://34.210.58.93:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

/testenv up

@mistercrunch Ephemeral environment spinning up at http://34.220.122.153:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Just a note that the test above operated from the main branch, since the changes are on the GHA workflow itself.

I think the issue is looking a bit different now. Previously, it did not respond at all. Right now, the bot responds but the ephemeral shows a 500 server error. This is happen consistently in every PR I tried. 

@mistercrunch @geido \r\n\r\nSeeing this error on the logs: ModuleNotFoundError: No module named \

> ModuleNotFoundError: No module named \

/testenv up

/testenv up

Manually triggered with `gh workflow run ephemeral-env.yml --ref fix_ephemerals --field comment_body="/testenv up" --field issue_number=30870` 

Latest test run -> https://github.com/apache/superset/actions/runs/11964471179/job/33357016642

@ Ephemeral environment spinning up at http://54.202.175.138:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Thank you for your review.\r\nOur organization has not decided to use Superset yet. I will add it when I will contribute Superset again after our org stating to use it. Thanks.

@dependabot rebase

Superseded by #30971.

@gooroodev please review

@gooroodev review

Ooooh, looks like it\

Hi @sadpandajoe, thanks for the question and the review! This change is intended to be compatible with the original tabbing behavior from #26138. Please let me know if there‚Äôs anything specific you‚Äôd like me to focus on!

@dependabot recreate

Thank you for the PR @asher-lab. Could you add unit tests for the new feature with the feature flag on and off?

> Could you provide guidance on creating a unit test for this new feature? I have limited experience with writing unit tests, so any help would be appreciated.\r\n\r\nHi @asher-lab. You can check this [file](https://github.com/apache/superset/blob/master/tests/unit_tests/dashboards/commands/importers/v1/import_test.py) for examples.

Hi @michael-s-molina . Added unit tests for the new feature with the feature flag TAGGING_SYSTEM on and off. Thank you.

I seen a bunch of tests: 10 are failing and 23 are successful. Could you provide what tests that I need to look at?

Thank you so much @asher-lab! This is super cool and very useful üòç üôå I left a few comments, and I plan to give it another pass Tomorrow.

Hi @Vitor-Avila , we have fixed the integration test issue, updated it to use "tags" instead of "tag" and update filter using TagType. Thank you!

Hi @Vitor-Avila and @michael-s-molina, if these are merged in, when is the expected date it be released?

Currently fixing the tests that are failing. Will be making a commit in order to fix those. Thank you. I realized that we need to work with pre-commit checks and integration tests...

Good morning team, @rusackas @Vitor-Avila and @michael-s-molina. Could I get another run for this one please. I did run it on my own fork and all tests have passed. ü§û

hey @asher-lab,\r\nSorry for the delay on my end. Approved the workflows and hoping to check it today

Hello @betodealmeida , we have refrained from the use of inspect. Kindly let me know your comments on this. Looking forward for the next steps. cc @Vitor-Avila requesting to run the check again please üòä Thank you. 

Hello @betodealmeida could I get another review and run please. Thank you! cc: @Vitor-Avila  and @rusackas 

Good morning @betodealmeida , resolve the merge conflicts one more run please. Thank you!

Good morning team, could we get a follow up on this PR please. @betodealmeida  @Vitor-Avila @michael-s-molina . Thank you very much!

Noted on this Vitor, waiting for @betodealmeida feedback. Thank you! :)

Thank you Beto, these are noted and have a happy holidays! Will be making these changes after the Holidays!!  ETA is January 12, 2025

Good morning @betodealmeida and @Vitor-Avila , could I get another run for the pipeline please. Thank you!!

Good morning @betodealmeida and @Vitor-Avila could I get another run please? I did fix the issue with one of the tests. Thank you so much.

Thank you @betodealmeida  and @Vitor-Avila. All checks have passed. Are we ready for merging our superset changes? If there is something that needs change/update. Please let me know. Thank you!

Thank you @betodealmeida and @Vitor-Avila. All checks have passed. Are we ready for merging our superset changes? If there is something that needs change/update. Please let me know. Thank you!

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

Please delete this PR. It was created accidentally.

> P.S. In the screenshots below please excuse my awful theme colors (I have those in my devenv to remind myself of the importance of theming work)\r\n\r\nü§£ ü§£ ü§£ ü§£ ü§£ ü§£ 

Hello @LevisNgigi you have a conflicting package-lock which I believe should not be there in the first place. Can you remove it?  \r\n\r\nFrom re-reading the issue description, it also seems that the goal was to make also the number of entires accessible, so that the label should read "Show X entries per page". Can we fix that?\r\n\r\nThank you!

> Hello @LevisNgigi you have a conflicting package-lock which I believe should not be there in the first place. Can you remove it?\r\n> \r\n> From re-reading the issue description, it also seems that the goal was to make also the number of entires accessible, so that the label should read "Show X entries per page". Can we fix that?\r\n> \r\n> Thank you!\r\n\r\nYes I can remove it. Not sure how it  appeared after fixing the lint issue. I have made changes. I have also deleted the package-lock file.

I still see the package-lock though. I think you can just get it from master and replace it locally so it matches.

> I still see the package-lock though. I think you can just get it from master and replace it locally so it matches.\r\n\r\nShould be fixed now.

Running CI :)

/testenv up

@geido Ephemeral environment spinning up at http://35.95.64.64:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@geido Ephemeral environment spinning up at http://34.217.30.164:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

/testenv up

@geido Ephemeral environment spinning up at http://54.190.129.182:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

One should review this https://github.com/webpack/webpack-dev-server/blob/master/migration-v5.md before merging

Requires Node.js 18

/testenv up

Just wanna make sure the markdown component works... but this generally looks fine.\r\n

/testenv up

Superseded by #31531.

@dependabot rebase

Superseded by #30832.

@dependabot rebase

Superseded by #31524.

Superseded by #31227.

Superseded by #31225.

Superseded by #30835.

@dependabot recreate

/testenv up

@yousoph Ephemeral environment spinning up at http://54.188.155.238:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@yousoph Ephemeral environment spinning up at http://35.164.246.66:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

Ephemeral environment shutdown and build artifacts deleted.

Maybe it would be interesting to have link to [FEATURE_FLAGS.md](https://github.com/apache/superset/blob/master/RESOURCES/FEATURE_FLAGS.md) at the top of `FEATURE_FLAGS` section.

@rusackas and @sadpandajoe had some ideas on how to improve this. I agree with the idea of keeping things in just one place.\r\n

Hey can we merge this as is, and defer to another task/issue of merging the content/comments in config.py into FEATURE_FLAGS.md?

> Hey can we merge this as is, and defer to another task/issue of merging the content/comments in config.py into FEATURE_FLAGS.md?\r\n\r\n@mistercrunch yeah, these would be follow-ups and not a blocker for this PR

> can you test with "allow changing catalogs enabled"?\r\n\r\nI hit an unrelated but blocking UI bug trying to edit the json object, reported on internal slack

/testenv up

@geido Ephemeral environment spinning up at http://54.185.254.128:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Thanks for the PR @vine-trellis! Would you please add some tests cases for these labels?

Ephemeral environment shutdown and build artifacts deleted.

Oops, merged before the response about test cases... but I think this is something we should handle more broadly via a lint rule, no?

@vine-trellis feel free to bring in more test cases or add a lint rule as Evan suggested. That would be super helpful!

Moving this to draft as we might change the approach here, bring back the previous frontend-generated screenshots while having the feature flag to enable Selenium generated screenshots optionally.

/testenv up

@geido Ephemeral environment spinning up at http://35.90.38.171:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Can we have a link to the PR that caused this regression? Just to make it easier to discover and understand how we can avoid these types of things in the future..

Ok, I think the [exception for the rgbcolor license](https://github.com/apache/superset/pull/30755/commits/efa3b3c592fbedee549463c84efaeef3301ffcb1) resolved CI. @villebro we need an owner approval üôèüèº 

> Can we have a link to the PR that caused this regression? Just to make it easier to discover and understand how we can avoid these types of things in the future..\r\n\r\nDescription updated

Ephemeral environment shutdown and build artifacts deleted.

Tagging @dpgaspar as our resident infra/nginx expert

```\r\nsuperset_app          | 2024-11-10 12:43:08,390:WARNING:superset.views.error_handling:HTTPException\r\nsuperset_app          | Traceback (most recent call last):\r\nsuperset_app          |   File "/usr/local/lib/python3.10/site-packages/flask/app.py", line 1484, in full_dispatch_request\r\nsuperset_app          |     rv = self.dispatch_request()\r\nsuperset_app          |   File "/usr/local/lib/python3.10/site-packages/flask/app.py", line 1458, in dispatch_request\r\nsuperset_app          |     self.raise_routing_exception(req)\r\nsuperset_app          |   File "/usr/local/lib/python3.10/site-packages/flask/app.py", line 1440, in raise_routing_exception\r\nsuperset_app          |     raise request.routing_exception  # type: ignore\r\nsuperset_app          |   File "/usr/local/lib/python3.10/site-packages/flask/ctx.py", line 353, in match_request\r\nsuperset_app          |     result = self.url_adapter.match(return_rule=True)  # type: ignore\r\nsuperset_app          |   File "/usr/local/lib/python3.10/site-packages/werkzeug/routing/map.py", line 629, in match\r\nsuperset_app          |     raise NotFound() from None\r\nsuperset_app          | werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.\r\nsuperset_app          | 2024-11-10 12:43:08,391:INFO:werkzeug:172.18.0.1 - - [10/Nov/2024 12:43:08] "GET /ws HTTP/1.1" 404 -\r\nsuperset_app          | 2024-11-10 12:43:14,907:DEBUG:superset.stats_logger:[stats_logger] (incr) health\r\nsuperset_app          | 2024-11-10 12:43:14,907:INFO:werkzeug:127.0.0.1 - - [10/Nov/2024 12:43:14] "GET /health HTTP/1.1" 200 -\r\n```\r\n\r\nUX works now but this PR needs improvements as it\

Thanks for joining the party officially!

This one requires some other packages (e.g. DeckGL) to be bumped as well.

/testenv up

@geido Ephemeral environment spinning up at http://18.236.160.116:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Thanks for the PR @msyavuz. I noticed that something is off when you have multiple avatars. The number is misaligned and hovering seems also to be broken (the arrow shows as a dark square). This is on Chrome. It does not happen on master.\r\n\r\n![Screenshot 2024-10-31 at 15 46 03](https://github.com/user-attachments/assets/c77dfcec-b91f-4660-b0c9-7ff5ce255403)\r\n\r\n![Screenshot 2024-10-31 at 15 46 13](https://github.com/user-attachments/assets/20a4b587-d4de-462a-842d-8bcd2d470347)\r\n

@geido Issue was importing from `antd-v5/lib`. I fixed it but we should be careful with other components in the future as well.

Ephemeral environment shutdown and build artifacts deleted.

@villebro thanks for initial pass üôè I addressed your feedback + removed a redundant import. Let me know if you have any questions! 

Ok this only runs on the `master` branch, so trying to force run it here prior to merging. Let me pull/push the branch and see if I can trigger with the `gh workflow` command

Running here -> https://github.com/apache/superset/actions/runs/11563861551

Realised it actually runs a script in another repo:\r\nhttps://github.com/apache-superset/supersetbot/blob/main/src/docker.js\r\n\r\nSo made a PR to change that too:\r\nhttps://github.com/apache-superset/supersetbot/pull/3\r\n\r\nüôè 

/testenv up

@geido Ephemeral environment spinning up at http://52.34.185.57:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

/testenv up

@geido Ephemeral environment spinning up at http://54.201.85.223:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

üôèüèº 

cc @fmannhardt @Mainer-g00t @fbgeobit

/testenv up

@geido Ephemeral environment spinning up at http://52.25.185.116:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

\r\nhttps://github.com/user-attachments/assets/96c90e0f-5325-4785-ba2b-243e0adcf27c\r\n\r\nGiven that the first chart belongs to a different dataset but was selected in the scope:\r\n- Should it indicate that the filter was applied?\r\n- Should the query also apply the filter?

/testenv up

@michael-s-molina Ephemeral environment spinning up at http://35.86.96.204:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

@rusackas unit tests passed. Ready to go.

Hold off on this, I\

@geotab-data-platform I don\

xaxis type defaults to "value" if not reordered and there are negative bound values. When its ordered properly, it uses "time". 

@villebro any updates?

Hi @villebro, \r\nPlease see attached the current behaviour vs after the fix.\r\n\r\n## Settings Used:\r\nChart Type: Mixed Chart\r\nyhat = 1\r\nyhat_lower = -10\r\nyhat_upper = 5\r\nquery b = 10\r\n\r\n<img width="200" alt="image" src="https://github.com/user-attachments/assets/bc4c5b2f-e9dd-463d-8579-20954bd684d5">\r\n<img width="200" alt="image" src="https://github.com/user-attachments/assets/f8e00c17-c769-4cf4-984a-0c4daeaf3061">\r\n<img width="200" alt="image" src="https://github.com/user-attachments/assets/332c7ae8-0cb4-4a3b-b6d1-4cb15251e048">\r\n\r\n## Current Behaviour\r\n\r\n<img width="626" alt="image" src="https://github.com/user-attachments/assets/20048db8-e12d-43cd-bd88-3cddab1f46f8">\r\n\r\nAs you can see, the confidence interval ranges between (0,15) instead of (-10,5).\r\n\r\n## After the fix\r\nSetting the same values we get the following response with correct confidence intervals (-10,5).\r\n\r\n<img width="1185" alt="image" src="https://github.com/user-attachments/assets/1f8ec037-202d-4108-9c29-7bcb2c4c4ebf">\r\n\r\n\r\nWhen you do not reorder the props and send them to echarts as a json to generate the chart, the echarts package will default to an x axis that uses value and not time. Additionally, the props must be ordered in the that specific order as the behaviour will not be as expected otherwise and confidence bands will not be correct.\r\n\r\n

Hi @villebro, any updates?

Any updates on this MR?

Running CI... ü§û 

> Running CI... ü§û\r\n\r\nSeems like it passed? Failled to pull some images for 2 pipelines @rusackas 

I think the unit test would help... at least it would harden the feature against someone accidentally changing the code in a way that reverts the functionality.

/testenv up

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12396737795).

tests added 

are we good to merge this?

> Looks great, thanks for the tests! Fingers crossed for CI..\r\n\r\nhad to do a quick lint fix. resolved

Restarted CI

feel free to merge ü•≥ 

/testenv up

@geido Ephemeral environment spinning up at http://34.210.89.190:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

Thank you so much for working on this!!! 

Oh, please bump the version!

> Oh, please bump the version!\r\n\r\nnice catch! completely forgot üôà 

Seems there\

@villebro fixed. Sorry for the delay

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

/testenv up

@geido Ephemeral environment spinning up at http://54.149.107.169:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

/testenv up

@geido Ephemeral environment spinning up at http://54.69.240.225:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

Running CI again... let me know if you want me to keep clicking the button, or if you have tests running locally ;) 

> Running CI again... let me know if you want me to keep clicking the button, or if you have tests running locally ;)\r\n\r\nah sorry my bad, should have run all the tests 

/testenv up FEATURE_ALERT_REPORTS=True FEATURE_ALERT_REPORT_TABS = True

@eschutho Ephemeral environment spinning up at http://35.163.133.83:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

> thanks for the feedback @yousoph ! yep i will take a look and get back to you \r\n\r\n

Can we get this into a stable release?

Looks like a mistake, this is pretty frequent, may I ask about the workflow that leads to open an upgrade-related PR on a public repo? Guessing you meant to target a fork?

Right, my mistake, I guess its caused by redirect to Apache repository despite that you are creating new PR from GitHub UI from your forked repository.. \r\n\r\n![Screenshot 2024-10-24 at 12 48 23](https://github.com/user-attachments/assets/e8b5906c-dd8e-4565-a728-62e28c7c7459)\r\n

Superseded by #30794.

> LGTM. However, should we add a lower bound here, too?\r\n> \r\n> https://github.com/apache/superset/blob/16981d63169507b39615ca9037f3b36baafba3c0/pyproject.toml#L48\r\n\r\nNo strong opinions about it

Do we need to change the translations too?

Just need to run the pre-commit hook on this :)\r\n\r\nSuperset uses Git pre-commit hooks courtesy of [pre-commit](https://pre-commit.com/). To install run the following:\r\n```\r\npip3 install -r requirements/development.txt\r\npre-commit install\r\nA series of checks will now run when you make a git commit.\r\n```\r\nAlternatively it is possible to run pre-commit by running pre-commit manually:\r\n```\r\npre-commit run --all-files\r\n``` 

Thank you @justinpark!

@Yobi-Aditias. Was this PR opened by mistake?

Please reopen with PR body in english if the intention is to have the PR reviewed

greeting @michael-s-molina and @mistercrunch, thank you for response. Yes I made this PR by accident and mistake. Thanks

THANK YOU! 

https://github.com/apache/superset/pull/30659 will handle the failed job related to invalid URLs.

One small change and one small conflict to deal with, but generally looking great. Did you hand-edit these to resolve the warnings, or is there a linter/formatter we can plug into the pre-commit hook (and/or CI)?

No problem at all. 

https://github.com/apache/superset/pull/30659 will handle the failed job related to invalid URLs.

Thank you @CodeWithEmad !

/testenv up

@geido Ephemeral environment spinning up at http://35.88.171.186:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

@EnxDev Could you please separate the changes in the Python code that are unrelated to this PR?

/testenv up

@geido Ephemeral environment spinning up at http://34.211.240.187:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

Upvote for this. This problem is annoying.

OMG thank you!

<img src="https://media1.giphy.com/media/cFkiFMDg3iFoI/giphy.gif"/>

/testenv up

@kgabryje Ephemeral environment spinning up at http://35.93.185.64:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

unintentional

@gooroodev review

@michael-s-molina do we know why two packages got removed?

@villebro It was not a dependabot change. The last two [commits](https://github.com/apache/superset/pull/28294/commits) were manual.

> It was not a dependabot change. The last two [commits](https://github.com/apache/superset/pull/28294/commits) were manual.\r\n\r\nOooh, now this makes sense. Thanks for clarifying.

@sadpandajoe do you want to cherry this into 4.1.0 since it affects the release notes?

Superseded by #30860.

/testenv up

@kgabryje Ephemeral environment spinning up at http://34.222.53.133:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Will this PR be merged in nearest future?

/testenv up

@geido Ephemeral environment spinning up at http://35.87.197.94:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@geido Ephemeral environment spinning up at http://35.161.33.58:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

Thank you @deathstrokedarksky!

@rusackas could you have a look at this pr?

Looks like these dependencies are no longer a dependency, so this is no longer needed.

And here I am adding review comments all over what looks like a funky rebase. I was about to comment "what is the scope of this PR?" ü§¶ 

Oops, gitfu fail, got thrown off by a local rebate + merged a commit from the PR 

Superseded by #30789.

@ObservabilityTeam could you fill the PR template with a proper description? Can you also add tests for the fix?

> @ObservabilityTeam could you fill the PR template with a proper description? Can you also add tests for the fix?\r\n\r\nYes, it will be looked into soon.

I have added a test for the fix. The PR description has also been updated. Please let me know if you require anything else, thanks.

Thank you for the fix @ObservabilityTeam

Moving this to draft mode, hopeful that @alecodev comes back to touch it up and mark it as "ready for review" again :)

watching 

@betodealmeida We discussed this PR during the daily PR review meeting, and we think we should aim for removing any dependency of `sqlparse` in accordance to [[SIP-117] Improve SQL parsing](https://github.com/apache/superset/issues/26786). This means that we prefer to remove formatting for these databases in favor of removing `sqlparse`. That being said, we understand that this would constitute a breaking change given that this feature exists in 4.0 for these databases. We agreed on keeping your solution but adding a `deprecated` annotation/comment to the code and remove the `sqlparse` dependency in 5.0 even if the dialects are not correctly supported by then. I added the following [ticket](https://github.com/orgs/apache/projects/345?pane=issue&itemId=83111151) to the 5.0 board. Could you add a `deprecated` annotation/comment to the code?\r\n\r\ncc @villebro @justinpark @sadpandajoe 

cc @hainenber @justinpark 

/testenv up

@geido Ephemeral environment spinning up at http://54.189.250.97:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

/testenv up

@sadpandajoe Ephemeral environment spinning up at http://34.222.140.49:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@sadpandajoe Ephemeral environment spinning up at http://54.201.170.229:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

@sadpandajoe Ephemeral environment spinning up at http://54.185.164.57:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

@villebro , sure thing, let me give it a try :) I never wrote any Javascript before, therefore happy to get some feedback :)\r\nCI setup is very useful here.

@villebro I added unit tests and fixed some bugs on the way :) Let me know what you think!

It seems there\

Thanks @villebro for your help merging this :)

@villebro any idea when this will be in the release?

/testenv up

@geido Ephemeral environment spinning up at http://34.222.13.11:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

Seems like a mistake PR.  Unintelligible changes to old release notes ü§∑ 

Superseded by #30834.

üôèüèº 

@hainenber I have confirmed that local changes made in the dev-server after this commit are not being updated live. Please run `npm run dev-server`, make a simple frontend change, and check if the updates are reflected on localhost:9000

thank you @sfirke,for pointing me to the right direction

Thank you for the improvements!

Thanks for this contribution @kkovacs !

@supersetbot orglabel

@mcdogg17 can you add more details in the summary? What are the before and after for this pr?

Hi! The very idea of PR is described in this [SIP](https://github.com/apache/superset/issues/26646). Here I\

@supersetbot orglabel

@sfirke as per Slack discussion, thank you!

Looks like there is a pre-commit linting check failing, it says to delete two spaces I think.  And then a test failing.  Can you investigate the CI failures when you get a chance, @personofnorank ?

Re-running CI :D

Looks like there is a failing Python test: https://github.com/apache/superset/actions/runs/11278958608/job/31368926066?pr=30506

Fixed a typo in the test script

Looks like tests are failing with a function getting too many arguments

In the last run the code seemed to be working but test was expecting wrong thing... maybe this time :)

@personofnorank I forgot this is still open, ack! Can we try to get it done for 5.0.0?

@sfirke sorry for slow response, just did a commit, is it too late for the release (assuming it works this time)?

Seems to be failing because of "E501 Line too long" in superset/utils/date_parser.py, although that file is full of `# pylint: disable=line-too-long,useless-suppression`\r\nThere was an actual code error which I\

This one at least looks like a real failing test:\r\n```\r\n FAIL packages/superset-ui-core/test/time-comparison/getTimeOffset.test.ts (16.271 s)\r\n  ‚óè should handle custom range with previous calendar quarter\r\n\r\n    expect(received).toEqual(expected) // deep equality\r\n\r\n    - Expected  - 1\r\n    + Received  + 1\r\n\r\n      Array [\r\n    -   "5 days ago",\r\n    +   "86 days after",\r\n      ]\r\n\r\n      48 |     includeFutureOffsets,\r\n      49 |   });\r\n    > 50 |   expect(result).toEqual(expected_result);\r\n         |                  ^\r\n      51 |   timezoneMock.unregister();\r\n      52 | };\r\n      53 |\r\n\r\n      at toEqual (packages/superset-ui-core/test/time-comparison/getTimeOffset.test.ts:50:18)\r\n      at Object.runTimezoneTest (packages/superset-ui-core/test/time-comparison/getTimeOffset.test.ts:537:3)\r\n\r\n```\r\n\r\nFrom https://github.com/apache/superset/actions/runs/13585311794/job/38000863290?pr=30506#step:4:22. Can you investigate?

Thanks, did a new push.

I\

Hey, was wondering if this is a duplicate of this? https://github.com/apache/superset/issues/31870 

/testenv up

@sadpandajoe Ephemeral environment spinning up at http://54.71.82.134:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

/testenv up

@geido Ephemeral environment spinning up at http://35.94.18.43:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

Oof.. Nice catch + fix @geido!

@dependabot recreate

@dependabot rebase

@dependabot recreate

@dependabot rebase

Superseded by https://github.com/apache/superset/pull/31560 

Superseded by #30692.

Superseded by #31213.

Superseded by #30792.

@dependabot recreate

@dependabot recreate

Superseded by #30786.

Superseded by #30790.

Superseded by #31232.

@dependabot recreate

/testenv up

@rusackas Processing your ephemeral environment request [here](https://github.com/apache/superset/actions/runs/12422431786).

@rusackas Ephemeral environment spinning up at http://35.89.6.135:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Superseded by #30587.

Superseded by #31215.

Superseded by #30778.

Superseded by #30779.

Superseded by #30801.

Superseded by #30787.

Superseded by #31226.

Superseded by #30788.

Superseded by #31223.

Minor comment from watching the screen caps, but I\

Updated the indicator with the error icon.\r\n\r\n![Screenshot 2024-10-01 at 2 00 31\u202fPM](https://github.com/user-attachments/assets/42fdf7cb-ec73-4a8f-ad52-d3cf7fbd80c0)\r\n

@sadpandajoe could you add this fix on 4.1?

Nice addition, sorry for the slow response!

Thanks for fixes!

/testenv up

@yousoph Ephemeral environment spinning up at http://52.35.184.192:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

Thanks @sadpandajoe !  FYI @Stanhoucke I added it to the 4.1.2 project board here: https://github.com/orgs/apache/projects/437/views/1  It should get evaluated at the 4.1.2 cutting and if appropriate, cherried into the release.

OK THIS IS IT! The CYPRESS SAGA IS OVER. MERGE! MERGE! MERGE! MERGE!

![hizzie-cat](https://github.com/user-attachments/assets/0a7d9144-52fb-487c-bc4f-780291c7f763)\r\n

/testenv up

@kgabryje Ephemeral environment spinning up at http://35.90.248.247:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Just realized that highlighting a filter that is not applicable should also be added as an enhancement for this PR. Working on that.

Holding on this while testing more cases

> I found some problems while testing with the ephemeral environment.\r\n\r\nThanks @michael-s-molina, I could not see many of these issues locally due to https://github.com/apache/superset/pull/30569 as I was under the false impression that I was testing the latest state of the code. I reverted that PR and now looking at these problems. Thanks for catching them!

/testenv up

@geido Ephemeral environment spinning up at http://54.214.55.123:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Great catch @sadpandajoe! Just submitted a fix for that.

/testenv up

@sadpandajoe Ephemeral environment spinning up at http://54.244.83.193:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@sadpandajoe Ephemeral environment spinning up at http://35.88.232.227:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Just a quick question, should it affect all charts if it\

Ephemeral environment shutdown and build artifacts deleted.

Not sure if this should go here or to a new issue (and I won\

@Mainer-g00t @fmannhardt as you raised concerns here, did you find that this PR broke your use cases?

> @Mainer-g00t @fmannhardt as you raised concerns here, did you find that this PR broke your use cases?\r\n\r\nYes, it does. In our case, charts export filters that are picked up by jinja logic to filter dataset with data that is not part of the columns in the dataset. Specifically, our dataset looks like:\r\n\r\n-  customer (1k), products (1k), providers(1k), metrics...\r\n\r\nThis leads to a roughly 500M row table. We split it in 3 datasets, one for each dimension and use x-filters to select on the other datasets. ie, clicking on one customer on the first table will filter all products and providers for that customer and so on.\r\n\r\nThis allows us to display relationships in big datasets breaking it up in dimensions and using x-filters\r\n\r\n\r\n

Thanks @Mainer-g00t and @fmannhardt. Let me have a deeper look at what you are mentioning.

Hi @fmannhardt @Mainer-g00t @geido. May I suggest opening a specific GitHub issue for this so we can track it [here](https://github.com/orgs/apache/projects/418)?

Hi @michael-s-molina , \r\nWe opened a new issue with use case commented by @Mainer-g00t : https://github.com/apache/superset/issues/30687\r\n\r\nThanks

Closing this as per the concerns about having a third engine in the mix. 

Could you write a unit test that would fail before and succeed after? That will help review the logic by stating the assumptions in a unit test.

Happy to do so. Since I have no clue of the testing approach of Superset, could you help me find the correct spot to test? Would the correct file be:\r\nhttps://github.com/apache/superset/blob/cc9fd88c0d2a2406f202da7dcea2f0d14f1d017e/tests/unit_tests/commands/export_test.py#L62\r\nor rather an integration test (since this also concerns code that also exports other resources:\r\nhttps://github.com/apache/superset/blob/cc9fd88c0d2a2406f202da7dcea2f0d14f1d017e/tests/integration_tests/dashboards/commands_tests.py#L67

After some more searching, the example data used in the tests comes from here:\r\nhttps://github.com/apache/superset/blob/master/superset/examples/world_bank.py\r\nand are manually created via code right? Or is there somewhere examples that exists as YAML files using the import/export feature? \r\n\r\nSearching for `native` in the examples folder does not find anything:\r\nhttps://github.com/search?q=repo%3Aapache%2Fsuperset+path%3A%2F%5Esuperset%5C%2Fexamples%5C%2F%2F+native&type=code\r\n\r\nSo, I would need to write code to create a dashboard with native filters from scratch? Or would there be a simpler way to write such test? I would need some guidance.

Hey @fmannhardt, \r\n\r\nThanks for working on this fix! üôè \r\n\r\nLooking at the code changes, I noticed you have re-introduced that code block to `file_content`, but it also remains present in the `_export` method. Is it required to have this block in both? For instance I see the `dataset_id = target.pop("datasetId", None)` in both blocks.\r\n\r\nIf we need them in both places, should we consider to move this logic to a helper/etc method to make it DRYer?

@Vitor-Avila I think it is required in both places to also invoke the export of the related datasets via `yield from ExportDatasetsCommand([dataset_id]).run()`. I agree that a refactoring would make sense. However, then there are also other parts that are duplicated such as: \r\n\r\n``` \r\n        payload = model.export_to_dict(\r\n            recursive=False,\r\n            include_parent_ref=False,\r\n            include_defaults=True,\r\n            export_uuids=True,\r\n``` \r\n\r\nIt seems to me that a completely different approach to separate the export to YAML/JSON and walking the dependency graph of the to be exported dashboard would be better. Maybe, first collecting all the dependencies and then going through the list of dependencies and exporting them. However, that would exceed the capacity that I have for contributing right now (and I am also not aware of any design decision that led to the current approach).\r\n\r\nI will try to add the test in the next few days.

It seems that I also need to write a fixture for the COVID dashboard, right? Bare with me, still exploring the setup of Superset testing and locally many other tests fail probably due to missing dependencies.  I will try to look at this tomorrow.

@fmannhardt thanks for working on this super critical regression. I will be reviewing this today and do my best to help unblock you.

Note: this is a fix for a regression that was introduced by #26765

Happy to help and thanks for the work on Superset. I may have time to look at this tomorrow (UTC+1). So, the existing fixtures hard code the dashboard and do not load from the examples? Just so I understand how to write it. It would be a copy of `world_bank_dashboard.py` but then the COVID dashboard code in there? \r\n\r\nIn case, it is easy for you to add the fixture I am also happy to update the test I wrote to work against it.

Test is disabled and current master branch is merged.

/testenv up

@sadpandajoe Ephemeral environment spinning up at http://35.167.172.107:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

Closing, as this was resolved in another PR

@betodealmeida Can you add the `sqlglot` `CHANGELOG` to the PR description to help reviewers?

@betodealmeida I noticed that there are many [breaking changes](https://github.com/tobymao/sqlglot/blob/main/CHANGELOG.md) between 23.0 and 25.24. Can any of these affect us?

> Does it make sense to raise a warning that non-numeric data has been excluded when records are coerced to NaN?\r\n\r\nGood point @fisjac. I changed the logic to let users handle non-numeric values as they might want to fix their datasets or add filters to remove these values.

@villebro Could you please take some time to review my code? Thanks a lot!

> Looking good, however, in the interest of legibility, I would prefer a slightly more explicit name for the new property.\r\n\r\n@villebro have Done! :)

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

Obrigado!

Setting this as ready for review as we may want to repeat this pattern, and having `UuidMixin` around for use is a win

error here seems unrelated to memory\r\n<img width="1417" alt="Screenshot 2024-09-25 at 6 09 42\u202fPM" src="https://github.com/user-attachments/assets/8877dcad-689d-4a1a-b45d-e4fa5bec144f">\r\n

Trying retries

Another run, another failure. Also note that apparently we do have global retries here. Next step I\

trying `os.environ["DEBUG"] = "cypress:*"`

This "cypress runner" script is only used for CI where a single error is too many. I could change it to keep running the following files and bubble up the error at the end, but failing fast here is probably desirable as the contributor would identify the error faster, and do their homework of fixing the file. It wouldn\

Done and done :) Thanks for the work here!

@betodealmeida Another idea would be to keep autoflush in our tests and check the session for pending commits/rollbacks after our tests run. This can be done globally and would work for current and new code.

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

I guess that\

@rusackas @hainenber Maybe we should require PR authors to include the CHANGELOG in the PR description when bumping minor/major versions?

Apologies all for the mess I made and thanks for fixing the horror @geido üëè\n\n@michael-s-molina I will be more dilligent in bumping minor versions in the future. Semver is only a convention, after all ü§í

> Apologies all for the mess I made and thanks for fixing the horror @geido üëè\r\n\r\n> @michael-s-molina I will be more dilligent in bumping minor versions in the future. Semver is only a convention, after all ü§í\r\n\r\nNo problem at all @hainenber. We really appreciate all the amazing contributions you have made to Superset. My comment is just to keep improving the process üòâ \r\n

We would appreciate it if you could provide us with more info about this issue/pr! Please do not leave the `title` or `description` empty.\n

My bad didnt meant to create a pull request on this repo, but on mine that I forked

/testenv up

@Antonio-RiveroMartnez Ephemeral environment spinning up at http://35.162.103.7:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

/testenv up

@Antonio-RiveroMartnez Ephemeral environment spinning up at http://54.218.73.54:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Wow, that is a nice quality of life improvement for users!  Huge potential time saver.

I think this PR is a fantastic step in the right direction ‚ù§Ô∏è \r\n\r\nIf there\

Ephemeral environment shutdown and build artifacts deleted.

> - Uplift fetch-mock to v11 + corresponding refactoring for superset-ui-core.\r\n> - Uplift following packages to latest version.\r\n>    - @testing-library/react-hooks\r\n>    - @testing-library/jest-dom\r\n>    - webpack-cli\r\n\r\nThese are dev dependencies and any breakages are detected in `frontend-build` CI. Current check is green so these uplift are safe\r\n\r\n> Move @types/* packages in superset-ui-core to devDependencies.\r\n\r\nMoving of `@types/*` package that are actual dependency will generate linting issue. This can be illustrated by moving `@types/json-bigint` into devDependencies in `superset-ui-core`. Current build is green so the uplift is safe.\r\n\r\n<img width="1050" alt="image" src="https://github.com/user-attachments/assets/919fb04c-c268-4e9f-a70a-6d45a183f08c">\r\n\r\nOnly risk is with `npm audit fix` as it might bump packages not respecting semver. However, from my inspection, they\

Resolved conflicts (hopefully correctly!) so we can get this merged ü§û 

Nice!

@rusackas this is passing CI.. I ran it again and had no errors.. can we try to merge it and test it out on master? 

Looked at `master` hoping to see some green but no :/\r\n<img width="978" alt="Screenshot 2024-09-25 at 2 35 23\u202fPM" src="https://github.com/user-attachments/assets/aec10564-4210-443f-9d27-1d645e8934a7">\r\n

Giving a shot at troubleshooting memory here -> https://github.com/apache/superset/pull/30397 , seems promising

/testenv up

@kgabryje Ephemeral environment spinning up at http://52.25.177.79:8080. Credentials are `admin`/`admin`. Please allow several minutes for bootstrapping and startup.

Ephemeral environment shutdown and build artifacts deleted.

Being picky here, but can we use a retina-grade resolution logo here?\r\n<img width="782" alt="Screenshot 2024-09-22 at 11 17 26\u202fAM" src="https://github.com/user-attachments/assets/f9e838b7-61dc-4118-acc2-cc3ae0dddf9d">\r\n

No PR talking about dialing something up should go without a reference to Spinal Tap..\r\n\r\n![image](https://github.com/user-attachments/assets/ad2aeafb-6a4c-44cd-bb1e-58a3d1e7e3c4)\r\n

Ephemeral environment shutdown and build artifacts deleted.

@betodealmeida Can you convert this to a draft?

> @betodealmeida Can you convert this to a draft?\r\n\r\nDone! I needed CI to run.

> Done! I needed CI to run.\r\n\r\nThanks. Draft PRs now run all CI checks üòâ 

In general, `remove_filter` will only work if you\

Ah thank you so much, i should then stick for the variables to_dttm and from_dttm for the moment

i have the same question on superset 4.0.2. i use :{% set time_filter = get_time_filter(column="start_time",default=\

You can find it in the beginning of the superset documentation related to jinja templation, you have to use superset variables to_dttm and from_dttm 

ÈÇÆ‰ª∂Â∑≤Êî∂Âà∞ÔºåË∞¢Ë∞¢ÔºÅ

@dependabot recreate

@dependabot rebase

@dependabot recreate

Hi @nyohasstium - just curious your thoughts on the review comments. Let us know if we can help you carry this effort forward.